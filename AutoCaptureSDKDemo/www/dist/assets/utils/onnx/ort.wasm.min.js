/*! For license information please see ort.wasm.min.js.LICENSE.txt */
"use strict";var ort=(()=>{var e,t,r,n,a,o,i,s,u,l,f,c,d,p,h,g,m,y,w,b,v,O,_,E,A,T,M,S,C,R,P,U=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,L=(e,t)=>()=>(e&&(t=e(e=0)),t),I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),k=(e,t)=>{for(var r in t)U(e,r,{get:t[r],enumerable:!0})},B=e=>((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of F(t))!x.call(e,r)&&undefined!==r&&U(e,r,{get:()=>t[r],enumerable:!(n=D(t,r))||n.enumerable});return e})(U({},"__esModule",{value:!0}),e),N=L((()=>{e=new Map,t=[],r=(r,n,a)=>{if(!n||"function"!=typeof n.init||"function"!=typeof n.createInferenceSessionHandler)throw new TypeError("not a valid backend");{let o=e.get(r);if(void 0===o)e.set(r,{backend:n,priority:a});else{if(o.priority>a)return;if(o.priority===a&&o.backend!==n)throw new Error(`cannot register backend "${r}" using priority ${a}`)}if(a>=0){let n=t.indexOf(r);-1!==n&&t.splice(n,1);for(let n=0;n<t.length;n++)if(e.get(t[n]).priority<=a)return void t.splice(n,0,r);t.push(r)}}},n=async r=>{let n=0===r.length?t:r,a=[];for(let t of n){let r=e.get(t);if(r){if(r.initialized)return r.backend;if(r.aborted)continue;let e=!!r.initPromise;try{return e||(r.initPromise=r.backend.init(t)),await r.initPromise,r.initialized=!0,r.backend}catch(n){e||a.push({name:t,err:n}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${a.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)}})),$=L((()=>{N()})),H=L((()=>{a="1.18.0"})),W=L((()=>{H(),o="warning",i={wasm:{},webgl:{},webgpu:{},versions:{common:a},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);o=e}},get logLevel(){return o}},Object.defineProperty(i,"logLevel",{enumerable:!0})})),j=L((()=>{W(),s=i})),G=L((()=>{u=(e,t)=>{let r=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);r.width=e.dims[3],r.height=e.dims[2];let n=r.getContext("2d");if(null!=n){let a,o;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(a=e.dims[2],o=e.dims[3]):(a=e.dims[3],o=e.dims[2]);let i,s,u=void 0!==t?.format?t.format:"RGB",l=t?.norm;void 0===l||void 0===l.mean?i=[255,255,255,255]:"number"==typeof l.mean?i=[l.mean,l.mean,l.mean,l.mean]:(i=[l.mean[0],l.mean[1],l.mean[2],0],void 0!==l.mean[3]&&(i[3]=l.mean[3])),void 0===l||void 0===l.bias?s=[0,0,0,0]:"number"==typeof l.bias?s=[l.bias,l.bias,l.bias,l.bias]:(s=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(s[3]=l.bias[3]));let f=o*a,c=0,d=f,p=2*f,h=-1;"RGBA"===u?(c=0,d=f,p=2*f,h=3*f):"RGB"===u?(c=0,d=f,p=2*f):"RBG"===u&&(c=0,p=f,d=2*f);for(let t=0;t<o;t++)for(let r=0;r<a;r++){let a=(e.data[c++]-s[0])*i[0],o=(e.data[d++]-s[1])*i[1],u=(e.data[p++]-s[2])*i[2],l=-1===h?255:(e.data[h++]-s[3])*i[3];n.fillStyle="rgba("+a+","+o+","+u+","+l+")",n.fillRect(r,t,1,1)}if("toDataURL"in r)return r.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")},l=(e,t)=>{let r,n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");if(null==n)throw new Error("Can not access image data");{let a,o,i;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(a=e.dims[2],o=e.dims[1],i=e.dims[3]):(a=e.dims[3],o=e.dims[2],i=e.dims[1]);let s,u,l=void 0!==t&&void 0!==t.format?t.format:"RGB",f=t?.norm;void 0===f||void 0===f.mean?s=[255,255,255,255]:"number"==typeof f.mean?s=[f.mean,f.mean,f.mean,f.mean]:(s=[f.mean[0],f.mean[1],f.mean[2],255],void 0!==f.mean[3]&&(s[3]=f.mean[3])),void 0===f||void 0===f.bias?u=[0,0,0,0]:"number"==typeof f.bias?u=[f.bias,f.bias,f.bias,f.bias]:(u=[f.bias[0],f.bias[1],f.bias[2],0],void 0!==f.bias[3]&&(u[3]=f.bias[3]));let c=o*a;if(void 0!==t&&(void 0!==t.format&&4===i&&"RGBA"!==t.format||3===i&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");let d=4,p=0,h=1,g=2,m=3,y=0,w=c,b=2*c,v=-1;"RGBA"===l?(y=0,w=c,b=2*c,v=3*c):"RGB"===l?(y=0,w=c,b=2*c):"RBG"===l&&(y=0,b=c,w=2*c),r=n.createImageData(a,o);for(let t=0;t<o*a;p+=d,h+=d,g+=d,m+=d,t++)r.data[p]=(e.data[y++]-u[0])*s[0],r.data[h]=(e.data[w++]-u[1])*s[1],r.data[g]=(e.data[b++]-u[2])*s[2],r.data[m]=-1===v?255:(e.data[v++]-u[3])*s[3]}return r}})),Y=L((()=>{q(),f=(e,t)=>{if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");let r,n,{height:a,width:o}=t,i=t.norm??{mean:255,bias:0};r="number"==typeof i.mean?[i.mean,i.mean,i.mean,i.mean]:[i.mean[0],i.mean[1],i.mean[2],i.mean[3]??255],n="number"==typeof i.bias?[i.bias,i.bias,i.bias,i.bias]:[i.bias[0],i.bias[1],i.bias[2],i.bias[3]??0];let s=void 0!==t.format?t.format:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=a*o,f="RGBA"===u?new Float32Array(4*l):new Float32Array(3*l),c=4,d=0,p=1,h=2,g=3,m=0,y=l,w=2*l,b=-1;"RGB"===s&&(c=3,d=0,p=1,h=2,g=-1),"RGBA"===u?b=3*l:"RBG"===u?(m=0,w=l,y=2*l):"BGR"===u&&(w=0,y=l,m=2*l);for(let t=0;t<l;t++,d+=c,h+=c,p+=c,g+=c)f[m++]=(e[d]+n[0])/r[0],f[y++]=(e[p]+n[1])/r[1],f[w++]=(e[h]+n[2])/r[2],-1!==b&&-1!==g&&(f[b++]=(e[g]+n[3])/r[3]);return new O("float32",f,"RGBA"===u?[1,4,a,o]:[1,3,a,o])},c=async(e,t)=>{let r,n=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,a=typeof ImageData<"u"&&e instanceof ImageData,o=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,i="string"==typeof e,s=t??{},u=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},l=e=>e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(n){let n=u();n.width=e.width,n.height=e.height;let a=l(n);if(null==a)throw new Error("Can not access image data");{let n=e.height,o=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,o=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=n,s.width=o}else s.tensorFormat="RGBA",s.height=n,s.width=o;a.drawImage(e,0,0),r=a.getImageData(0,0,o,n).data}}else{if(!a){if(o){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");let n=u();n.width=e.width,n.height=e.height;let a=l(n);if(null!=a){let t=e.height,n=e.width;return a.drawImage(e,0,0,n,t),r=a.getImageData(0,0,n,t).data,s.height=t,s.width=n,f(r,s)}throw new Error("Can not access image data")}if(i)return new Promise(((t,r)=>{let n=u(),a=l(n);if(!e||!a)return r();let o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{n.width=o.width,n.height=o.height,a.drawImage(o,0,0,n.width,n.height);let e=a.getImageData(0,0,n.width,n.height);s.height=n.height,s.width=n.width,t(f(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let n,a;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(n=t.resizedHeight,a=t.resizedWidth):(n=e.height,a=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=n,s.width=a,void 0!==t){let t=u();t.width=a,t.height=n;let o=l(t);if(null==o)throw new Error("Can not access image data");o.putImageData(e,0,0),r=o.getImageData(0,0,a,n).data}else r=e.data}}if(void 0!==r)return f(r,s);throw new Error("Input data provided is not supported - aborted tensor creation")},d=(e,t)=>{let{width:r,height:n,download:a,dispose:o}=t;return new O({location:"texture",type:"float32",texture:e,dims:[1,n,r,4],download:a,dispose:o})},p=(e,t)=>{let{dataType:r,dims:n,download:a,dispose:o}=t;return new O({location:"gpu-buffer",type:r??"float32",gpuBuffer:e,dims:n,download:a,dispose:o})},h=(e,t,r)=>new O({location:"cpu-pinned",type:e,data:t,dims:r??[t.length]})})),z=L((()=>{g=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),m=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),y=!1,w=()=>{if(!y){y=!0;let e=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,r=typeof Float16Array<"u"&&Float16Array.from;e&&(g.set("int64",BigInt64Array),m.set(BigInt64Array,"int64")),t&&(g.set("uint64",BigUint64Array),m.set(BigUint64Array,"uint64")),r?(g.set("float16",Float16Array),m.set(Float16Array,"float16")):g.set("float16",Uint16Array)}}})),V=L((()=>{q(),b=e=>{let t=1;for(let r=0;r<e.length;r++){let n=e[r];if("number"!=typeof n||!Number.isSafeInteger(n))throw new TypeError(`dims[${r}] must be an integer, got: ${n}`);if(n<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${n}`);t*=n}return t},v=(e,t)=>{switch(e.location){case"cpu":return new O(e.type,e.data,t);case"cpu-pinned":return new O({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new O({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new O({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${e.location} is not supported`)}}})),q=L((()=>{G(),Y(),z(),V(),O=class{constructor(e,t,r){let n,a;if(w(),"object"==typeof e&&"location"in e)switch(this.dataLocation=e.location,n=e.type,a=e.dims,e.location){case"cpu-pinned":{let t=g.get(n);if(!t)throw new TypeError(`unsupported type "${n}" to create tensor from pinned buffer`);if(!(e.data instanceof t))throw new TypeError(`buffer should be of type ${t.name}`);this.cpuData=e.data;break}case"texture":if("float32"!==n)throw new TypeError(`unsupported type "${n}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==n&&"float16"!==n&&"int32"!==n&&"int64"!==n&&"uint32"!==n&&"uint8"!==n&&"bool"!==n)throw new TypeError(`unsupported type "${n}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let o,i;if("string"==typeof e)if(n=e,i=r,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{let r=g.get(e);if(void 0===r)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if("float16"===e&&r===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o="uint64"===e||"int64"===e?r.from(t,BigInt):r.from(t)}else{if(!(t instanceof r))throw new TypeError(`A ${n} tensor's data must be type of ${r}`);o=t}}else if(i=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)n="string",o=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);n="bool",o=Uint8Array.from(e)}}else{let t=m.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);n=t,o=e}if(void 0===i)i=[o.length];else if(!Array.isArray(i))throw new TypeError("A tensor's dims must be a number array");a=i,this.cpuData=o,this.dataLocation="cpu"}let o=b(a);if(this.cpuData&&o!==this.cpuData.length)throw new Error(`Tensor's size(${o}) does not match data length(${this.cpuData.length}).`);this.type=n,this.dims=a,this.size=o}static async fromImage(e,t){return c(e,t)}static fromTexture(e,t){return d(e,t)}static fromGpuBuffer(e,t){return p(e,t)}static fromPinnedBuffer(e,t,r){return h(e,t,r)}toDataURL(e){return u(this,e)}toImageData(e){return l(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return v(this,e)}}})),J=L((()=>{q(),_=O})),X=L((()=>{W(),E=(e,t)=>{(typeof i.trace>"u"?!i.wasm.trace:!i.trace)||console.timeStamp(`${e}::ORT::${t}`)},A=(e,t)=>{let r=(new Error).stack?.split(/\r\n|\r|\n/g)||[],n=!1;for(let a=0;a<r.length;a++){if(n&&!r[a].includes("TRACE_FUNC")){let n=`FUNC_${e}::${r[a].trim().split(" ")[1]}`;return t&&(n+=`::${t}`),void E("CPU",n)}r[a].includes("TRACE_FUNC")&&(n=!0)}},T=e=>{(typeof i.trace>"u"?!i.wasm.trace:!i.trace)||A("BEGIN",e)},M=e=>{(typeof i.trace>"u"?!i.wasm.trace:!i.trace)||A("END",e)}})),Q=L((()=>{N(),J(),X(),S=class e{constructor(e){this.handler=e}async run(e,t,r){T();let n={},a={};if("object"!=typeof e||null===e||e instanceof _||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof _)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");o=!1;for(let e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);n[e]=null}if("object"==typeof r&&null!==r)a=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,i=Object.getOwnPropertyNames(t);for(let r of this.outputNames)if(-1!==i.indexOf(r)){let a=t[r];(null===a||a instanceof _)&&(e=!0,o=!1,n[r]=a)}if(e){if("object"==typeof r&&null!==r)a=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else a=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of this.inputNames)if(typeof e[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(o)for(let e of this.outputNames)n[e]=null;let i=await this.handler.run(e,n,a),s={};for(let e in i)if(Object.hasOwnProperty.call(i,e)){let t=i[e];s[e]=t instanceof _?t:new _(t.type,t.data,t.dims)}return M(),s}async release(){return this.handler.dispose()}static async create(t,r,a,o){T();let i,s={};if("string"==typeof t){if(i=t,"object"==typeof r&&null!==r)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(i=t,"object"==typeof r&&null!==r)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else{if(!(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{let e=t,n=0,u=t.byteLength;if("object"==typeof r&&null!==r)s=r;else if("number"==typeof r){if(n=r,!Number.isSafeInteger(n))throw new RangeError("'byteOffset' must be an integer.");if(n<0||n>=e.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${e.byteLength}).`);if(u=t.byteLength-n,"number"==typeof a){if(u=a,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||n+u>e.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${e.byteLength-n}].`);if("object"==typeof o&&null!==o)s=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");i=new Uint8Array(e,n,u)}}let u=(s.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),l=await(await n(u)).createInferenceSessionHandler(i,s);return M(),new e(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}})),Z=L((()=>{Q(),C=S})),K=L((()=>{})),ee=L((()=>{N(),J(),R=class e{constructor(e,t,r){this.handler=e,this.hasOptimizerModel=t,this.hasEvalModel=r}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,r){let a=t.evalModel||"",o=t.optimizerModel||"",i=r||{},s=(i.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),u=await n(s);if(u.createTrainingSessionHandler){let r=await u.createTrainingSessionHandler(t.checkpointState,t.trainModel,a,o,i);return new e(r,!!t.optimizerModel,!!t.evalModel)}throw new Error("Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.")}typeNarrowingForRunStep(e,t,r,n,a){let o={},i={};if("object"!=typeof r||null===r||r instanceof _||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if("object"==typeof n){if(null===n)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof _)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(0===n.length)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let e of n){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===t.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);o[e]=null}if("object"==typeof a&&null!==a)i=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,r=Object.getOwnPropertyNames(n);for(let a of t)if(-1!==r.indexOf(a)){let t=n[a];(null===t||t instanceof _)&&(e=!0,s=!1,o[a]=t)}if(e){if("object"==typeof a&&null!==a)i=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else i=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of e)if(typeof r[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(s)for(let e of t)o[e]=null;return[o,i]}convertHandlerReturnTypeToMapOfTensors(e){let t={};for(let r in e)if(Object.hasOwnProperty.call(e,r)){let n=e[r];t[r]=n instanceof _?n:new _(n.type,n.data,n.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(e,t,r){let[n,a]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,e,t,r),o=await this.handler.runTrainStep(e,n,a);return this.convertHandlerReturnTypeToMapOfTensors(o)}async runOptimizerStep(e){if(!this.hasOptimizerModel)throw new Error("This TrainingSession has no OptimizerModel loaded.");await this.handler.runOptimizerStep(e||{})}async runEvalStep(e,t,r){if(this.hasEvalModel){let[n,a]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,e,t,r),o=await this.handler.runEvalStep(e,n,a);return this.convertHandlerReturnTypeToMapOfTensors(o)}throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(e=!0){return this.handler.getParametersSize(e)}async loadParametersBuffer(e,t=!0){let r=await this.getParametersSize(t);if(e.length!==4*r)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(e,t)}async getContiguousParameters(e=!0){return this.handler.getContiguousParameters(e)}async release(){return this.handler.dispose()}}})),te=L((()=>{ee(),P=R})),re={};k(re,{InferenceSession:()=>C,TRACE:()=>E,TRACE_FUNC_BEGIN:()=>T,TRACE_FUNC_END:()=>M,Tensor:()=>_,TrainingSession:()=>P,env:()=>s,registerBackend:()=>r});var ne=L((()=>{$(),j(),Z(),J(),X(),K(),te()})),ae={};k(ae,{createReadStream:()=>se,readFile:()=>oe,readFileSync:()=>ie});var oe,ie,se,ue=L((()=>{oe=void 0,ie=void 0,se=void 0})),le={};k(le,{join:()=>fe});var fe,ce=L((()=>{fe=void 0})),de=I(((e,t)=>{var r,n=(r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(r=r||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),l="./this.program",f="object"==typeof window,c="function"==typeof importScripts,d="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,p="";if(d){var h=(ue(),B(ae)),g=(ce(),B(le));p=c?g.dirname(p)+"/":__dirname+"/",o=(e,t)=>(e=L(e)?new URL(e):g.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=L(e)?new URL(e):g.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(f||c)&&(c?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),r&&(p=r),p=0!==p.indexOf("blob:")?p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var m=console.log.bind(console),y=console.error.bind(console);Object.assign(a,u),u=null,"object"!=typeof WebAssembly&&D("no native wasm support detected");var w,b,v,O,_,E,A=!1;function T(){var e=w.buffer;a.HEAP8=b=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAPU8=v=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAP32=O=new Int32Array(e),a.HEAPU32=_=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=E=new Float64Array(e)}var M=[],S=[],C=[],R=0,P=null,U=null;function D(e){throw y(e="Aborted("+e+")"),A=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}var F,x=e=>e.startsWith("data:application/octet-stream;base64,"),L=e=>e.startsWith("file://");if(!x(F="ort-wasm.wasm")){var I=F;F=a.locateFile?a.locateFile(I,p):p+I}function k(e){if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function N(e,t,r){return function(e){if(f||c){if("function"==typeof fetch&&!L(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>k(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>k(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{y(`failed to asynchronously prepare wasm: ${e}`),D(e)}))}var $,H={156368:(e,t,r,n)=>{if(typeof a>"u"||!a.za)return 1;if((e=z(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=a.za.get(e)))return 2;if((t>>>=0)+(r>>>=0)>e.byteLength)return 3;try{return v.set(e.subarray(t,t+r),n>>>0>>>0),0}catch{return 4}}};function W(e){this.xa=e-24,this.Ha=function(e){_[this.xa+4>>>2>>>0]=e},this.Ga=function(e){_[this.xa+8>>>2>>>0]=e},this.Aa=function(e,t){this.Fa(),this.Ha(e),this.Ga(t)},this.Fa=function(){_[this.xa+16>>>2>>>0]=0}}var j,G=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Y=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&G)return G.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},z=(e,t)=>(e>>>=0)?Y(v,e,t):"",V=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},q=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},J=e=>e%4==0&&(e%100!=0||e%400==0),X=[0,31,60,91,121,152,182,213,244,274,305,335],Q=[0,31,59,90,120,151,181,212,243,273,304,334],Z=e=>{var t=V(e)+1,r=pe(t);return r&&q(e,v,r,t),r},K=[],ee={},te=()=>{if(!j){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(e in ee)void 0===ee[e]?delete t[e]:t[e]=ee[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);j=r}return j},re=[null,[],[]],ne=[31,29,31,30,31,30,31,31,30,31,30,31],oe=[31,28,31,30,31,30,31,31,30,31,30,31];function ie(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ta;for(e=new Date(new Date(e.ua+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(J(e.getFullYear())?ne:oe)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var l=_[40+(n>>>=0)>>>2>>>0];for(var f in n={Da:O[n>>>2>>>0],Ca:O[n+4>>>2>>>0],va:O[n+8>>>2>>>0],ya:O[n+12>>>2>>>0],wa:O[n+16>>>2>>>0],ua:O[n+20>>>2>>>0],oa:O[n+24>>>2>>>0],ta:O[n+28>>>2>>>0],Ia:O[n+32>>>2>>>0],Ba:O[n+36>>>2>>>0],Ea:l?z(l):""},r=z(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>c[e.oa].substring(0,3),"%A":e=>c[e.oa],"%b":e=>d[e.wa].substring(0,3),"%B":e=>d[e.wa],"%C":e=>o((e.ua+1900)/100|0,2),"%d":e=>o(e.ya,2),"%e":e=>a(e.ya,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.va,2),"%I":e=>(0==(e=e.va)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.wa-1;t+=(J(e.ua+1900)?ne:oe)[r++]);return o(e.ya+t,3)},"%m":e=>o(e.wa+1,2),"%M":e=>o(e.Ca,2),"%n":()=>"\n","%p":e=>0<=e.va&&12>e.va?"AM":"PM","%S":e=>o(e.Da,2),"%t":()=>"\t","%u":e=>e.oa||7,"%U":e=>o(Math.floor((e.ta+7-e.oa)/7),2),"%V":e=>{var t=Math.floor((e.ta+7-(e.oa+6)%7)/7);if(2>=(e.oa+371-e.ta-2)%7&&t++,t)53==t&&(4==(r=(e.oa+371-e.ta)%7)||3==r&&J(e.ua)||(t=1));else{t=52;var r=(e.oa+7-e.ta-1)%7;(4==r||5==r&&J(e.ua%400-1))&&t++}return o(t,2)},"%w":e=>e.oa,"%W":e=>o(Math.floor((e.ta+7-(e.oa+6)%7)/7),2),"%y":e=>(e.ua+1900).toString().substring(2),"%Y":e=>e.ua+1900,"%z":e=>(0<=(e=e.Ba)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.Ea,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(V(e)+1);return q(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),f.length>t?0:(b.set(f,e>>>0),f.length-1)}var se={a:function(e,t,r){throw new W(e>>>=0).Aa(t>>>0,r>>>0),e},c:function(){return 0},i:function(){},z:function(){},C:function(){},s:function(){return 0},I:function(){},E:function(){},H:function(){},h:function(){},A:function(){},x:function(){},J:function(){},y:function(){},j:()=>1,m:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),O[r>>>2>>>0]=e.getUTCSeconds(),O[r+4>>>2>>>0]=e.getUTCMinutes(),O[r+8>>>2>>>0]=e.getUTCHours(),O[r+12>>>2>>>0]=e.getUTCDate(),O[r+16>>>2>>>0]=e.getUTCMonth(),O[r+20>>>2>>>0]=e.getUTCFullYear()-1900,O[r+24>>>2>>>0]=e.getUTCDay(),O[r+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),O[r>>>2>>>0]=e.getSeconds(),O[r+4>>>2>>>0]=e.getMinutes(),O[r+8>>>2>>>0]=e.getHours(),O[r+12>>>2>>>0]=e.getDate(),O[r+16>>>2>>>0]=e.getMonth(),O[r+20>>>2>>>0]=e.getFullYear()-1900,O[r+24>>>2>>>0]=e.getDay(),O[r+28>>>2>>>0]=(J(e.getFullYear())?X:Q)[e.getMonth()]+e.getDate()-1|0,O[r+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();O[r+32>>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},o:function(e){e>>>=0;var t=new Date(O[e+20>>>2>>>0]+1900,O[e+16>>>2>>>0],O[e+12>>>2>>>0],O[e+8>>>2>>>0],O[e+4>>>2>>>0],O[e>>>2>>>0],0),r=O[e+32>>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?O[e+32>>>2>>>0]=+(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),O[e+24>>>2>>>0]=t.getDay(),O[e+28>>>2>>>0]=(J(t.getFullYear())?X:Q)[t.getMonth()]+t.getDate()-1|0,O[e>>>2>>>0]=t.getSeconds(),O[e+4>>>2>>>0]=t.getMinutes(),O[e+8>>>2>>>0]=t.getHours(),O[e+12>>>2>>>0]=t.getDate(),O[e+16>>>2>>>0]=t.getMonth(),O[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(O[de()>>>2>>>0]=61,e=-1):e/=1e3,ge(($=e,1<=+Math.abs($)?0<$?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)),e>>>0},k:function(){return-52},l:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();_[e>>>0>>>2>>>0]=60*Math.max(a,s),O[t>>>0>>>2>>>0]=+(a!=s),e=n(o),t=n(i),e=Z(e),t=Z(t),s<a?(_[r>>>2>>>0]=e,_[r+4>>>2>>>0]=t):(_[r>>>2>>>0]=t,_[r+4>>>2>>>0]=e)},e:()=>{D("")},B:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,K.length=0;for(var n;n=v[t++>>>0];){var a=105!=n;r+=(a&=112!=n)&&r%8?4:0,K.push(112==n?_[r>>>2>>>0]:105==n?O[r>>>2>>>0]:E[r>>>3>>>0]),r+=a?8:4}return H[e].apply(null,K)},f:()=>Date.now(),v:function(){return 4294901760},b:()=>performance.now(),D:function(e,t,r){return t>>>=0,v.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=v.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=(a.min.call(a,4294901760,n+(65536-n%65536)%65536)-w.buffer.byteLength+65535)/65536;try{w.grow(a),T();var o=1;break e}catch{}o=void 0}if(o)return!0}return!1},F:function(e,t){e>>>=0,t>>>=0;var r=0;return te().forEach(((n,a)=>{var o=t+r;for(a=_[e+4*a>>>2>>>0]=o,o=0;o<n.length;++o)b[a++>>>0>>>0]=n.charCodeAt(o);b[a>>>0>>>0]=0,r+=n.length+1})),0},G:function(e,t){e>>>=0,t>>>=0;var r=te();_[e>>>2>>>0]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),_[t>>>2>>>0]=n,0},d:()=>52,g:function(){return 52},p:function(){return 70},w:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=_[t>>>2>>>0],s=_[t+4>>>2>>>0];t+=8;for(var u=0;u<s;u++){var l=v[i+u>>>0],f=re[e];0===l||10===l?((1===e?m:y)(Y(f,0)),f.length=0):f.push(l)}a+=s}return _[n>>>2>>>0]=a,0},q:ie,r:function(e,t,r,n){return ie(e>>>0,t>>>0,r>>>0,n>>>0)}},fe=function(){function e(e){return fe=e.exports,fe=function(){var e=fe,t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).la=t(e.la),e.ma=r(e.ma),e.qa=t(e.qa),e.sa=r(e.sa),e}(),w=fe.K,T(),S.unshift(fe.L),0==--R&&(null!==P&&(clearInterval(P),P=null),U&&(e=U,U=null,e())),fe}var t={a:se};if(R++,a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){y(`Module.instantiateWasm callback failed with error: ${e}`),n(e)}return function(e,t){var r=F;return"function"!=typeof WebAssembly.instantiateStreaming||x(r)||L(r)||d||"function"!=typeof fetch?N(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return y(`wasm streaming compile failed: ${n}`),y("falling back to ArrayBuffer instantiation"),N(r,e,t)}))))}(t,(function(t){e(t.instance)})).catch(n),{}}();a._OrtInit=(e,t)=>(a._OrtInit=fe.M)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=fe.N)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,l,f)=>(a._OrtCreateSessionOptions=fe.O)(e,t,r,n,o,i,s,u,l,f),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=fe.P)(e,t),a._OrtAddFreeDimensionOverride=(e,t,r)=>(a._OrtAddFreeDimensionOverride=fe.Q)(e,t,r),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=fe.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=fe.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=fe.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=fe.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=fe.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=fe.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=fe.X)(e,t),a._OrtFree=e=>(a._OrtFree=fe.Y)(e),a._OrtCreateTensor=(e,t,r,n,o,i)=>(a._OrtCreateTensor=fe.Z)(e,t,r,n,o,i),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=fe._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=fe.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=fe.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=fe.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=fe.ca)(e),a._OrtCreateBinding=e=>(a._OrtCreateBinding=fe.da)(e),a._OrtBindInput=(e,t,r)=>(a._OrtBindInput=fe.ea)(e,t,r),a._OrtBindOutput=(e,t,r,n)=>(a._OrtBindOutput=fe.fa)(e,t,r,n),a._OrtClearBoundOutputs=e=>(a._OrtClearBoundOutputs=fe.ga)(e),a._OrtReleaseBinding=e=>(a._OrtReleaseBinding=fe.ha)(e),a._OrtRunWithBinding=(e,t,r,n,o)=>(a._OrtRunWithBinding=fe.ia)(e,t,r,n,o),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=fe.ja)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=fe.ka)(e);var de=()=>(de=fe.la)(),pe=a._malloc=e=>(pe=a._malloc=fe.ma)(e);a._free=e=>(a._free=fe.na)(e);var he,ge=e=>(ge=fe.pa)(e),me=()=>(me=fe.qa)(),ye=e=>(ye=fe.ra)(e),we=e=>(we=fe.sa)(e);function be(){if(!(0<R)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;){var e=a.preRun.shift();M.unshift(e)}for(;0<M.length;)M.shift()(a);if(!(0<R||he||(he=!0,a.calledRun=!0,A))){for(;0<S.length;)S.shift()(a);for(t(a);0<C.length;)C.shift()(a)}}}return a.stackAlloc=we,a.stackSave=me,a.stackRestore=ye,a.UTF8ToString=z,a.stringToUTF8=(e,t,r)=>q(e,v,t,r),a.lengthBytesUTF8=V,U=function e(){he||be(),he||(U=e)},be(),e.ready});"object"==typeof e&&"object"==typeof t?t.exports=n:"function"==typeof define&&define.amd&&define([],(()=>n))})),pe=I((()=>{})),he=I((()=>{})),ge={};k(ge,{cpus:()=>me});var me,ye,we,be,ve,Oe,_e,Ee,Ae,Te,Me,Se,Ce,Re,Pe,Ue,De,Fe,xe,Le,Ie,ke,Be,Ne,$e,He,We,je,Ge,Ye,ze,Ve,qe,Je,Xe,Qe,Ze,Ke,et,tt,rt,nt,at,ot,it,st,ut,lt,ft,ct,dt,pt,ht,gt,mt,yt,wt,bt,vt,Ot,_t,Et,At,Tt,Mt=L((()=>{me=void 0})),St=I(((e,t)=>{var r,n=(r=typeof document<"u"?document.currentScript?.src:void 0,typeof __filename<"u"&&(r||=__filename),function(e={}){function t(){return R.buffer!=D.buffer&&N(),D}function n(){return R.buffer!=D.buffer&&N(),F}function a(){return R.buffer!=D.buffer&&N(),x}function o(){return R.buffer!=D.buffer&&N(),L}function i(){return R.buffer!=D.buffer&&N(),I}var s,u,l,f,c,d=e,p=new Promise(((e,t)=>{s=e,u=t})),h=Object.assign({},d),g="./this.program",m=(e,t)=>{throw t},y="object"==typeof window,w="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,v=d.ENVIRONMENT_IS_PTHREAD||!1,O="";function _(e){return d.locateFile?d.locateFile(e,O):O+e}if(b){var E=(ue(),B(ae)),A=(ce(),B(le));O=w?A.dirname(O)+"/":__dirname+"/",l=(e,t)=>(e=Q(e)?new URL(e):A.normalize(e),E.readFileSync(e,t?void 0:"utf8")),c=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=Q(e)?new URL(e):A.normalize(e),E.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!d.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),m=(e,t)=>{throw process.exitCode=e,t},global.Worker=pe().Worker}else(y||w)&&(w?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),typeof r<"u"&&r&&(O=r),O=O.startsWith("blob:")?"":O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1),b||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));b&&typeof performance>"u"&&(global.performance=he().performance);var T=console.log.bind(console),M=console.error.bind(console);b&&(T=(...e)=>E.writeSync(1,e.join(" ")+"\n"),M=(...e)=>E.writeSync(2,e.join(" ")+"\n"));var S=T,C=M;Object.assign(d,h),h=null;var R,P,U,D,F,x,L,I,k=!1;function N(){var e=R.buffer;d.HEAP8=D=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAPU8=F=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAP32=x=new Int32Array(e),d.HEAPU32=L=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=I=new Float64Array(e)}var $=16777216;if(v)R=d.wasmMemory;else if(d.wasmMemory)R=d.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:$/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&C("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");N(),$=R.buffer.byteLength;var H=[],W=[],j=[],G=0,Y=null,z=null;function V(){if(0==--G&&(null!==Y&&(clearInterval(Y),Y=null),z)){var e=z;z=null,e()}}function q(e){throw C(e="Aborted("+e+")"),k=!0,U=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}var J,X=e=>e.startsWith("data:application/octet-stream;base64,"),Q=e=>e.startsWith("file://");function Z(e){if(c)return c(e);throw"both async and sync fetching of the wasm failed"}function K(e,t,r){return function(e){if(y||w){if("function"==typeof fetch&&!Q(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>Z(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>Z(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{C(`failed to asynchronously prepare wasm: ${e}`),q(e)}))}X(J="ort-wasm-threaded.wasm")||(J=_(J));var ee,te={796676:(e,t,r,a)=>{if(typeof d>"u"||!d.bb)return 1;if((e=Se(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=d.bb.get(e)))return 2;if(a>>>=0,(t>>>=0)+(r>>>=0)>e.byteLength)return 3;try{return n().set(e.subarray(t,t+r),a>>>0),0}catch{return 4}}};function re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ne=e=>{e.terminate(),e.onmessage=()=>{}},oe=e=>{0==ye.Oa.length&&(me(),ye.Xa(ye.Oa[0]));var t=ye.Oa.pop();if(!t)return 6;ye.Pa.push(t),ye.La[e.Na]=t,t.Na=e.Na;var r={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return b&&t.unref(),t.postMessage(r,e.mb),0},ie=0,se=(e,t,...r)=>(e=>{var t=St();return e=e(),At(t),e})((()=>{for(var n=r.length,a=Tt(8*n),o=a>>>3,s=0;s<r.length;s++){var u=r[s];i()[o+s>>>0]=u}return wt(e,0,n,a,t)}));function fe(e){if(v)return se(0,1,e);U=e,0<ie||(ye.hb(),d.onExit?.(e),k=!0),m(e,new re(e))}var de=e=>{if(U=e,v)throw be(e),"unwind";fe(e)};function me(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ye.Oa.push(e)}var ye={Oa:[],Pa:[],ab:[],La:{},Va(){v?(ye.receiveObjectTransfer=ye.fb,ye.threadInitTLS=ye.$a,ye.setExitStatus=ye.Za):function(){for(var e=d.numThreads;e--;)me();H.unshift((()=>{G++,function(e){v?e():Promise.all(ye.Oa.map(ye.Xa)).then(e)}((()=>V()))}))}()},Za:e=>U=e,pb:["$terminateWorker"],hb:()=>{for(var e of ye.Pa)ne(e);for(e of ye.Oa)ne(e);ye.Oa=[],ye.Pa=[],ye.La=[]},Ya:e=>{var t=e.Na;delete ye.La[t],ye.Oa.push(e),ye.Pa.splice(ye.Pa.indexOf(e),1),e.Na=0,bt(t)},fb(){},$a(){ye.ab.forEach((e=>e()))},Xa:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=gt()){var a=ye.La[r.targetThread];a?a.postMessage(r,r.transferList):C(`Internal error! Worker sent a message "${n}" to target pthread ${r.targetThread}, but that thread no longer exists!`)}else"checkMailbox"===n?Ye():"spawnThread"===n?oe(r):"cleanupThread"===n?ye.Ya(ye.La[r.thread]):"killThread"===n?(r=r.thread,n=ye.La[r],delete ye.La[r],ne(n),bt(r),ye.Pa.splice(ye.Pa.indexOf(n),1),n.Na=0):"cancelThread"===n?ye.La[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,b&&!e.Na&&e.unref(),t(e)):"alert"===n?alert(`Thread ${r.threadId}: ${r.text}`):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?d[r.handler](...r.args):n&&C(`worker sent an unknown command ${n}`)},e.onerror=e=>{throw C(`worker sent an error! ${e.filename}:${e.lineno}: ${e.message}`),e},b&&(e.on("message",(t=>e.onmessage({data:t}))),e.on("error",(t=>e.onerror(t))));var n,a=[];for(n of["onExit"])d.hasOwnProperty(n)&&a.push(n);e.postMessage({cmd:"load",handlers:a,urlOrBlob:d.mainScriptUrlOrBlob||r,wasmMemory:R,wasmModule:P})}))};d.PThread=ye;var we=e=>{for(;0<e.length;)e.shift()(d)};function be(e){if(v)return se(1,0,e);de(e)}d.establishStackSpace=()=>{var e=gt(),t=o()[e+52>>>2>>>0];e=o()[e+56>>>2>>>0],Et(t,t-e),At(t)};var ve,Oe=[];d.invokeEntryPoint=(e,t)=>{ie=0;var r=Oe[e];r||(e>=Oe.length&&(Oe.length=e+1),Oe[e]=r=ve.get(e)),e=r(t),0<ie?ye.Za(e):vt(e)};class _e{constructor(e){this.Ua=e-24}Va(e,t){o()[this.Ua+16>>>2>>>0]=0,o()[this.Ua+4>>>2>>>0]=e,o()[this.Ua+8>>>2>>>0]=t}}function Ee(e,t,r,n){return v?se(2,1,e,t,r,n):Ae(e,t,r,n)}function Ae(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,typeof SharedArrayBuffer>"u")return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return v&&0===a.length?Ee(e,t,r,n):(e={gb:r,Na:e,cb:n,mb:a},v?(e.ob="spawnThread",postMessage(e,a),0):oe(e))}var Te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Me=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&Te)return Te.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},Se=(e,t)=>(e>>>=0)?Me(n(),e,t):"";function Ce(e,t,r){return v?se(3,1,e,t,r):0}function Re(e,t){if(v)return se(4,1,e,t)}var Pe=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ue=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},De=(e,t,r)=>Ue(e,n(),t,r);function Fe(e,t){if(v)return se(5,1,e,t)}function xe(e,t,r){if(v)return se(6,1,e,t,r)}function Le(e,t,r){return v?se(7,1,e,t,r):0}function Ie(e,t){if(v)return se(8,1,e,t)}function ke(e,t,r){if(v)return se(9,1,e,t,r)}function Be(e,t,r,n){if(v)return se(10,1,e,t,r,n)}function Ne(e,t,r,n){if(v)return se(11,1,e,t,r,n)}function $e(e,t,r,n){if(v)return se(12,1,e,t,r,n)}function He(e){if(v)return se(13,1,e)}function We(e,t){if(v)return se(14,1,e,t)}function je(e,t,r){if(v)return se(15,1,e,t,r)}function Ge(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>>2,e).value.then(Ye),e+=128,Atomics.store(a(),e>>>2,1))}d.__emscripten_thread_mailbox_await=Ge;var Ye=()=>{var e=gt();if(e&&(Ge(e),e=Ot,!k))try{if(e(),!(0<ie))try{v?vt(U):de(U)}catch(e){e instanceof re||"unwind"==e||m(1,e)}}catch(e){e instanceof re||"unwind"==e||m(1,e)}};d.checkMailbox=Ye;var ze=[],Ve=e=>e%4==0&&(e%100!=0||e%400==0),qe=[0,31,60,91,121,152,182,213,244,274,305,335],Je=[0,31,59,90,120,151,181,212,243,273,304,334];function Xe(e,t,r,n,a,o,i,s){return v?se(16,1,e,t,r,n,a,o,i,s):-52}function Qe(e,t,r,n,a,o,i){if(v)return se(17,1,e,t,r,n,a,o,i)}var Ze,Ke=[],et={},tt=()=>{if(!Ze){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in et)void 0===et[e]?delete t[e]:t[e]=et[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ze=r}return Ze};function rt(e,r){if(v)return se(18,1,e,r);e>>>=0,r>>>=0;var n=0;return tt().forEach(((a,i)=>{var s=r+n;for(i=o()[e+4*i>>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>>0]=a.charCodeAt(s);t()[i>>>0]=0,n+=a.length+1})),0}function nt(e,t){if(v)return se(19,1,e,t);e>>>=0,t>>>=0;var r=tt();o()[e>>>2>>>0]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),o()[t>>>2>>>0]=n,0}function at(e){return v?se(20,1,e):52}function ot(e,t,r,n){return v?se(21,1,e,t,r,n):52}function it(e,t,r,n,a){return v?se(22,1,e,t,r,n,a):70}var st=[null,[],[]];function ut(e,t,r,a){if(v)return se(23,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>>2>>>0],l=o()[t+4>>>2>>>0];t+=8;for(var f=0;f<l;f++){var c=n()[u+f>>>0],d=st[e];0===c||10===c?((1===e?S:C)(Me(d,0)),d.length=0):d.push(c)}i+=l}return o()[a>>>2>>>0]=i,0}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],ft=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(e,r,n,i){function s(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function u(e,t){return s(e,t,"0")}function l(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function f(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Qa;for(e=new Date(new Date(e.Ra+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ve(e.getFullYear())?lt:ft)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=f(new Date(e.getFullYear(),0,4)),r=f(r),0>=l(t,e)?0>=l(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,i>>>=0;var d=o()[i+40>>>2>>>0];for(var p in i={kb:a()[i>>>2>>>0],jb:a()[i+4>>>2>>>0],Sa:a()[i+8>>>2>>>0],Wa:a()[i+12>>>2>>>0],Ta:a()[i+16>>>2>>>0],Ra:a()[i+20>>>2>>>0],Ma:a()[i+24>>>2>>>0],Qa:a()[i+28>>>2>>>0],qb:a()[i+32>>>2>>>0],ib:a()[i+36>>>2>>>0],lb:d?Se(d):""},n=Se(n),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(p,"g"),d[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),g="January February March April May June July August September October November December".split(" ");for(p in d={"%a":e=>h[e.Ma].substring(0,3),"%A":e=>h[e.Ma],"%b":e=>g[e.Ta].substring(0,3),"%B":e=>g[e.Ta],"%C":e=>u((e.Ra+1900)/100|0,2),"%d":e=>u(e.Wa,2),"%e":e=>s(e.Wa,2," "),"%g":e=>c(e).toString().substring(2),"%G":c,"%H":e=>u(e.Sa,2),"%I":e=>(0==(e=e.Sa)?e=12:12<e&&(e-=12),u(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Ta-1;t+=(Ve(e.Ra+1900)?lt:ft)[r++]);return u(e.Wa+t,3)},"%m":e=>u(e.Ta+1,2),"%M":e=>u(e.jb,2),"%n":()=>"\n","%p":e=>0<=e.Sa&&12>e.Sa?"AM":"PM","%S":e=>u(e.kb,2),"%t":()=>"\t","%u":e=>e.Ma||7,"%U":e=>u(Math.floor((e.Qa+7-e.Ma)/7),2),"%V":e=>{var t=Math.floor((e.Qa+7-(e.Ma+6)%7)/7);if(2>=(e.Ma+371-e.Qa-2)%7&&t++,t)53==t&&(4==(r=(e.Ma+371-e.Qa)%7)||3==r&&Ve(e.Ra)||(t=1));else{t=52;var r=(e.Ma+7-e.Qa-1)%7;(4==r||5==r&&Ve(e.Ra%400-1))&&t++}return u(t,2)},"%w":e=>e.Ma,"%W":e=>u(Math.floor((e.Qa+7-(e.Ma+6)%7)/7),2),"%y":e=>(e.Ra+1900).toString().substring(2),"%Y":e=>e.Ra+1900,"%z":e=>(0<=(e=e.ib)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.lb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),d)n.includes(p)&&(n=n.replace(new RegExp(p,"g"),d[p](i)));return p=function(e){var t=Array(Pe(e)+1);return Ue(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),p.length>r?0:(((e,r)=>{t().set(e,r>>>0)})(p,e),p.length-1)}ye.Va();var dt=[fe,be,Ee,Ce,Re,Fe,xe,Le,Ie,ke,Be,Ne,$e,He,We,je,Xe,Qe,rt,nt,at,ot,it,ut],pt={b:function(e,t,r){throw new _e(e>>>=0).Va(t>>>0,r>>>0),e},L:function(e){mt(e>>>0,!w,1,!y,131072,!1),ye.$a()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):ye.Ya(ye.La[e])},H:Ae,h:Ce,S:Re,D:Fe,F:xe,T:Le,Q:Ie,J:ke,P:Be,n:Ne,E:$e,B:He,R:We,C:je,p:()=>1,z:function(e,t){(e>>>=0)==t>>>0?setTimeout(Ye):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ye.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,r,n,a){t>>>=0,r>>>=0,ze.length=n,a=a>>>0>>>3;for(var o=0;o<n;o++)ze[o]=i()[a+o>>>0];return e=t?te[t]:dt[e],ye.eb=r,r=e(...ze),ye.eb=0,r},K:Ge,o:function(e){b&&ye.La[e>>>0].ref()},s:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>>2>>>0]=e.getUTCSeconds(),a()[r+4>>>2>>>0]=e.getUTCMinutes(),a()[r+8>>>2>>>0]=e.getUTCHours(),a()[r+12>>>2>>>0]=e.getUTCDate(),a()[r+16>>>2>>>0]=e.getUTCMonth(),a()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>>2>>>0]=e},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>>2>>>0]=e.getSeconds(),a()[r+4>>>2>>>0]=e.getMinutes(),a()[r+8>>>2>>>0]=e.getHours(),a()[r+12>>>2>>>0]=e.getDate(),a()[r+16>>>2>>>0]=e.getMonth(),a()[r+20>>>2>>>0]=e.getFullYear()-1900,a()[r+24>>>2>>>0]=e.getDay(),t=(Ve(e.getFullYear())?qe:Je)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>>2>>>0]=t,a()[r+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(a()[e+20>>>2>>>0]+1900,a()[e+16>>>2>>>0],a()[e+12>>>2>>>0],a()[e+8>>>2>>>0],a()[e+4>>>2>>>0],a()[e>>>2>>>0],0),r=a()[e+32>>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>>2>>>0]=+(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>>2>>>0]=t.getDay(),r=(Ve(t.getFullYear())?qe:Je)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>>2>>>0]=r,a()[e>>>2>>>0]=t.getSeconds(),a()[e+4>>>2>>>0]=t.getMinutes(),a()[e+8>>>2>>>0]=t.getHours(),a()[e+12>>>2>>>0]=t.getDate(),a()[e+16>>>2>>>0]=t.getMonth(),a()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),e=isNaN(e)?-1:e/1e3,_t((ee=e,1<=+Math.abs(ee)?0<ee?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)),e>>>0},q:Xe,r:Qe,y:function(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,n>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var l=u.getTimezoneOffset(),f=Math.max(i,l);o()[e>>>2>>>0]=60*f,a()[t>>>2>>>0]=+(i!=l),s=(e=e=>e.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1])(s),u=e(u),l<i?(De(s,r,17),De(u,n,17)):(De(s,n,17),De(u,r,17))},c:()=>{q("")},O:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,Ke.length=0;for(var s;s=n()[t++>>>0];){var u=105!=s;r+=(u&=112!=s)&&r%8?4:0,Ke.push(112==s?o()[r>>>2>>>0]:105==s?a()[r>>>2>>>0]:i()[r>>>3>>>0]),r+=u?8:4}return te[e](...Ke)},k:()=>{},i:()=>Date.now(),U:()=>{throw ie+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>b?(Mt(),B(ge)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=(o.min.call(o,4294901760,a+(65536-a%65536)%65536)-R.buffer.byteLength+65535)/65536;try{R.grow(o),N();var i=1;break e}catch{}i=void 0}if(i)return!0}return!1},M:rt,N:nt,G:de,g:at,m:ot,v:it,l:ut,a:R||d.wasmMemory,w:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}},ht=function(){function e(e,t){return ht=e.exports,ht=function(){var e=ht,t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).va=t(e.va),e.wa=r(e.wa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=r(e.Ja),e.Ka=t(e.Ka),e}(),ye.ab.push(ht.ya),ve=ht.za,W.unshift(ht.V),P=t,V(),ht}var t={a:pt};if(G++,d.instantiateWasm)try{return d.instantiateWasm(t,e)}catch(e){C(`Module.instantiateWasm callback failed with error: ${e}`),u(e)}return function(e,t){var r=J;return"function"!=typeof WebAssembly.instantiateStreaming||X(r)||Q(r)||b||"function"!=typeof fetch?K(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return C(`wasm streaming compile failed: ${n}`),C("falling back to ArrayBuffer instantiation"),K(r,e,t)}))))}(t,(function(t){e(t.instance,t.module)})).catch(u),{}}();d._OrtInit=(e,t)=>(d._OrtInit=ht.W)(e,t),d._OrtGetLastError=(e,t)=>(d._OrtGetLastError=ht.X)(e,t),d._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(d._OrtCreateSessionOptions=ht.Y)(e,t,r,n,a,o,i,s,u,l),d._OrtAppendExecutionProvider=(e,t)=>(d._OrtAppendExecutionProvider=ht.Z)(e,t),d._OrtAddFreeDimensionOverride=(e,t,r)=>(d._OrtAddFreeDimensionOverride=ht._)(e,t,r),d._OrtAddSessionConfigEntry=(e,t,r)=>(d._OrtAddSessionConfigEntry=ht.$)(e,t,r),d._OrtReleaseSessionOptions=e=>(d._OrtReleaseSessionOptions=ht.aa)(e),d._OrtCreateSession=(e,t,r)=>(d._OrtCreateSession=ht.ba)(e,t,r),d._OrtReleaseSession=e=>(d._OrtReleaseSession=ht.ca)(e),d._OrtGetInputOutputCount=(e,t,r)=>(d._OrtGetInputOutputCount=ht.da)(e,t,r),d._OrtGetInputName=(e,t)=>(d._OrtGetInputName=ht.ea)(e,t),d._OrtGetOutputName=(e,t)=>(d._OrtGetOutputName=ht.fa)(e,t),d._OrtFree=e=>(d._OrtFree=ht.ga)(e),d._OrtCreateTensor=(e,t,r,n,a,o)=>(d._OrtCreateTensor=ht.ha)(e,t,r,n,a,o),d._OrtGetTensorData=(e,t,r,n,a)=>(d._OrtGetTensorData=ht.ia)(e,t,r,n,a),d._OrtReleaseTensor=e=>(d._OrtReleaseTensor=ht.ja)(e),d._OrtCreateRunOptions=(e,t,r,n)=>(d._OrtCreateRunOptions=ht.ka)(e,t,r,n),d._OrtAddRunConfigEntry=(e,t,r)=>(d._OrtAddRunConfigEntry=ht.la)(e,t,r),d._OrtReleaseRunOptions=e=>(d._OrtReleaseRunOptions=ht.ma)(e),d._OrtCreateBinding=e=>(d._OrtCreateBinding=ht.na)(e),d._OrtBindInput=(e,t,r)=>(d._OrtBindInput=ht.oa)(e,t,r),d._OrtBindOutput=(e,t,r,n)=>(d._OrtBindOutput=ht.pa)(e,t,r,n),d._OrtClearBoundOutputs=e=>(d._OrtClearBoundOutputs=ht.qa)(e),d._OrtReleaseBinding=e=>(d._OrtReleaseBinding=ht.ra)(e),d._OrtRunWithBinding=(e,t,r,n,a)=>(d._OrtRunWithBinding=ht.sa)(e,t,r,n,a),d._OrtRun=(e,t,r,n,a,o,i,s)=>(d._OrtRun=ht.ta)(e,t,r,n,a,o,i,s),d._OrtEndProfiling=e=>(d._OrtEndProfiling=ht.ua)(e);var gt=d._pthread_self=()=>(gt=d._pthread_self=ht.va)();d._malloc=e=>(d._malloc=ht.wa)(e),d._free=e=>(d._free=ht.xa)(e),d.__emscripten_tls_init=()=>(d.__emscripten_tls_init=ht.ya)();var mt=d.__emscripten_thread_init=(e,t,r,n,a,o)=>(mt=d.__emscripten_thread_init=ht.Aa)(e,t,r,n,a,o);d.__emscripten_thread_crashed=()=>(d.__emscripten_thread_crashed=ht.Ba)();var yt,wt=(e,t,r,n,a)=>(wt=ht.Ca)(e,t,r,n,a),bt=e=>(bt=ht.Da)(e),vt=d.__emscripten_thread_exit=e=>(vt=d.__emscripten_thread_exit=ht.Ea)(e),Ot=()=>(Ot=ht.Fa)(),_t=e=>(_t=ht.Ga)(e),Et=(e,t)=>(Et=ht.Ha)(e,t),At=e=>(At=ht.Ia)(e),Tt=e=>(Tt=ht.Ja)(e),St=()=>(St=ht.Ka)();function Ct(){if(!(0<G))if(v)s(d),v||we(W),startWorker(d);else{if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)H.unshift(d.preRun.shift());we(H),0<G||yt||(yt=!0,d.calledRun=!0,k||(v||we(W),s(d),v||we(j)))}}return d.wasmMemory=R,d.stackSave=()=>St(),d.stackRestore=e=>At(e),d.stackAlloc=e=>Tt(e),d.keepRuntimeAlive=()=>0<ie,d.UTF8ToString=Se,d.stringToUTF8=De,d.lengthBytesUTF8=Pe,d.ExitStatus=re,d.PThread=ye,z=function e(){yt||Ct(),yt||(z=e)},Ct(),p});"object"==typeof e&&"object"==typeof t?t.exports=n:"function"==typeof define&&define.amd&&define([],(()=>n))})),Ct=I(((e,t)=>{t.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\n'})),Rt=L((()=>{ye=de(),we=St(),ve=!1,Oe=!1,_e=!1,Ee=e=>{if(1===e)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+e+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+e+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},Ae=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Te=(e,t)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Me=async e=>{if(ve)return Promise.resolve();if(Oe)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(_e)throw new Error("previous call to 'initializeWebAssembly()' failed.");Oe=!0;let t=e.initTimeout,r=e.numThreads,n=e.simd,a=Ee(r),o=n&&Ae(),i=e.wasmPaths,s="string"==typeof i?i:void 0,u=Te(o,a),l="object"==typeof i?i[u]:void 0,f=!1,c=[];if(t>0&&c.push(new Promise((e=>{setTimeout((()=>{f=!0,e()}),t)}))),c.push(new Promise(((e,t)=>{let n=a?we:ye,o={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Ct()],{type:"text/javascript"})):e.endsWith(".wasm")?l||(s??t)+u:t+e};if(a)if(o.numThreads=r,typeof Blob>"u")o.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let e=`var ortWasmThreaded=${n.toString()};`;o.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(o).then((t=>{Oe=!1,ve=!0,be=t,e()}),(e=>{Oe=!1,_e=!0,t(e)}))}))),await Promise.race(c),f)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},Se=()=>{if(ve&&be)return be;throw new Error("WebAssembly is not initialized yet.")}})),Pt=L((()=>{Rt(),Ce=(e,t)=>{let r=Se(),n=r.lengthBytesUTF8(e)+1,a=r._malloc(n);return r.stringToUTF8(e,a,n),t.push(a),a},Re=(e,t,r,n)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,a])=>{let o=t?t+e:e;if("object"==typeof a)Re(a,o+".",r,n);else if("string"==typeof a||"number"==typeof a)n(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);n(o,a?"1":"0")}}))},Pe=e=>{let t=Se(),r=t.stackSave();try{let r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);let n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}})),Ut=L((()=>{Rt(),Pt(),Ue=e=>{let t=Se(),r=0,n=[],a=e||{};try{if(void 0===e?.logSeverityLevel)a.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===e?.logVerbosityLevel)a.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===e?.terminate&&(a.terminate=!1);let o=0;return void 0!==e?.tag&&(o=Ce(e.tag,n)),r=t._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,o),0===r&&Pe("Can't create run options."),void 0!==e?.extra&&Re(e.extra,"",new WeakSet,((e,a)=>{let o=Ce(e,n),i=Ce(a,n);0!==t._OrtAddRunConfigEntry(r,o,i)&&Pe(`Can't set a run config entry: ${e} - ${a}.`)})),[r,n]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),n.forEach((e=>t._free(e))),e}}})),Dt=L((()=>{Rt(),Pt(),De=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}},Fe=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}},xe=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)},Le=(e,t,r)=>{for(let n of t){let t="string"==typeof n?n:n.name;switch(t){case"webnn":if(t="WEBNN","string"!=typeof n){let t=n;if(t?.deviceType){let n=Ce("deviceType",r),a=Ce(t.deviceType,r);0!==Se()._OrtAddSessionConfigEntry(e,n,a)&&Pe(`Can't set a session config entry: 'deviceType' - ${t.deviceType}.`)}if(t?.numThreads){let n=t.numThreads;("number"!=typeof n||!Number.isInteger(n)||n<0)&&(n=0);let a=Ce("numThreads",r),o=Ce(n.toString(),r);0!==Se()._OrtAddSessionConfigEntry(e,a,o)&&Pe(`Can't set a session config entry: 'numThreads' - ${t.numThreads}.`)}if(t?.powerPreference){let n=Ce("powerPreference",r),a=Ce(t.powerPreference,r);0!==Se()._OrtAddSessionConfigEntry(e,n,a)&&Pe(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}.`)}}break;case"webgpu":if(t="JS","string"!=typeof n){let t=n;if(t?.preferredLayout){if("NCHW"!==t.preferredLayout&&"NHWC"!==t.preferredLayout)throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${t.preferredLayout}`);let n=Ce("preferredLayout",r),a=Ce(t.preferredLayout,r);0!==Se()._OrtAddSessionConfigEntry(e,n,a)&&Pe(`Can't set a session config entry: 'preferredLayout' - ${t.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}let a=Ce(t,r);0!==Se()._OrtAppendExecutionProvider(e,a)&&Pe(`Can't append execution provider: ${t}.`)}},Ie=e=>{let t=Se(),r=0,n=[],a=e||{};xe(a);try{let e=De(a.graphOptimizationLevel??"all"),o=Fe(a.executionMode??"sequential"),i="string"==typeof a.logId?Ce(a.logId,n):0,s=a.logSeverityLevel??2;if(!Number.isInteger(s)||s<0||s>4)throw new Error(`log serverity level is not valid: ${s}`);let u=a.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let l="string"==typeof a.optimizedModelFilePath?Ce(a.optimizedModelFilePath,n):0;if(r=t._OrtCreateSessionOptions(e,!!a.enableCpuMemArena,!!a.enableMemPattern,o,!!a.enableProfiling,0,i,s,u,l),0===r&&Pe("Can't create session options."),a.executionProviders&&Le(r,a.executionProviders,n),void 0!==a.enableGraphCapture){if("boolean"!=typeof a.enableGraphCapture)throw new Error(`enableGraphCapture must be a boolean value: ${a.enableGraphCapture}`);let e=Ce("enableGraphCapture",n),o=Ce(a.enableGraphCapture.toString(),n);0!==t._OrtAddSessionConfigEntry(r,e,o)&&Pe(`Can't set a session config entry: 'enableGraphCapture' - ${a.enableGraphCapture}.`)}if(a.freeDimensionOverrides)for(let[e,o]of Object.entries(a.freeDimensionOverrides)){if("string"!=typeof e)throw new Error(`free dimension override name must be a string: ${e}`);if("number"!=typeof o||!Number.isInteger(o)||o<0)throw new Error(`free dimension override value must be a non-negative integer: ${o}`);let a=Ce(e,n);0!==t._OrtAddFreeDimensionOverride(r,a,o)&&Pe(`Can't set a free dimension override: ${e} - ${o}.`)}return void 0!==a.extra&&Re(a.extra,"",new WeakSet,((e,a)=>{let o=Ce(e,n),i=Ce(a,n);0!==t._OrtAddSessionConfigEntry(r,o,i)&&Pe(`Can't set a session config entry: ${e} - ${a}.`)})),[r,n]}catch(e){throw 0!==r&&t._OrtReleaseSessionOptions(r),n.forEach((e=>t._free(e))),e}}})),Ft=L((()=>{ke=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},Be=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},Ne=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],$e=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},He=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}},We=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint8"===e||"bool"===e,je=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${e}`)}}})),xt=L((()=>{Ge=async e=>{if("string"!=typeof e)return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e);if(!(typeof process<"u"&&process.versions&&process.versions.node)){let t=await fetch(e);if(!t.ok)throw new Error(`failed to load external data file: ${e}`);let r=t.headers.get("Content-Length"),n=r?parseInt(r,10):0;if(n<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let r,a=t.body.getReader();try{r=new ArrayBuffer(n)}catch(e){if(!(e instanceof RangeError))throw e;{let e=Math.ceil(n/65536);r=new WebAssembly.Memory({initial:e,maximum:e}).buffer}}let o=0;for(;;){let{done:e,value:t}=await a.read();if(e)break;let n=t.byteLength;new Uint8Array(r,o,n).set(t),o+=n}return new Uint8Array(r,0,n)}}try{return new Uint8Array(await(void 0)(e))}catch(t){if("ERR_FS_FILE_TOO_LARGE"===t.code){let t=(void 0)(e),r=[];for await(let e of t)r.push(e);return new Uint8Array(Buffer.concat(r))}throw t}}})),Lt=L((()=>{Ut(),Dt(),Ft(),Rt(),Pt(),xt(),Ye=(e,t)=>{0!==Se()._OrtInit(e,t)&&Pe("Can't initialize onnxruntime.")},ze=async e=>{Ye(e.wasm.numThreads,He(e.logLevel))},Ve=async(e,t)=>{},qe=new Map,Je=e=>{let t=Se(),r=t.stackSave();try{let r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&Pe("Can't get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}},Xe=e=>{let t=Se(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},Qe=async(e,t)=>{let r,n,a=Se();Array.isArray(e)?[r,n]=e:e.buffer===a.HEAPU8.buffer?[r,n]=[e.byteOffset,e.byteLength]:[r,n]=Xe(e);let o=0,i=0,s=[],u=[],l=[];try{if([i,s]=Ie(t),t?.externalData&&a.mountExternalData){let e=[];for(let r of t.externalData){let t="string"==typeof r?r:r.path;e.push(Ge("string"==typeof r?r:r.data).then((e=>{a.mountExternalData(t,e)})))}await Promise.all(e)}o=await a._OrtCreateSession(r,n,i),0===o&&Pe("Can't create a session.");let[e,f]=Je(o),c=!!t?.enableGraphCapture,d=[],p=[];for(let t=0;t<e;t++){let e=a._OrtGetInputName(o,t);0===e&&Pe("Can't get an input name."),u.push(e),d.push(a.UTF8ToString(e))}for(let e=0;e<f;e++){let t=a._OrtGetOutputName(o,e);0===t&&Pe("Can't get an output name."),l.push(t);let r=a.UTF8ToString(t);p.push(r)}let h=null;return qe.set(o,[o,u,l,h,c,!1]),[o,d,p]}catch(e){throw u.forEach((e=>a._OrtFree(e))),l.forEach((e=>a._OrtFree(e))),0!==o&&a._OrtReleaseSession(o),e}finally{a._free(r),0!==i&&a._OrtReleaseSessionOptions(i),s.forEach((e=>a._free(e))),a.unmountExternalData?.()}},Ze=e=>{let t=Se(),r=qe.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);let[n,a,o,i,s]=r;i&&(s&&t._OrtClearBoundOutputs(i.handle),t._OrtReleaseBinding(i.handle)),t.jsepOnReleaseSession?.(e),a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),qe.delete(e)},Ke=(e,t,r,n,a,o=!1)=>{if(!e)return void t.push(0);let i,s,u=Se(),l=e[0],f=e[1],c=e[3];if("string"===l&&"gpu-buffer"===c)throw new Error("String tensor is not supported on GPU.");if(o&&"gpu-buffer"!==c)throw new Error(`External buffer must be provided for input/output index ${a} when enableGraphCapture is true.`);if("gpu-buffer"===c){let t=e[2].gpuBuffer,r=Ne(ke(l));s=f.reduce(((e,t)=>e*t),1)*r,i=u.jsepRegisterBuffer(n,a,t,s)}else{let t=e[2];if(Array.isArray(t)){s=4*t.length,i=u._malloc(s),r.push(i);let e=i/4;for(let n=0;n<t.length;n++){if("string"!=typeof t[n])throw new TypeError(`tensor data at index ${n} is not a string`);u.HEAPU32[e++]=Ce(t[n],r)}}else s=t.byteLength,i=u._malloc(s),r.push(i),u.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),i)}let d=u.stackSave(),p=u.stackAlloc(4*f.length);try{let e=p/4;f.forEach((t=>u.HEAP32[e++]=t));let r=u._OrtCreateTensor(ke(l),i,s,p,f.length,je(c));0===r&&Pe(`Can't create tensor for input/output. session=${n}, index=${a}.`),t.push(r)}finally{u.stackRestore(d)}},et=async(e,t,r,n,a,o)=>{let i=Se(),s=qe.get(e);if(!s)throw new Error(`cannot run inference. invalid session id: ${e}`);let u=s[0],l=s[1],f=s[2],c=s[3],d=s[4],p=(s[5],t.length),h=n.length,g=0,m=[],y=[],w=[],b=[],v=i.stackSave(),O=i.stackAlloc(4*p),_=i.stackAlloc(4*p),E=i.stackAlloc(4*h),A=i.stackAlloc(4*h);try{[g,m]=Ue(o);for(let n=0;n<p;n++)Ke(r[n],y,b,e,t[n],d);for(let t=0;t<h;t++)Ke(a[t],w,b,e,p+n[t],d);let s,v=O/4,T=_/4,M=E/4,S=A/4;for(let e=0;e<p;e++)i.HEAPU32[v++]=y[e],i.HEAPU32[T++]=l[t[e]];for(let e=0;e<h;e++)i.HEAPU32[M++]=w[e],i.HEAPU32[S++]=f[n[e]];i.jsepOnRunStart?.(u),s=await i._OrtRun(u,_,O,p,A,h,E,g),0!==s&&Pe("failed to call OrtRun().");let C=[];for(let e=0;e<h;e++){let t=i.HEAPU32[E/4+e];if(t===w[e]){C.push(a[e]);continue}let r,o=i.stackSave(),s=i.stackAlloc(16),u=!1,l=0;try{0!==i._OrtGetTensorData(t,s,s+4,s+8,s+12)&&Pe(`Can't access output tensor data on index ${e}.`);let a=s/4,o=i.HEAPU32[a++];l=i.HEAPU32[a++];let f=i.HEAPU32[a++],d=i.HEAPU32[a++],p=[];for(let e=0;e<d;e++)p.push(i.HEAPU32[f/4+e]);i._OrtFree(f);let h=p.reduce(((e,t)=>e*t),1);r=Be(o);let g=c?.outputPreferredLocations[n[e]];if("string"===r){if("gpu-buffer"===g)throw new Error("String tensor is not supported on GPU.");let e=[],t=l/4;for(let r=0;r<h;r++){let n=i.HEAPU32[t++],a=r===h-1?void 0:i.HEAPU32[t]-n;e.push(i.UTF8ToString(n,a))}C.push([r,p,e,"cpu"])}else if("gpu-buffer"===g&&h>0){let e=i.jsepGetBuffer(l),n=Ne(o);if(void 0===n||!We(r))throw new Error(`Unsupported data type: ${r}`);u=!0,C.push([r,p,{gpuBuffer:e,download:i.jsepCreateDownloader(e,h*n,r),dispose:()=>{i._OrtReleaseTensor(t)}},"gpu-buffer"])}else{let e=new($e(r))(h);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(i.HEAPU8.subarray(l,l+e.byteLength)),C.push([r,p,e,"cpu"])}}finally{i.stackRestore(o),"string"===r&&l&&i._free(l),u||i._OrtReleaseTensor(t)}}return c&&!d&&(i._OrtClearBoundOutputs(c.handle),qe.set(e,[u,l,f,c,d,!1])),C}finally{i.stackRestore(v),y.forEach((e=>i._OrtReleaseTensor(e))),w.forEach((e=>i._OrtReleaseTensor(e))),b.forEach((e=>i._free(e))),0!==g&&i._OrtReleaseRunOptions(g),m.forEach((e=>i._free(e)))}},tt=e=>{let t=Se(),r=qe.get(e);if(!r)throw new Error("invalid session id");let n=r[0],a=t._OrtEndProfiling(n);0===a&&Pe("Can't get an profile file name."),t._OrtFree(a)},rt=e=>{let t=[];for(let r of e){let e=r[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}})),It=I(((e,t)=>{t.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var qr=Object.getOwnPropertyDescriptor;var Vr=Object.getOwnPropertyNames;var Jr=Object.prototype.hasOwnProperty;var St=(i,d)=>()=>(i&&(d=i(i=0)),d);var et=(i,d)=>()=>(d||i((d={exports:{}}).exports,d),d.exports),At=(i,d)=>{for(var a in d)Et(i,a,{get:d[a],enumerable:!0})},Xr=(i,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Vr(d))!Jr.call(i,f)&&f!==a&&Et(i,f,{get:()=>d[f],enumerable:!(h=qr(d,f))||h.enumerable});return i};var tt=i=>Xr(Et({},"__esModule",{value:!0}),i);var Tt={};At(Tt,{createReadStream:()=>lr,readFile:()=>Qr,readFileSync:()=>Zr});var Qr,Zr,lr,Mt=St(()=>{Qr=void 0,Zr=void 0,lr=void 0});var Ct={};At(Ct,{join:()=>Kr});var Kr,Dt=St(()=>{Kr=void 0});var pr=et((dr,Ft)=>{"use strict";var cr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){var a=d,h,f;a.ready=new Promise((t,o)=>{h=t,f=o});var w=Object.assign({},a),g="./this.program",u=typeof window=="object",_=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",D,L,X;if(P){var B=(Mt(),tt(Tt)),k=(Dt(),tt(Ct));R=_?k.dirname(R)+"/":__dirname+"/",D=(t,o)=>(t=_e(t)?new URL(t):k.normalize(t),B.readFileSync(t,o?void 0:"utf8")),X=t=>(t=D(t,!0),t.buffer||(t=new Uint8Array(t)),t),L=(t,o,s,m=!0)=>{t=_e(t)?new URL(t):k.normalize(t),B.readFile(t,m?void 0:"utf8",(O,A)=>{O?s(O):o(m?A.buffer:A)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(u||_)&&(_?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),i&&(R=i),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",D=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},_&&(X=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),L=(t,o,s)=>{var m=new XMLHttpRequest;m.open("GET",t,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var F=console.log.bind(console),S=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&x("no native wasm support detected");var I,G=!1,ie,ee,E,$,ve;function xe(){var t=I.buffer;a.HEAP8=ie=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAPU8=ee=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=E=new Int32Array(t),a.HEAPU32=$=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=ve=new Float64Array(t)}var ue=[],Ue=[],oe=[],j=0,De=null,fe=null;function x(t){throw t="Aborted("+t+")",S(t),G=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),f(t),t}var le=t=>t.startsWith("data:application/octet-stream;base64,"),_e=t=>t.startsWith("file://"),ce;if(ce="ort-wasm.wasm",!le(ce)){var Ee=ce;ce=a.locateFile?a.locateFile(Ee,R):R+Ee}function ne(t){if(X)return X(t);throw"both async and sync fetching of the wasm failed"}function te(t){if(u||_){if(typeof fetch=="function"&&!_e(t))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>ne(t));if(L)return new Promise((o,s)=>{L(t,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>ne(t))}function We(t,o,s){return te(t).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{S(`failed to asynchronously prepare wasm: ${m}`),x(m)})}function Se(t,o){var s=ce;return typeof WebAssembly.instantiateStreaming!="function"||le(s)||_e(s)||P||typeof fetch!="function"?We(s,t,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,t).then(o,function(O){return S(`wasm streaming compile failed: ${O}`),S("falling back to ArrayBuffer instantiation"),We(s,t,o)}))}var ge,Ne={156368:(t,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(t=Q(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=a.za.get(t),!t)return 2;if(o>>>=0,s>>>=0,o+s>t.byteLength)return 3;try{return ee.set(t.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Ae(t){this.xa=t-24,this.Ha=function(o){$[this.xa+4>>>2>>>0]=o},this.Ga=function(o){$[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){$[this.xa+16>>>2>>>0]=0}}var ye=0,he=0,Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(t,o,s)=>{o>>>=0;var m=o+s;for(s=o;t[s]&&!(s>=m);)++s;if(16<s-o&&t.buffer&&Pe)return Pe.decode(t.subarray(o,s));for(m="";o<s;){var O=t[o++];if(O&128){var A=t[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|A);else{var U=t[o++]&63;O=(O&240)==224?(O&15)<<12|A<<6|U:(O&7)<<18|A<<12|U<<6|t[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},Q=(t,o)=>(t>>>=0)?re(ee,t,o):"",be=t=>{for(var o=0,s=0;s<t.length;++s){var m=t.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},we=(t,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var A=0;A<t.length;++A){var U=t.charCodeAt(A);if(55296<=U&&57343>=U){var ae=t.charCodeAt(++A);U=65536+((U&1023)<<10)|ae&1023}if(127>=U){if(s>=m)break;o[s++>>>0]=U}else{if(2047>=U){if(s+1>=m)break;o[s++>>>0]=192|U>>6}else{if(65535>=U){if(s+2>=m)break;o[s++>>>0]=224|U>>12}else{if(s+3>=m)break;o[s++>>>0]=240|U>>18,o[s++>>>0]=128|U>>12&63}o[s++>>>0]=128|U>>6&63}o[s++>>>0]=128|U&63}}return o[s>>>0]=0,s-O},Oe=t=>t%4===0&&(t%100!==0||t%400===0),nt=[0,31,60,91,121,152,182,213,244,274,305,335],je=[0,31,59,90,120,151,181,212,243,273,304,334],at=t=>{var o=be(t)+1,s=it(o);return s&&we(t,ee,s,o),s},Te=[],He={},Re=()=>{if(!Le){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in He)He[o]===void 0?delete t[o]:t[o]=He[o];var s=[];for(o in t)s.push(`${o}=${t[o]}`);Le=s}return Le},Le,ot=[null,[],[]],Fe=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31];function H(t){var o=Array(be(t)+1);return we(t,o,0,o.length),o}function ze(t,o,s,m){function O(c,W,Y){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=Y[0]+c;return c}function A(c,W){return O(c,W,"0")}function U(c,W){function Y(Ke){return 0>Ke?-1:0<Ke?1:0}var Me;return(Me=Y(c.getFullYear()-W.getFullYear()))===0&&(Me=Y(c.getMonth()-W.getMonth()))===0&&(Me=Y(c.getDate()-W.getDate())),Me}function ae(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function pe(c){var W=c.ta;for(c=new Date(new Date(c.ua+1900,0,1).getTime());0<W;){var Y=c.getMonth(),Me=(Oe(c.getFullYear())?Fe:st)[Y];if(W>Me-c.getDate())W-=Me-c.getDate()+1,c.setDate(1),11>Y?c.setMonth(Y+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return Y=new Date(c.getFullYear()+1,0,4),W=ae(new Date(c.getFullYear(),0,4)),Y=ae(Y),0>=U(W,c)?0>=U(Y,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}t>>>=0,o>>>=0,s>>>=0,m>>>=0;var se=$[m+40>>>2>>>0];m={Da:E[m>>>2>>>0],Ca:E[m+4>>>2>>>0],va:E[m+8>>>2>>>0],ya:E[m+12>>>2>>>0],wa:E[m+16>>>2>>>0],ua:E[m+20>>>2>>>0],oa:E[m+24>>>2>>>0],ta:E[m+28>>>2>>>0],Ia:E[m+32>>>2>>>0],Ba:E[m+36>>>2>>>0],Ea:se?Q(se):""},s=Q(s),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var K in se)s=s.replace(new RegExp(K,"g"),se[K]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");se={"%a":c=>Qe[c.oa].substring(0,3),"%A":c=>Qe[c.oa],"%b":c=>Ze[c.wa].substring(0,3),"%B":c=>Ze[c.wa],"%C":c=>A((c.ua+1900)/100|0,2),"%d":c=>A(c.ya,2),"%e":c=>O(c.ya,2," "),"%g":c=>pe(c).toString().substring(2),"%G":c=>pe(c),"%H":c=>A(c.va,2),"%I":c=>(c=c.va,c==0?c=12:12<c&&(c-=12),A(c,2)),"%j":c=>{for(var W=0,Y=0;Y<=c.wa-1;W+=(Oe(c.ua+1900)?Fe:st)[Y++]);return A(c.ya+W,3)},"%m":c=>A(c.wa+1,2),"%M":c=>A(c.Ca,2),"%n":()=>`\n`,"%p":c=>0<=c.va&&12>c.va?"AM":"PM","%S":c=>A(c.Da,2),"%t":()=>"\t","%u":c=>c.oa||7,"%U":c=>A(Math.floor((c.ta+7-c.oa)/7),2),"%V":c=>{var W=Math.floor((c.ta+7-(c.oa+6)%7)/7);if(2>=(c.oa+371-c.ta-2)%7&&W++,W)W==53&&(Y=(c.oa+371-c.ta)%7,Y==4||Y==3&&Oe(c.ua)||(W=1));else{W=52;var Y=(c.oa+7-c.ta-1)%7;(Y==4||Y==5&&Oe(c.ua%400-1))&&W++}return A(W,2)},"%w":c=>c.oa,"%W":c=>A(Math.floor((c.ta+7-(c.oa+6)%7)/7),2),"%y":c=>(c.ua+1900).toString().substring(2),"%Y":c=>c.ua+1900,"%z":c=>{c=c.Ba;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(K in se)s.includes(K)&&(s=s.replace(new RegExp(K,"g"),se[K](m)));return s=s.replace(/\\0\\0/g,"%"),K=H(s),K.length>o?0:(ie.set(K,t>>>0),K.length-1)}var qe={a:function(t,o,s){throw t>>>=0,new Ae(t).Aa(o>>>0,s>>>0),ye=t,he++,ye},c:function(){return 0},i:function(){},z:function(){},C:function(){},s:function(){return 0},I:function(){},E:function(){},H:function(){},h:function(){},A:function(){},x:function(){},J:function(){},y:function(){},j:()=>1,m:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),E[s>>>2>>>0]=t.getUTCSeconds(),E[s+4>>>2>>>0]=t.getUTCMinutes(),E[s+8>>>2>>>0]=t.getUTCHours(),E[s+12>>>2>>>0]=t.getUTCDate(),E[s+16>>>2>>>0]=t.getUTCMonth(),E[s+20>>>2>>>0]=t.getUTCFullYear()-1900,E[s+24>>>2>>>0]=t.getUTCDay(),E[s+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},n:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),E[s>>>2>>>0]=t.getSeconds(),E[s+4>>>2>>>0]=t.getMinutes(),E[s+8>>>2>>>0]=t.getHours(),E[s+12>>>2>>>0]=t.getDate(),E[s+16>>>2>>>0]=t.getMonth(),E[s+20>>>2>>>0]=t.getFullYear()-1900,E[s+24>>>2>>>0]=t.getDay(),E[s+28>>>2>>>0]=(Oe(t.getFullYear())?nt:je)[t.getMonth()]+t.getDate()-1|0,E[s+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var m=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[s+32>>>2>>>0]=(o!=m&&t.getTimezoneOffset()==Math.min(m,o))|0},o:function(t){t>>>=0;var o=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),s=E[t+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),A=new Date(o.getFullYear(),0,1).getTimezoneOffset(),U=Math.min(A,O);return 0>s?E[t+32>>>2>>>0]=+(O!=A&&U==m):0<s!=(U==m)&&(O=Math.max(A,O),o.setTime(o.getTime()+6e4*((0<s?U:O)-m))),E[t+24>>>2>>>0]=o.getDay(),E[t+28>>>2>>>0]=(Oe(o.getFullYear())?nt:je)[o.getMonth()]+o.getDate()-1|0,E[t>>>2>>>0]=o.getSeconds(),E[t+4>>>2>>>0]=o.getMinutes(),E[t+8>>>2>>>0]=o.getHours(),E[t+12>>>2>>>0]=o.getDate(),E[t+16>>>2>>>0]=o.getMonth(),E[t+20>>>2>>>0]=o.getYear(),t=o.getTime(),isNaN(t)?(E[Ve()>>>2>>>0]=61,t=-1):t/=1e3,T((ge=t,1<=+Math.abs(ge)?0<ge?+Math.floor(ge/4294967296)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)),t>>>0},k:function(){return-52},l:function(){},u:function(t,o,s){function m(pe){return(pe=pe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?pe[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),A=new Date(O,0,1),U=new Date(O,6,1);O=A.getTimezoneOffset();var ae=U.getTimezoneOffset();$[t>>>0>>>2>>>0]=60*Math.max(O,ae),E[o>>>0>>>2>>>0]=+(O!=ae),t=m(A),o=m(U),t=at(t),o=at(o),ae<O?($[s>>>2>>>0]=t,$[s+4>>>2>>>0]=o):($[s>>>2>>>0]=o,$[s+4>>>2>>>0]=t)},e:()=>{x("")},B:function(t,o,s){t>>>=0,o>>>=0,s>>>=0,Te.length=0;for(var m;m=ee[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Te.push(m==112?$[s>>>2>>>0]:m==105?E[s>>>2>>>0]:ve[s>>>3>>>0]),s+=O?8:4}return Ne[t].apply(null,Te)},f:()=>Date.now(),v:function(){return 4294901760},b:()=>performance.now(),D:function(t,o,s){return o>>>=0,ee.copyWithin(t>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},t:function(t){t>>>=0;var o=ee.length;if(4294901760<t)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,t+100663296);var O=Math;m=Math.max(t,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-I.buffer.byteLength+65535)/65536;try{I.grow(O),xe();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},F:function(t,o){t>>>=0,o>>>=0;var s=0;return Re().forEach((m,O)=>{var A=o+s;for(O=$[t+4*O>>>2>>>0]=A,A=0;A<m.length;++A)ie[O++>>>0>>>0]=m.charCodeAt(A);ie[O>>>0>>>0]=0,s+=m.length+1}),0},G:function(t,o){t>>>=0,o>>>=0;var s=Re();$[t>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),$[o>>>2>>>0]=m,0},d:()=>52,g:function(){return 52},p:function(){return 70},w:function(t,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,A=0;A<s;A++){var U=$[o>>>2>>>0],ae=$[o+4>>>2>>>0];o+=8;for(var pe=0;pe<ae;pe++){var se=ee[U+pe>>>0],K=ot[t];se===0||se===10?((t===1?F:S)(re(K,0)),K.length=0):K.push(se)}O+=ae}return $[m>>>2>>>0]=O,0},q:ze,r:function(t,o,s,m){return ze(t>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function t(s){return C=s.exports,C=ut(),I=C.K,xe(),Ue.unshift(C.L),j--,j==0&&(De!==null&&(clearInterval(De),De=null),fe&&(s=fe,fe=null,s())),C}var o={a:qe};if(j++,a.instantiateWasm)try{return a.instantiateWasm(o,t)}catch(s){S(`Module.instantiateWasm callback failed with error: ${s}`),f(s)}return Se(o,function(s){t(s.instance)}).catch(f),{}}();a._OrtInit=(t,o)=>(a._OrtInit=C.M)(t,o),a._OrtGetLastError=(t,o)=>(a._OrtGetLastError=C.N)(t,o),a._OrtCreateSessionOptions=(t,o,s,m,O,A,U,ae,pe,se)=>(a._OrtCreateSessionOptions=C.O)(t,o,s,m,O,A,U,ae,pe,se),a._OrtAppendExecutionProvider=(t,o)=>(a._OrtAppendExecutionProvider=C.P)(t,o),a._OrtAddFreeDimensionOverride=(t,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(t,o,s),a._OrtAddSessionConfigEntry=(t,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(t,o,s),a._OrtReleaseSessionOptions=t=>(a._OrtReleaseSessionOptions=C.S)(t),a._OrtCreateSession=(t,o,s)=>(a._OrtCreateSession=C.T)(t,o,s),a._OrtReleaseSession=t=>(a._OrtReleaseSession=C.U)(t),a._OrtGetInputOutputCount=(t,o,s)=>(a._OrtGetInputOutputCount=C.V)(t,o,s),a._OrtGetInputName=(t,o)=>(a._OrtGetInputName=C.W)(t,o),a._OrtGetOutputName=(t,o)=>(a._OrtGetOutputName=C.X)(t,o),a._OrtFree=t=>(a._OrtFree=C.Y)(t),a._OrtCreateTensor=(t,o,s,m,O,A)=>(a._OrtCreateTensor=C.Z)(t,o,s,m,O,A),a._OrtGetTensorData=(t,o,s,m,O)=>(a._OrtGetTensorData=C._)(t,o,s,m,O),a._OrtReleaseTensor=t=>(a._OrtReleaseTensor=C.$)(t),a._OrtCreateRunOptions=(t,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(t,o,s,m),a._OrtAddRunConfigEntry=(t,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(t,o,s),a._OrtReleaseRunOptions=t=>(a._OrtReleaseRunOptions=C.ca)(t),a._OrtCreateBinding=t=>(a._OrtCreateBinding=C.da)(t),a._OrtBindInput=(t,o,s)=>(a._OrtBindInput=C.ea)(t,o,s),a._OrtBindOutput=(t,o,s,m)=>(a._OrtBindOutput=C.fa)(t,o,s,m),a._OrtClearBoundOutputs=t=>(a._OrtClearBoundOutputs=C.ga)(t),a._OrtReleaseBinding=t=>(a._OrtReleaseBinding=C.ha)(t),a._OrtRunWithBinding=(t,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(t,o,s,m,O),a._OrtRun=(t,o,s,m,O,A,U,ae)=>(a._OrtRun=C.ja)(t,o,s,m,O,A,U,ae),a._OrtEndProfiling=t=>(a._OrtEndProfiling=C.ka)(t);var Ve=()=>(Ve=C.la)(),it=a._malloc=t=>(it=a._malloc=C.ma)(t);a._free=t=>(a._free=C.na)(t);var T=t=>(T=C.pa)(t),Ie=()=>(Ie=C.qa)(),Je=t=>(Je=C.ra)(t),Be=t=>(Be=C.sa)(t);function ut(){var t=C;t=Object.assign({},t);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return t.la=o(t.la),t.ma=s(t.ma),t.qa=o(t.qa),t.sa=s(t.sa),t}a.stackAlloc=Be,a.stackSave=Ie,a.stackRestore=Je,a.UTF8ToString=Q,a.stringToUTF8=(t,o,s)=>we(t,ee,o,s),a.lengthBytesUTF8=be;var Ge;fe=function t(){Ge||Xe(),Ge||(fe=t)};function Xe(){if(!(0<j)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var t=a.preRun.shift();ue.unshift(t)}for(;0<ue.length;)ue.shift()(a);if(!(0<j||Ge||(Ge=!0,a.calledRun=!0,G))){for(;0<Ue.length;)Ue.shift()(a);for(h(a);0<oe.length;)oe.shift()(a)}}}return Xe(),d.ready}})();typeof dr=="object"&&typeof Ft=="object"?Ft.exports=cr:typeof define=="function"&&define.amd&&define([],()=>cr)});var mr=et(()=>{});var gr=et(()=>{});var hr={};At(hr,{cpus:()=>en});var en,yr=St(()=>{en=void 0});var Or=et((wr,xt)=>{"use strict";var br=(()=>{var i=typeof document<"u"?document.currentScript?.src:void 0;return typeof __filename<"u"&&(i||=__filename),function(d={}){function a(){return j.buffer!=le.buffer&&te(),le}function h(){return j.buffer!=le.buffer&&te(),_e}function f(){return j.buffer!=le.buffer&&te(),ce}function w(){return j.buffer!=le.buffer&&te(),Ee}function g(){return j.buffer!=le.buffer&&te(),ne}var u=d,_,P,R=new Promise((e,r)=>{_=e,P=r}),D=Object.assign({},u),L="./this.program",X=(e,r)=>{throw r},B=typeof window=="object",k=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S=u.ENVIRONMENT_IS_PTHREAD||!1,I="";function G(e){return u.locateFile?u.locateFile(e,I):I+e}var ie,ee,E;if(F){var $=(Mt(),tt(Tt)),ve=(Dt(),tt(Ct));I=k?ve.dirname(I)+"/":__dirname+"/",ie=(e,r)=>(e=be(e)?new URL(e):ve.normalize(e),$.readFileSync(e,r?void 0:"utf8")),E=e=>(e=ie(e,!0),e.buffer||(e=new Uint8Array(e)),e),ee=(e,r,n,l=!0)=>{e=be(e)?new URL(e):ve.normalize(e),$.readFile(e,l?void 0:"utf8",(b,y)=>{b?n(b):r(l?y.buffer:y)})},!u.thisProgram&&1<process.argv.length&&(L=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),X=(e,r)=>{throw process.exitCode=e,r},global.Worker=mr().Worker}else(B||k)&&(k?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),typeof i<"u"&&i&&(I=i),I.startsWith("blob:")?I="":I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1),F||(ie=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},k&&(E=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ee=(e,r,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):n()},l.onerror=n,l.send(null)}));F&&typeof performance>"u"&&(global.performance=gr().performance);var xe=console.log.bind(console),ue=console.error.bind(console);F&&(xe=(...e)=>$.writeSync(1,e.join(" ")+`\n`),ue=(...e)=>$.writeSync(2,e.join(" ")+`\n`));var Ue=xe,oe=ue;Object.assign(u,D),D=null;var j,De,fe=!1,x,le,_e,ce,Ee,ne;function te(){var e=j.buffer;u.HEAP8=le=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAPU8=_e=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAP32=ce=new Int32Array(e),u.HEAPU32=Ee=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=ne=new Float64Array(e)}var We=16777216;if(S)j=u.wasmMemory;else if(u.wasmMemory)j=u.wasmMemory;else if(j=new WebAssembly.Memory({initial:We/65536,maximum:65536,shared:!0}),!(j.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),F&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");te(),We=j.buffer.byteLength;var Se=[],ge=[],Ne=[],Ae=0,ye=null,he=null;function Pe(){if(Ae--,Ae==0&&(ye!==null&&(clearInterval(ye),ye=null),he)){var e=he;he=null,e()}}function re(e){throw e="Aborted("+e+")",oe(e),fe=!0,x=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}var Q=e=>e.startsWith("data:application/octet-stream;base64,"),be=e=>e.startsWith("file://"),we;we="ort-wasm-threaded.wasm",Q(we)||(we=G(we));function Oe(e){if(E)return E(e);throw"both async and sync fetching of the wasm failed"}function nt(e){if(B||k){if(typeof fetch=="function"&&!be(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at \'${e}\'`;return r.arrayBuffer()}).catch(()=>Oe(e));if(ee)return new Promise((r,n)=>{ee(e,l=>r(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>Oe(e))}function je(e,r,n){return nt(e).then(l=>WebAssembly.instantiate(l,r)).then(n,l=>{oe(`failed to asynchronously prepare wasm: ${l}`),re(l)})}function at(e,r){var n=we;return typeof WebAssembly.instantiateStreaming!="function"||Q(n)||be(n)||F||typeof fetch!="function"?je(n,e,r):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(b){return oe(`wasm streaming compile failed: ${b}`),oe("falling back to ArrayBuffer instantiation"),je(n,e,r)}))}var Te,He={796676:(e,r,n,l)=>{if(typeof u>"u"||!u.bb)return 1;if(e=A(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=u.bb.get(e),!e)return 2;if(r>>>=0,n>>>=0,l>>>=0,r+n>e.byteLength)return 3;try{return h().set(e.subarray(r,r+n),l>>>0),0}catch{return 4}}};function Re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Le=e=>{e.terminate(),e.onmessage=()=>{}},ot=e=>{T.Oa.length==0&&(Ve(),T.Xa(T.Oa[0]));var r=T.Oa.pop();if(!r)return 6;T.Pa.push(r),T.La[e.Na]=r,r.Na=e.Na;var n={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return F&&r.unref(),r.postMessage(n,e.mb),0},Fe=0,st=e=>{var r=_t();return e=e(),ct(r),e},H=(e,r,...n)=>st(()=>{for(var l=n.length,b=vt(8*l),y=b>>>3,v=0;v<n.length;v++){var V=n[v];g()[y+v>>>0]=V}return rr(e,0,l,b,r)});function ze(e){if(S)return H(0,1,e);x=e,0<Fe||(T.hb(),u.onExit?.(e),fe=!0),X(e,new Re(e))}var qe=e=>{if(x=e,S)throw Je(e),"unwind";ze(e)};function C(){for(var e=u.numThreads;e--;)Ve();Se.unshift(()=>{Ae++,it(()=>Pe())})}function Ve(){var e=G("ort-wasm-threaded.worker.js");e=new Worker(e),T.Oa.push(e)}function it(e){S?e():Promise.all(T.Oa.map(T.Xa)).then(e)}var T={Oa:[],Pa:[],ab:[],La:{},Va(){S?(T.receiveObjectTransfer=T.fb,T.threadInitTLS=T.$a,T.setExitStatus=T.Za):C()},Za:e=>x=e,pb:["$terminateWorker"],hb:()=>{for(var e of T.Pa)Le(e);for(e of T.Oa)Le(e);T.Oa=[],T.Pa=[],T.La=[]},Ya:e=>{var r=e.Na;delete T.La[r],T.Oa.push(e),T.Pa.splice(T.Pa.indexOf(e),1),e.Na=0,wt(r)},fb(){},$a(){T.ab.forEach(e=>e())},Xa:e=>new Promise(r=>{e.onmessage=y=>{y=y.data;var v=y.cmd;if(y.targetThread&&y.targetThread!=lt()){var V=T.La[y.targetThread];V?V.postMessage(y,y.transferList):oe(`Internal error! Worker sent a message "${v}" to target pthread ${y.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?ot(y):v==="cleanupThread"?T.Ya(T.La[y.thread]):v==="killThread"?(y=y.thread,v=T.La[y],delete T.La[y],Le(v),wt(y),T.Pa.splice(T.Pa.indexOf(v),1),v.Na=0):v==="cancelThread"?T.La[y.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,F&&!e.Na&&e.unref(),r(e)):v==="alert"?alert(`Thread ${y.threadId}: ${y.text}`):y.target==="setimmediate"?e.postMessage(y):v==="callHandler"?u[y.handler](...y.args):v&&oe(`worker sent an unknown command ${v}`)},e.onerror=y=>{throw oe(`worker sent an error! ${y.filename}:${y.lineno}: ${y.message}`),y},F&&(e.on("message",y=>e.onmessage({data:y})),e.on("error",y=>e.onerror(y)));var n=[],l=["onExit"],b;for(b of l)u.hasOwnProperty(b)&&n.push(b);e.postMessage({cmd:"load",handlers:n,urlOrBlob:u.mainScriptUrlOrBlob||i,wasmMemory:j,wasmModule:De})})};u.PThread=T;var Ie=e=>{for(;0<e.length;)e.shift()(u)};u.establishStackSpace=()=>{var e=lt(),r=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],or(r,r-e),ct(r)};function Je(e){if(S)return H(1,0,e);qe(e)}var Be=[],ut;u.invokeEntryPoint=(e,r)=>{Fe=0;var n=Be[e];n||(e>=Be.length&&(Be.length=e+1),Be[e]=n=ut.get(e)),e=n(r),0<Fe?T.Za(e):Ot(e)};class Ge{constructor(r){this.Ua=r-24}Va(r,n){w()[this.Ua+16>>>2>>>0]=0,w()[this.Ua+4>>>2>>>0]=r,w()[this.Ua+8>>>2>>>0]=n}}var Xe=0,t=0;function o(e,r,n,l){return S?H(2,1,e,r,n,l):s(e,r,n,l)}function s(e,r,n,l){if(e>>>=0,r>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var b=[];return S&&b.length===0?o(e,r,n,l):(e={gb:n,Na:e,cb:l,mb:b},S?(e.ob="spawnThread",postMessage(e,b),0):ot(e))}var m=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(e,r,n)=>{r>>>=0;var l=r+n;for(n=r;e[n]&&!(n>=l);)++n;if(16<n-r&&e.buffer&&m)return m.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,n):e.subarray(r,n));for(l="";r<n;){var b=e[r++];if(b&128){var y=e[r++]&63;if((b&224)==192)l+=String.fromCharCode((b&31)<<6|y);else{var v=e[r++]&63;b=(b&240)==224?(b&15)<<12|y<<6|v:(b&7)<<18|y<<12|v<<6|e[r++]&63,65536>b?l+=String.fromCharCode(b):(b-=65536,l+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else l+=String.fromCharCode(b)}return l},A=(e,r)=>(e>>>=0)?O(h(),e,r):"";function U(e,r,n){return S?H(3,1,e,r,n):0}function ae(e,r){if(S)return H(4,1,e,r)}var pe=e=>{for(var r=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++n):r+=3}return r},se=(e,r,n,l)=>{if(n>>>=0,!(0<l))return 0;var b=n;l=n+l-1;for(var y=0;y<e.length;++y){var v=e.charCodeAt(y);if(55296<=v&&57343>=v){var V=e.charCodeAt(++y);v=65536+((v&1023)<<10)|V&1023}if(127>=v){if(n>=l)break;r[n++>>>0]=v}else{if(2047>=v){if(n+1>=l)break;r[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=l)break;r[n++>>>0]=224|v>>12}else{if(n+3>=l)break;r[n++>>>0]=240|v>>18,r[n++>>>0]=128|v>>12&63}r[n++>>>0]=128|v>>6&63}r[n++>>>0]=128|v&63}}return r[n>>>0]=0,n-b},K=(e,r,n)=>se(e,h(),r,n);function Qe(e,r){if(S)return H(5,1,e,r)}function Ze(e,r,n){if(S)return H(6,1,e,r,n)}function c(e,r,n){return S?H(7,1,e,r,n):0}function W(e,r){if(S)return H(8,1,e,r)}function Y(e,r,n){if(S)return H(9,1,e,r,n)}function Me(e,r,n,l){if(S)return H(10,1,e,r,n,l)}function Ke(e,r,n,l){if(S)return H(11,1,e,r,n,l)}function Bt(e,r,n,l){if(S)return H(12,1,e,r,n,l)}function kt(e){if(S)return H(13,1,e)}function Wt(e,r){if(S)return H(14,1,e,r)}function Nt(e,r,n){if(S)return H(15,1,e,r,n)}function mt(e){e>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(f(),e>>>2,e).value.then(ft),e+=128,Atomics.store(f(),e>>>2,1))}u.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=nr,!fe))try{if(e(),!(0<Fe))try{S?Ot(x):qe(x)}catch(r){r instanceof Re||r=="unwind"||X(1,r)}}catch(r){r instanceof Re||r=="unwind"||X(1,r)}};u.checkMailbox=ft;var gt=[],$e=e=>e%4===0&&(e%100!==0||e%400===0),Ht=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,r,n,l,b,y,v,V){return S?H(16,1,e,r,n,l,b,y,v,V):-52}function Yt(e,r,n,l,b,y,v){if(S)return H(17,1,e,r,n,l,b,y,v)}var ht=[],yt={},jt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"},r;for(r in yt)yt[r]===void 0?delete e[r]:e[r]=yt[r];var n=[];for(r in e)n.push(`${r}=${e[r]}`);bt=n}return bt},bt;function zt(e,r){if(S)return H(18,1,e,r);e>>>=0,r>>>=0;var n=0;return jt().forEach((l,b)=>{var y=r+n;for(b=w()[e+4*b>>>2>>>0]=y,y=0;y<l.length;++y)a()[b++>>>0]=l.charCodeAt(y);a()[b>>>0]=0,n+=l.length+1}),0}function qt(e,r){if(S)return H(19,1,e,r);e>>>=0,r>>>=0;var n=jt();w()[e>>>2>>>0]=n.length;var l=0;return n.forEach(b=>l+=b.length+1),w()[r>>>2>>>0]=l,0}function Vt(e){return S?H(20,1,e):52}function Jt(e,r,n,l){return S?H(21,1,e,r,n,l):52}function Xt(e,r,n,l,b){return S?H(22,1,e,r,n,l,b):70}var Hr=[null,[],[]];function Qt(e,r,n,l){if(S)return H(23,1,e,r,n,l);r>>>=0,n>>>=0,l>>>=0;for(var b=0,y=0;y<n;y++){var v=w()[r>>>2>>>0],V=w()[r+4>>>2>>>0];r+=8;for(var Ce=0;Ce<V;Ce++){var de=h()[v+Ce>>>0],me=Hr[e];de===0||de===10?((e===1?Ue:oe)(O(me,0)),me.length=0):me.push(de)}b+=V}return w()[l>>>2>>>0]=b,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function Gr(e){var r=Array(pe(e)+1);return se(e,r,0,r.length),r}var $r=(e,r)=>{a().set(e,r>>>0)};function er(e,r,n,l){function b(p,N,J){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=J[0]+p;return p}function y(p,N){return b(p,N,"0")}function v(p,N){function J(fr){return 0>fr?-1:0<fr?1:0}var ke;return(ke=J(p.getFullYear()-N.getFullYear()))===0&&(ke=J(p.getMonth()-N.getMonth()))===0&&(ke=J(p.getDate()-N.getDate())),ke}function V(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Ce(p){var N=p.Qa;for(p=new Date(new Date(p.Ra+1900,0,1).getTime());0<N;){var J=p.getMonth(),ke=($e(p.getFullYear())?Zt:Kt)[J];if(N>ke-p.getDate())N-=ke-p.getDate()+1,p.setDate(1),11>J?p.setMonth(J+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return J=new Date(p.getFullYear()+1,0,4),N=V(new Date(p.getFullYear(),0,4)),J=V(J),0>=v(N,p)?0>=v(J,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,l>>>=0;var de=w()[l+40>>>2>>>0];l={kb:f()[l>>>2>>>0],jb:f()[l+4>>>2>>>0],Sa:f()[l+8>>>2>>>0],Wa:f()[l+12>>>2>>>0],Ta:f()[l+16>>>2>>>0],Ra:f()[l+20>>>2>>>0],Ma:f()[l+24>>>2>>>0],Qa:f()[l+28>>>2>>>0],qb:f()[l+32>>>2>>>0],ib:f()[l+36>>>2>>>0],lb:de?A(de):""},n=A(n),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in de)n=n.replace(new RegExp(me,"g"),de[me]);var ir="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");de={"%a":p=>ir[p.Ma].substring(0,3),"%A":p=>ir[p.Ma],"%b":p=>ur[p.Ta].substring(0,3),"%B":p=>ur[p.Ta],"%C":p=>y((p.Ra+1900)/100|0,2),"%d":p=>y(p.Wa,2),"%e":p=>b(p.Wa,2," "),"%g":p=>Ce(p).toString().substring(2),"%G":Ce,"%H":p=>y(p.Sa,2),"%I":p=>(p=p.Sa,p==0?p=12:12<p&&(p-=12),y(p,2)),"%j":p=>{for(var N=0,J=0;J<=p.Ta-1;N+=($e(p.Ra+1900)?Zt:Kt)[J++]);return y(p.Wa+N,3)},"%m":p=>y(p.Ta+1,2),"%M":p=>y(p.jb,2),"%n":()=>`\n`,"%p":p=>0<=p.Sa&&12>p.Sa?"AM":"PM","%S":p=>y(p.kb,2),"%t":()=>"\t","%u":p=>p.Ma||7,"%U":p=>y(Math.floor((p.Qa+7-p.Ma)/7),2),"%V":p=>{var N=Math.floor((p.Qa+7-(p.Ma+6)%7)/7);if(2>=(p.Ma+371-p.Qa-2)%7&&N++,N)N==53&&(J=(p.Ma+371-p.Qa)%7,J==4||J==3&&$e(p.Ra)||(N=1));else{N=52;var J=(p.Ma+7-p.Qa-1)%7;(J==4||J==5&&$e(p.Ra%400-1))&&N++}return y(N,2)},"%w":p=>p.Ma,"%W":p=>y(Math.floor((p.Qa+7-(p.Ma+6)%7)/7),2),"%y":p=>(p.Ra+1900).toString().substring(2),"%Y":p=>p.Ra+1900,"%z":p=>{p=p.ib;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.lb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in de)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),de[me](l)));return n=n.replace(/\\0\\0/g,"%"),me=Gr(n),me.length>r?0:($r(me,e),me.length-1)}T.Va();var Yr=[ze,Je,o,U,ae,Qe,Ze,c,W,Y,Me,Ke,Bt,kt,Wt,Nt,$t,Yt,zt,qt,Vt,Jt,Xt,Qt],jr={b:function(e,r,n){throw e>>>=0,new Ge(e).Va(r>>>0,n>>>0),Xe=e,t++,Xe},L:function(e){tr(e>>>0,!k,1,!B,131072,!1),T.$a()},j:function(e){e>>>=0,S?postMessage({cmd:"cleanupThread",thread:e}):T.Ya(T.La[e])},H:s,h:U,S:ae,D:Qe,F:Ze,T:c,Q:W,J:Y,P:Me,n:Ke,E:Bt,B:kt,R:Wt,C:Nt,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(ft):S?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=T.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,n,l,b){r>>>=0,n>>>=0,gt.length=l,b=b>>>0>>>3;for(var y=0;y<l;y++)gt[y]=g()[b+y>>>0];return e=r?He[r]:Yr[e],T.eb=n,n=e(...gt),T.eb=0,n},K:mt,o:function(e){F&&T.La[e>>>0].ref()},s:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),r=($e(e.getFullYear())?Ht:Gt)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=r,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=l&&e.getTimezoneOffset()==Math.min(l,r))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=r.getTimezoneOffset(),b=new Date(r.getFullYear(),6,1).getTimezoneOffset(),y=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(y,b);return 0>n?f()[e+32>>>2>>>0]=+(b!=y&&v==l):0<n!=(v==l)&&(b=Math.max(y,b),r.setTime(r.getTime()+6e4*((0<n?v:b)-l))),f()[e+24>>>2>>>0]=r.getDay(),n=($e(r.getFullYear())?Ht:Gt)[r.getMonth()]+r.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=r.getSeconds(),f()[e+4>>>2>>>0]=r.getMinutes(),f()[e+8>>>2>>>0]=r.getHours(),f()[e+12>>>2>>>0]=r.getDate(),f()[e+16>>>2>>>0]=r.getMonth(),f()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),e=isNaN(e)?-1:e/1e3,ar((Te=e,1<=+Math.abs(Te)?0<Te?+Math.floor(Te/4294967296)>>>0:~~+Math.ceil((Te-+(~~Te>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:Yt,y:function(e,r,n,l){e>>>=0,r>>>=0,n>>>=0,l>>>=0;var b=new Date().getFullYear(),y=new Date(b,0,1),v=new Date(b,6,1);b=y.getTimezoneOffset();var V=v.getTimezoneOffset(),Ce=Math.max(b,V);w()[e>>>2>>>0]=60*Ce,f()[r>>>2>>>0]=+(b!=V),e=de=>de.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],y=e(y),v=e(v),V<b?(K(y,n,17),K(v,l,17)):(K(y,l,17),K(v,n,17))},c:()=>{re("")},O:function(e,r,n){e>>>=0,r>>>=0,n>>>=0,ht.length=0;for(var l;l=h()[r++>>>0];){var b=l!=105;b&=l!=112,n+=b&&n%8?4:0,ht.push(l==112?w()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=b?8:4}return He[e](...ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Fe+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>F?(yr(),tt(hr)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=h().length;if(e<=r||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=r*(1+.2/n);l=Math.min(l,e+100663296);var b=Math;l=Math.max(e,l);e:{b=(b.min.call(b,4294901760,l+(65536-l%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(b),te();var y=1;break e}catch{}y=void 0}if(y)return!0}return!1},M:zt,N:qt,G:qe,g:Vt,m:Jt,v:Xt,l:Qt,a:j||u.wasmMemory,w:er,d:function(e,r,n,l){return er(e>>>0,r>>>0,n>>>0,l>>>0)}},M=function(){function e(n,l){return M=n.exports,M=zr(),T.ab.push(M.ya),ut=M.za,ge.unshift(M.V),De=l,Pe(),M}var r={a:jr};if(Ae++,u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(n){oe(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return at(r,function(n){e(n.instance,n.module)}).catch(P),{}}();u._OrtInit=(e,r)=>(u._OrtInit=M.W)(e,r),u._OrtGetLastError=(e,r)=>(u._OrtGetLastError=M.X)(e,r),u._OrtCreateSessionOptions=(e,r,n,l,b,y,v,V,Ce,de)=>(u._OrtCreateSessionOptions=M.Y)(e,r,n,l,b,y,v,V,Ce,de),u._OrtAppendExecutionProvider=(e,r)=>(u._OrtAppendExecutionProvider=M.Z)(e,r),u._OrtAddFreeDimensionOverride=(e,r,n)=>(u._OrtAddFreeDimensionOverride=M._)(e,r,n),u._OrtAddSessionConfigEntry=(e,r,n)=>(u._OrtAddSessionConfigEntry=M.$)(e,r,n),u._OrtReleaseSessionOptions=e=>(u._OrtReleaseSessionOptions=M.aa)(e),u._OrtCreateSession=(e,r,n)=>(u._OrtCreateSession=M.ba)(e,r,n),u._OrtReleaseSession=e=>(u._OrtReleaseSession=M.ca)(e),u._OrtGetInputOutputCount=(e,r,n)=>(u._OrtGetInputOutputCount=M.da)(e,r,n),u._OrtGetInputName=(e,r)=>(u._OrtGetInputName=M.ea)(e,r),u._OrtGetOutputName=(e,r)=>(u._OrtGetOutputName=M.fa)(e,r),u._OrtFree=e=>(u._OrtFree=M.ga)(e),u._OrtCreateTensor=(e,r,n,l,b,y)=>(u._OrtCreateTensor=M.ha)(e,r,n,l,b,y),u._OrtGetTensorData=(e,r,n,l,b)=>(u._OrtGetTensorData=M.ia)(e,r,n,l,b),u._OrtReleaseTensor=e=>(u._OrtReleaseTensor=M.ja)(e),u._OrtCreateRunOptions=(e,r,n,l)=>(u._OrtCreateRunOptions=M.ka)(e,r,n,l),u._OrtAddRunConfigEntry=(e,r,n)=>(u._OrtAddRunConfigEntry=M.la)(e,r,n),u._OrtReleaseRunOptions=e=>(u._OrtReleaseRunOptions=M.ma)(e),u._OrtCreateBinding=e=>(u._OrtCreateBinding=M.na)(e),u._OrtBindInput=(e,r,n)=>(u._OrtBindInput=M.oa)(e,r,n),u._OrtBindOutput=(e,r,n,l)=>(u._OrtBindOutput=M.pa)(e,r,n,l),u._OrtClearBoundOutputs=e=>(u._OrtClearBoundOutputs=M.qa)(e),u._OrtReleaseBinding=e=>(u._OrtReleaseBinding=M.ra)(e),u._OrtRunWithBinding=(e,r,n,l,b)=>(u._OrtRunWithBinding=M.sa)(e,r,n,l,b),u._OrtRun=(e,r,n,l,b,y,v,V)=>(u._OrtRun=M.ta)(e,r,n,l,b,y,v,V),u._OrtEndProfiling=e=>(u._OrtEndProfiling=M.ua)(e);var lt=u._pthread_self=()=>(lt=u._pthread_self=M.va)();u._malloc=e=>(u._malloc=M.wa)(e),u._free=e=>(u._free=M.xa)(e),u.__emscripten_tls_init=()=>(u.__emscripten_tls_init=M.ya)();var tr=u.__emscripten_thread_init=(e,r,n,l,b,y)=>(tr=u.__emscripten_thread_init=M.Aa)(e,r,n,l,b,y);u.__emscripten_thread_crashed=()=>(u.__emscripten_thread_crashed=M.Ba)();var rr=(e,r,n,l,b)=>(rr=M.Ca)(e,r,n,l,b),wt=e=>(wt=M.Da)(e),Ot=u.__emscripten_thread_exit=e=>(Ot=u.__emscripten_thread_exit=M.Ea)(e),nr=()=>(nr=M.Fa)(),ar=e=>(ar=M.Ga)(e),or=(e,r)=>(or=M.Ha)(e,r),ct=e=>(ct=M.Ia)(e),vt=e=>(vt=M.Ja)(e),_t=()=>(_t=M.Ka)();function zr(){var e=M;e=Object.assign({},e);var r=l=>()=>l()>>>0,n=l=>b=>l(b)>>>0;return e.va=r(e.va),e.wa=n(e.wa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=n(e.Ja),e.Ka=r(e.Ka),e}u.wasmMemory=j,u.stackSave=()=>_t(),u.stackRestore=e=>ct(e),u.stackAlloc=e=>vt(e),u.keepRuntimeAlive=()=>0<Fe,u.UTF8ToString=A,u.stringToUTF8=K,u.lengthBytesUTF8=pe,u.ExitStatus=Re,u.PThread=T;var dt;he=function e(){dt||sr(),dt||(he=e)};function sr(){if(!(0<Ae))if(S)_(u),S||Ie(ge),startWorker(u);else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Se.unshift(u.preRun.shift());Ie(Se),0<Ae||dt||(dt=!0,u.calledRun=!0,fe||(S||Ie(ge),_(u),S||Ie(Ne)))}}return sr(),R}})();typeof wr=="object"&&typeof xt=="object"?xt.exports=br:typeof define=="function"&&define.amd&&define([],()=>br)});var vr=et((bn,tn)=>{tn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\\n\'});var Er;Er=pr();var rn=Or(),Pt,Ut=!1,pt=!1,_r=!1,nn=i=>{if(i===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+i+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+i+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},an=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},on=(i,d)=>i?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async i=>{if(Ut)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(_r)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=i.initTimeout,a=i.numThreads,h=i.simd,f=nn(a),w=h&&an(),g=i.wasmPaths,u=typeof g=="string"?g:void 0,_=on(w,f),P=typeof g=="object"?g[_]:void 0,R=!1,D=[];if(d>0&&D.push(new Promise(L=>{setTimeout(()=>{R=!0,L()},d)})),D.push(new Promise((L,X)=>{let B=f?rn:Er,k={locateFile:(F,S)=>f&&F.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([vr()],{type:"text/javascript"})):F.endsWith(".wasm")?P||(u??S)+_:S+F};if(f)if(k.numThreads=a,typeof Blob>"u")k.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let F=`var ortWasmThreaded=${B.toString()};`;k.mainScriptUrlOrBlob=new Blob([F],{type:"text/javascript"})}B(k).then(F=>{pt=!1,Ut=!0,Pt=F,L()},F=>{pt=!1,_r=!0,X(F)})})),await Promise.race(D),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},Z=()=>{if(Ut&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var z=(i,d)=>{let a=Z(),h=a.lengthBytesUTF8(i)+1,f=a._malloc(h);return a.stringToUTF8(i,f,h),d.push(f),f},rt=(i,d,a,h)=>{if(typeof i=="object"&&i!==null){if(a.has(i))throw new Error("Circular reference in options");a.add(i)}Object.entries(i).forEach(([f,w])=>{let g=d?d+f:f;if(typeof w=="object")rt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},q=i=>{let d=Z(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let f=d.HEAP32[h/4],w=d.HEAPU32[h/4+1],g=w?d.UTF8ToString(w):"";throw new Error(`${i} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Ar=i=>{let d=Z(),a=0,h=[],f=i||{};try{if(i?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(f.terminate=!1);let w=0;return i?.tag!==void 0&&(w=z(i.tag,h)),a=d._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,w),a===0&&q("Can\'t create run options."),i?.extra!==void 0&&rt(i.extra,"",new WeakSet,(g,u)=>{let _=z(g,h),P=z(u,h);d._OrtAddRunConfigEntry(a,_,P)!==0&&q(`Can\'t set a run config entry: ${g} - ${u}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),w}};var sn=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},un=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},fn=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let d=i.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(i.enableMemPattern=!1)},ln=(i,d,a)=>{for(let h of d){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let u=z("deviceType",a),_=z(g.deviceType,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let u=g.numThreads;(typeof u!="number"||!Number.isInteger(u)||u<0)&&(u=0);let _=z("numThreads",a),P=z(u.toString(),a);Z()._OrtAddSessionConfigEntry(i,_,P)!==0&&q(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let u=z("powerPreference",a),_=z(g.powerPreference,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let u=z("preferredLayout",a),_=z(g.preferredLayout,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let w=z(f,a);Z()._OrtAppendExecutionProvider(i,w)!==0&&q(`Can\'t append execution provider: ${f}.`)}},Tr=i=>{let d=Z(),a=0,h=[],f=i||{};fn(f);try{let w=sn(f.graphOptimizationLevel??"all"),g=un(f.executionMode??"sequential"),u=typeof f.logId=="string"?z(f.logId,h):0,_=f.logSeverityLevel??2;if(!Number.isInteger(_)||_<0||_>4)throw new Error(`log serverity level is not valid: ${_}`);let P=f.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let R=typeof f.optimizedModelFilePath=="string"?z(f.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(w,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,u,_,P,R),a===0&&q("Can\'t create session options."),f.executionProviders&&ln(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let D=z("enableGraphCapture",h),L=z(f.enableGraphCapture.toString(),h);d._OrtAddSessionConfigEntry(a,D,L)!==0&&q(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[D,L]of Object.entries(f.freeDimensionOverrides)){if(typeof D!="string")throw new Error(`free dimension override name must be a string: ${D}`);if(typeof L!="number"||!Number.isInteger(L)||L<0)throw new Error(`free dimension override value must be a non-negative integer: ${L}`);let X=z(D,h);d._OrtAddFreeDimensionOverride(a,X,L)!==0&&q(`Can\'t set a free dimension override: ${D} - ${L}.`)}return f.extra!==void 0&&rt(f.extra,"",new WeakSet,(D,L)=>{let X=z(D,h),B=z(L,h);d._OrtAddSessionConfigEntry(a,X,B)!==0&&q(`Can\'t set a session config entry: ${D} - ${L}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),w}};var Rt=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Mr=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},Lt=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Cr=i=>{switch(i){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Dr=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Fr=i=>i==="float32"||i==="float16"||i==="int32"||i==="int64"||i==="uint32"||i==="uint8"||i==="bool",xr=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}};var Pr=async i=>{if(typeof i=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(i))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(i),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(i);if(!d.ok)throw new Error(`failed to load external data file: ${i}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${i}, no response body.`);let f=d.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(u){if(u instanceof RangeError){let _=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:_,maximum:_}).buffer}else throw u}let g=0;for(;;){let{done:u,value:_}=await f.read();if(u)break;let P=_.byteLength;new Uint8Array(w,g,P).set(_),g+=P}return new Uint8Array(w,0,h)}}else return i instanceof Blob?new Uint8Array(await i.arrayBuffer()):i instanceof Uint8Array?i:new Uint8Array(i)};var cn=(i,d)=>{Z()._OrtInit(i,d)!==0&&q("Can\'t initialize onnxruntime.")},Rr=async i=>{cn(i.wasm.numThreads,Dr(i.logLevel))},Lr=async(i,d)=>{},Ye=new Map,dn=i=>{let d=Z(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(i,h,h+4)!==0&&q("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},It=i=>{let d=Z(),a=d._malloc(i.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${i.byteLength}.`);return d.HEAPU8.set(i,a),[a,i.byteLength]},Ir=async(i,d)=>{let a,h,f=Z();Array.isArray(i)?[a,h]=i:i.buffer===f.HEAPU8.buffer?[a,h]=[i.byteOffset,i.byteLength]:[a,h]=It(i);let w=0,g=0,u=0,_=[],P=[],R=[];try{if([g,_]=Tr(d),d?.externalData&&f.mountExternalData){let I=[];for(let G of d.externalData){let ie=typeof G=="string"?G:G.path;I.push(Pr(typeof G=="string"?G:G.data).then(ee=>{f.mountExternalData(ie,ee)}))}await Promise.all(I)}w=await f._OrtCreateSession(a,h,g),w===0&&q("Can\'t create a session.");let[D,L]=dn(w),X=!!d?.enableGraphCapture,B=[],k=[],F=[];for(let I=0;I<D;I++){let G=f._OrtGetInputName(w,I);G===0&&q("Can\'t get an input name."),P.push(G),B.push(f.UTF8ToString(G))}for(let I=0;I<L;I++){let G=f._OrtGetOutputName(w,I);G===0&&q("Can\'t get an output name."),R.push(G);let ie=f.UTF8ToString(G);k.push(ie)}let S=null;return Ye.set(w,[w,P,R,S,X,!1]),[w,B,k]}catch(D){throw P.forEach(L=>f._OrtFree(L)),R.forEach(L=>f._OrtFree(L)),u!==0&&f._OrtReleaseBinding(u),w!==0&&f._OrtReleaseSession(w),D}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),_.forEach(D=>f._free(D)),f.unmountExternalData?.()}},Br=i=>{let d=Z(),a=Ye.get(i);if(!a)throw new Error(`cannot release session. invalid session id: ${i}`);let[h,f,w,g,u]=a;g&&(u&&d._OrtClearBoundOutputs(g.handle),d._OrtReleaseBinding(g.handle)),d.jsepOnReleaseSession?.(i),f.forEach(_=>d._OrtFree(_)),w.forEach(_=>d._OrtFree(_)),d._OrtReleaseSession(h),Ye.delete(i)},Ur=(i,d,a,h,f,w=!1)=>{if(!i){d.push(0);return}let g=Z(),u=i[0],_=i[1],P=i[3],R,D;if(u==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w&&P!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(P==="gpu-buffer"){let B=i[2].gpuBuffer,k=Lt(Rt(u));D=_.reduce((F,S)=>F*S,1)*k,R=g.jsepRegisterBuffer(h,f,B,D)}else{let B=i[2];if(Array.isArray(B)){D=4*B.length,R=g._malloc(D),a.push(R);let k=R/4;for(let F=0;F<B.length;F++){if(typeof B[F]!="string")throw new TypeError(`tensor data at index ${F} is not a string`);g.HEAPU32[k++]=z(B[F],a)}}else D=B.byteLength,R=g._malloc(D),a.push(R),g.HEAPU8.set(new Uint8Array(B.buffer,B.byteOffset,D),R)}let L=g.stackSave(),X=g.stackAlloc(4*_.length);try{let B=X/4;_.forEach(F=>g.HEAP32[B++]=F);let k=g._OrtCreateTensor(Rt(u),R,D,X,_.length,xr(P));k===0&&q(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),d.push(k)}finally{g.stackRestore(L)}},kr=async(i,d,a,h,f,w)=>{let g=Z(),u=Ye.get(i);if(!u)throw new Error(`cannot run inference. invalid session id: ${i}`);let _=u[0],P=u[1],R=u[2],D=u[3],L=u[4],X=u[5],B=d.length,k=h.length,F=0,S=[],I=[],G=[],ie=[],ee=g.stackSave(),E=g.stackAlloc(B*4),$=g.stackAlloc(B*4),ve=g.stackAlloc(k*4),xe=g.stackAlloc(k*4);try{[F,S]=Ar(w);for(let x=0;x<B;x++)Ur(a[x],I,ie,i,d[x],L);for(let x=0;x<k;x++)Ur(f[x],G,ie,i,B+h[x],L);let ue=E/4,Ue=$/4,oe=ve/4,j=xe/4;for(let x=0;x<B;x++)g.HEAPU32[ue++]=I[x],g.HEAPU32[Ue++]=P[d[x]];for(let x=0;x<k;x++)g.HEAPU32[oe++]=G[x],g.HEAPU32[j++]=R[h[x]];g.jsepOnRunStart?.(_);let De;De=await g._OrtRun(_,$,E,B,xe,k,ve,F),De!==0&&q("failed to call OrtRun().");let fe=[];for(let x=0;x<k;x++){let le=g.HEAPU32[ve/4+x];if(le===G[x]){fe.push(f[x]);continue}let _e=g.stackSave(),ce=g.stackAlloc(4*4),Ee=!1,ne,te=0;try{g._OrtGetTensorData(le,ce,ce+4,ce+8,ce+12)!==0&&q(`Can\'t access output tensor data on index ${x}.`);let Se=ce/4,ge=g.HEAPU32[Se++];te=g.HEAPU32[Se++];let Ne=g.HEAPU32[Se++],Ae=g.HEAPU32[Se++],ye=[];for(let re=0;re<Ae;re++)ye.push(g.HEAPU32[Ne/4+re]);g._OrtFree(Ne);let he=ye.reduce((re,Q)=>re*Q,1);ne=Mr(ge);let Pe=D?.outputPreferredLocations[h[x]];if(ne==="string"){if(Pe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Q=te/4;for(let be=0;be<he;be++){let we=g.HEAPU32[Q++],Oe=be===he-1?void 0:g.HEAPU32[Q]-we;re.push(g.UTF8ToString(we,Oe))}fe.push([ne,ye,re,"cpu"])}else if(Pe==="gpu-buffer"&&he>0){let re=g.jsepGetBuffer(te),Q=Lt(ge);if(Q===void 0||!Fr(ne))throw new Error(`Unsupported data type: ${ne}`);Ee=!0,fe.push([ne,ye,{gpuBuffer:re,download:g.jsepCreateDownloader(re,he*Q,ne),dispose:()=>{g._OrtReleaseTensor(le)}},"gpu-buffer"])}else{let re=Cr(ne),Q=new re(he);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(g.HEAPU8.subarray(te,te+Q.byteLength)),fe.push([ne,ye,Q,"cpu"])}}finally{g.stackRestore(_e),ne==="string"&&te&&g._free(te),Ee||g._OrtReleaseTensor(le)}}return D&&!L&&(g._OrtClearBoundOutputs(D.handle),Ye.set(i,[_,P,R,D,L,!1])),fe}finally{g.stackRestore(ee),I.forEach(ue=>g._OrtReleaseTensor(ue)),G.forEach(ue=>g._OrtReleaseTensor(ue)),ie.forEach(ue=>g._free(ue)),F!==0&&g._OrtReleaseRunOptions(F),S.forEach(ue=>g._free(ue))}},Wr=i=>{let d=Z(),a=Ye.get(i);if(!a)throw new Error("invalid session id");let h=a[0],f=d._OrtEndProfiling(h);f===0&&q("Can\'t get an profile file name."),d._OrtFree(f)},Nr=i=>{let d=[];for(let a of i){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=i=>{let{type:d,in:a}=i.data;try{switch(d){case"init-wasm":Sr(a.wasm).then(()=>{Rr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Lr(f,h).then(()=>{postMessage({type:d})},w=>{postMessage({type:d,err:w})});break}case"copy-from":{let{buffer:h}=a,f=It(h);postMessage({type:d,out:f});break}case"create":{let{model:h,options:f}=a;Ir(h,f).then(w=>{postMessage({type:d,out:w})},w=>{postMessage({type:d,err:w})});break}case"release":Br(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:f,inputs:w,outputIndices:g,options:u}=a;kr(h,f,w,g,new Array(g.length).fill(null),u).then(_=>{_.some(P=>P[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:_},Nr([...w,..._]))},_=>{postMessage({type:d,err:_})});break}case"end-profiling":Wr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'})),kt=L((()=>{ne(),Lt(),Rt(),nt=()=>!!s.wasm.proxy&&typeof document<"u",ot=!1,it=!1,st=!1,lt=new Map,ft=(e,t)=>{let r=lt.get(e);r?r.push(t):lt.set(e,[t])},ct=()=>{if(ot||!it||st||!at)throw new Error("worker not ready")},dt=e=>{switch(e.data.type){case"init-wasm":ot=!1,e.data.err?(st=!0,ut[1](e.data.err)):(it=!0,ut[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=lt.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}}},pt=typeof document<"u"?document?.currentScript?.src:void 0,ht=async()=>{if(!it){if(ot)throw new Error("multiple calls to 'initWasm()' detected.");if(st)throw new Error("previous call to 'initWasm()' failed.");if(ot=!0,nt())return void 0===s.wasm.wasmPaths&&pt&&0!==pt.indexOf("blob:")&&(s.wasm.wasmPaths=pt.substr(0,+pt.lastIndexOf("/")+1)),new Promise(((e,t)=>{at?.terminate();let r=URL.createObjectURL(new Blob([It()],{type:"text/javascript"}));(at=new Worker(r,{name:"ort-wasm-proxy-worker"})).onerror=e=>t(e),at.onmessage=dt,URL.revokeObjectURL(r),ut=[e,t];let n={type:"init-wasm",in:s};at.postMessage(n)}));try{await Me(s.wasm),await ze(s),it=!0}catch(e){throw st=!0,e}finally{ot=!1}}},gt=async e=>{if(nt())return ct(),new Promise(((t,r)=>{ft("init-ep",[t,r]);let n={type:"init-ep",in:{epName:e,env:s}};at.postMessage(n)}));await Ve()},mt=async e=>nt()?(ct(),new Promise(((t,r)=>{ft("copy-from",[t,r]);let n={type:"copy-from",in:{buffer:e}};at.postMessage(n,[e.buffer])}))):Xe(e),yt=async(e,t)=>{if(nt()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ct(),new Promise(((r,n)=>{ft("create",[r,n]);let a={type:"create",in:{model:e,options:t}},o=[];e instanceof Uint8Array&&o.push(e.buffer),at.postMessage(a,o)}))}return Qe(e,t)},wt=async e=>{if(nt())return ct(),new Promise(((t,r)=>{ft("release",[t,r]);let n={type:"release",in:e};at.postMessage(n)}));Ze(e)},bt=async(e,t,r,n,a,o)=>{if(nt()){if(r.some((e=>"cpu"!==e[3])))throw new Error("input tensor on GPU is not supported for proxy.");if(a.some((e=>e)))throw new Error("pre-allocated output tensor is not supported for proxy.");return ct(),new Promise(((a,i)=>{ft("run",[a,i]);let s=r,u={type:"run",in:{sessionId:e,inputIndices:t,inputs:s,outputIndices:n,options:o}};at.postMessage(u,rt(s))}))}return et(e,t,r,n,a,o)},vt=async e=>{if(nt())return ct(),new Promise(((t,r)=>{ft("end-profiling",[t,r]);let n={type:"end-profiling",in:e};at.postMessage(n)}));tt(e)}})),Bt=L((()=>{ne(),kt(),Ft(),xt(),Ot=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`)}},_t=e=>{switch(e[3]){case"cpu":return new _(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!We(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:r,download:n,dispose:a}=e[2];return _.fromGpuBuffer(r,{dataType:t,dims:e[1],download:n,dispose:a})}default:throw new Error(`invalid data location: ${e[3]}`)}},Et=class{async fetchModelAndCopyToWasmMemory(e){return mt(await Ge(e))}async loadModel(e,t){let r;T(),r="string"==typeof e?typeof process<"u"&&process.versions&&process.versions.node?await Ge(e):await this.fetchModelAndCopyToWasmMemory(e):e,[this.sessionId,this.inputNames,this.outputNames]=await yt(r,t),M()}async dispose(){return wt(this.sessionId)}async run(e,t,r){T();let n=[],a=[];Object.entries(e).forEach((e=>{let t=e[0],r=e[1],o=this.inputNames.indexOf(t);if(-1===o)throw new Error(`invalid input '${t}'`);n.push(r),a.push(o)}));let o=[],i=[];Object.entries(t).forEach((e=>{let t=e[0],r=e[1],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);o.push(r),i.push(n)}));let s=n.map(((e,t)=>Ot(e,(()=>`input "${this.inputNames[a[t]]}"`)))),u=o.map(((e,t)=>e?Ot(e,(()=>`output "${this.outputNames[i[t]]}"`)):null)),l=await bt(this.sessionId,a,s,i,u,r),f={};for(let e=0;e<l.length;e++)f[this.outputNames[i[e]]]=o[e]??_t(l[e]);return M(),f}startProfiling(){}endProfiling(){vt(this.sessionId)}}})),Nt=L((()=>{ne(),kt(),Bt(),At=()=>{if(("number"!=typeof s.wasm.initTimeout||s.wasm.initTimeout<0)&&(s.wasm.initTimeout=0),"boolean"!=typeof s.wasm.simd&&(s.wasm.simd=!0),"boolean"!=typeof s.wasm.proxy&&(s.wasm.proxy=!1),"boolean"!=typeof s.wasm.trace&&(s.wasm.trace=!1),"number"!=typeof s.wasm.numThreads||!Number.isInteger(s.wasm.numThreads)||s.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(s.wasm.numThreads=1);let e=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;s.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},Tt=class{async init(e){At(),await ht(),await gt(e)}async createInferenceSessionHandler(e,t){let r=new Et;return await r.loadModel(e,t),Promise.resolve(r)}}})),$t={};k($t,{wasmBackend:()=>Ht});var Ht,Wt=L((()=>{Nt(),Ht=new Tt})),jt={};k(jt,{InferenceSession:()=>C,TRACE:()=>E,TRACE_FUNC_BEGIN:()=>T,TRACE_FUNC_END:()=>M,Tensor:()=>_,TrainingSession:()=>P,default:()=>Gt,env:()=>s,registerBackend:()=>r}),ne(),ne(),ne();var Gt=re;{let e=(Wt(),B($t)).wasmBackend;r("cpu",e,10),r("wasm",e,10)}return Object.defineProperty(s.versions,"web",{value:"1.18.0",enumerable:!0}),B(jt)})();