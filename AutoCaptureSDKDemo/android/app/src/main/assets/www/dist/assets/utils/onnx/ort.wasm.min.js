/*!
 * ONNX Runtime Web v1.18.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var nr=Object.defineProperty;var Ta=Object.getOwnPropertyDescriptor;var Aa=Object.getOwnPropertyNames;var Sa=Object.prototype.hasOwnProperty;var H=(t,r)=>()=>(t&&(r=t(t=0)),r);var nt=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),at=(t,r)=>{for(var n in r)nr(t,n,{get:r[n],enumerable:!0})},Ma=(t,r,n,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Aa(r))!Sa.call(t,o)&&o!==n&&nr(t,o,{get:()=>r[o],enumerable:!(f=Ta(r,o))||f.enumerable});return t};var Ve=t=>Ma(nr({},"__esModule",{value:!0}),t);var Ft,qe,ot,Ut,It=H(()=>{"use strict";Ft=new Map,qe=[],ot=(t,r,n)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let f=Ft.get(t);if(f===void 0)Ft.set(t,{backend:r,priority:n});else{if(f.priority>n)return;if(f.priority===n&&f.backend!==r)throw new Error(`cannot register backend "${t}" using priority ${n}`)}if(n>=0){let o=qe.indexOf(t);o!==-1&&qe.splice(o,1);for(let m=0;m<qe.length;m++)if(Ft.get(qe[m]).priority<=n){qe.splice(m,0,t);return}qe.push(t)}return}throw new TypeError("not a valid backend")},Ut=async t=>{let r=t.length===0?qe:t,n=[];for(let f of r){let o=Ft.get(f);if(o){if(o.initialized)return o.backend;if(o.aborted)continue;let m=!!o.initPromise;try{return m||(o.initPromise=o.backend.init(f)),await o.initPromise,o.initialized=!0,o.backend}catch(d){m||n.push({name:f,err:d}),o.aborted=!0}finally{delete o.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var Zr=H(()=>{"use strict";It()});var Kr,en=H(()=>{"use strict";Kr="1.18.0"});var tn,Oe,ar=H(()=>{"use strict";en();tn="warning",Oe={wasm:{},webgl:{},webgpu:{},versions:{common:Kr},set logLevel(t){if(t!==void 0){if(typeof t!="string"||["verbose","info","warning","error","fatal"].indexOf(t)===-1)throw new Error(`Unsupported logging level: ${t}`);tn=t}},get logLevel(){return tn}};Object.defineProperty(Oe,"logLevel",{enumerable:!0})});var G,rn=H(()=>{"use strict";ar();G=Oe});var nn,an,on=H(()=>{"use strict";nn=(t,r)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=t.dims[3],n.height=t.dims[2];let f=n.getContext("2d");if(f!=null){let o,m;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(o=t.dims[2],m=t.dims[3]):(o=t.dims[3],m=t.dims[2]);let d=r?.format!==void 0?r.format:"RGB",s=r?.norm,y,h;s===void 0||s.mean===void 0?y=[255,255,255,255]:typeof s.mean=="number"?y=[s.mean,s.mean,s.mean,s.mean]:(y=[s.mean[0],s.mean[1],s.mean[2],0],s.mean[3]!==void 0&&(y[3]=s.mean[3])),s===void 0||s.bias===void 0?h=[0,0,0,0]:typeof s.bias=="number"?h=[s.bias,s.bias,s.bias,s.bias]:(h=[s.bias[0],s.bias[1],s.bias[2],0],s.bias[3]!==void 0&&(h[3]=s.bias[3]));let O=m*o,E=0,v=O,S=O*2,x=-1;d==="RGBA"?(E=0,v=O,S=O*2,x=O*3):d==="RGB"?(E=0,v=O,S=O*2):d==="RBG"&&(E=0,S=O,v=O*2);for(let D=0;D<m;D++)for(let F=0;F<o;F++){let M=(t.data[E++]-h[0])*y[0],B=(t.data[v++]-h[1])*y[1],W=(t.data[S++]-h[2])*y[2],J=x===-1?255:(t.data[x++]-h[3])*y[3];f.fillStyle="rgba("+M+","+B+","+W+","+J+")",f.fillRect(F,D,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},an=(t,r)=>{let n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),f;if(n!=null){let o,m,d;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(o=t.dims[2],m=t.dims[1],d=t.dims[3]):(o=t.dims[3],m=t.dims[2],d=t.dims[1]);let s=r!==void 0&&r.format!==void 0?r.format:"RGB",y=r?.norm,h,O;y===void 0||y.mean===void 0?h=[255,255,255,255]:typeof y.mean=="number"?h=[y.mean,y.mean,y.mean,y.mean]:(h=[y.mean[0],y.mean[1],y.mean[2],255],y.mean[3]!==void 0&&(h[3]=y.mean[3])),y===void 0||y.bias===void 0?O=[0,0,0,0]:typeof y.bias=="number"?O=[y.bias,y.bias,y.bias,y.bias]:(O=[y.bias[0],y.bias[1],y.bias[2],0],y.bias[3]!==void 0&&(O[3]=y.bias[3]));let E=m*o;if(r!==void 0&&(r.format!==void 0&&d===4&&r.format!=="RGBA"||d===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let v=4,S=0,x=1,D=2,F=3,M=0,B=E,W=E*2,J=-1;s==="RGBA"?(M=0,B=E,W=E*2,J=E*3):s==="RGB"?(M=0,B=E,W=E*2):s==="RBG"&&(M=0,W=E,B=E*2),f=n.createImageData(o,m);for(let z=0;z<m*o;S+=v,x+=v,D+=v,F+=v,z++)f.data[S]=(t.data[M++]-O[0])*h[0],f.data[x]=(t.data[B++]-O[1])*h[1],f.data[D]=(t.data[W++]-O[2])*h[2],f.data[F]=J===-1?255:(t.data[J++]-O[3])*h[3]}else throw new Error("Can not access image data");return f}});var or,sn,un,fn,ln,cn=H(()=>{"use strict";Bt();or=(t,r)=>{if(t===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:f}=r,o=r.norm??{mean:255,bias:0},m,d;typeof o.mean=="number"?m=[o.mean,o.mean,o.mean,o.mean]:m=[o.mean[0],o.mean[1],o.mean[2],o.mean[3]??255],typeof o.bias=="number"?d=[o.bias,o.bias,o.bias,o.bias]:d=[o.bias[0],o.bias[1],o.bias[2],o.bias[3]??0];let s=r.format!==void 0?r.format:"RGBA",y=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",h=n*f,O=y==="RGBA"?new Float32Array(h*4):new Float32Array(h*3),E=4,v=0,S=1,x=2,D=3,F=0,M=h,B=h*2,W=-1;s==="RGB"&&(E=3,v=0,S=1,x=2,D=-1),y==="RGBA"?W=h*3:y==="RBG"?(F=0,B=h,M=h*2):y==="BGR"&&(B=0,M=h,F=h*2);for(let z=0;z<h;z++,v+=E,x+=E,S+=E,D+=E)O[F++]=(t[v]+d[0])/m[0],O[M++]=(t[S]+d[1])/m[1],O[B++]=(t[x]+d[2])/m[2],W!==-1&&D!==-1&&(O[W++]=(t[D]+d[3])/m[3]);return y==="RGBA"?new ye("float32",O,[1,4,n,f]):new ye("float32",O,[1,3,n,f])},sn=async(t,r)=>{let n=typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement,f=typeof ImageData<"u"&&t instanceof ImageData,o=typeof ImageBitmap<"u"&&t instanceof ImageBitmap,m=typeof t=="string",d,s=r??{},y=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},h=O=>O instanceof HTMLCanvasElement||O instanceof OffscreenCanvas?O.getContext("2d"):null;if(n){let O=y();O.width=t.width,O.height=t.height;let E=h(O);if(E!=null){let v=t.height,S=t.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(v=r.resizedHeight,S=r.resizedWidth),r!==void 0){if(s=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=v,s.width=S}else s.tensorFormat="RGBA",s.height=v,s.width=S;E.drawImage(t,0,0),d=E.getImageData(0,0,S,v).data}else throw new Error("Can not access image data")}else if(f){let O,E;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(O=r.resizedHeight,E=r.resizedWidth):(O=t.height,E=t.width),r!==void 0&&(s=r),s.format="RGBA",s.height=O,s.width=E,r!==void 0){let v=y();v.width=E,v.height=O;let S=h(v);if(S!=null)S.putImageData(t,0,0),d=S.getImageData(0,0,E,O).data;else throw new Error("Can not access image data")}else d=t.data}else if(o){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let O=y();O.width=t.width,O.height=t.height;let E=h(O);if(E!=null){let v=t.height,S=t.width;return E.drawImage(t,0,0,S,v),d=E.getImageData(0,0,S,v).data,s.height=v,s.width=S,or(d,s)}else throw new Error("Can not access image data")}else{if(m)return new Promise((O,E)=>{let v=y(),S=h(v);if(!t||!S)return E();let x=new Image;x.crossOrigin="Anonymous",x.src=t,x.onload=()=>{v.width=x.width,v.height=x.height,S.drawImage(x,0,0,v.width,v.height);let D=S.getImageData(0,0,v.width,v.height);s.height=v.height,s.width=v.width,O(or(D.data,s))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return or(d,s);throw new Error("Input data provided is not supported - aborted tensor creation")},un=(t,r)=>{let{width:n,height:f,download:o,dispose:m}=r,d=[1,f,n,4];return new ye({location:"texture",type:"float32",texture:t,dims:d,download:o,dispose:m})},fn=(t,r)=>{let{dataType:n,dims:f,download:o,dispose:m}=r;return new ye({location:"gpu-buffer",type:n??"float32",gpuBuffer:t,dims:f,download:o,dispose:m})},ln=(t,r,n)=>new ye({location:"cpu-pinned",type:t,data:r,dims:n??[r.length]})});var Xe,bt,dn,pn,mn=H(()=>{"use strict";Xe=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),bt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),dn=!1,pn=()=>{if(!dn){dn=!0;let t=typeof BigInt64Array<"u"&&BigInt64Array.from,r=typeof BigUint64Array<"u"&&BigUint64Array.from,n=typeof Float16Array<"u"&&Float16Array.from;t&&(Xe.set("int64",BigInt64Array),bt.set(BigInt64Array,"int64")),r&&(Xe.set("uint64",BigUint64Array),bt.set(BigUint64Array,"uint64")),n?(Xe.set("float16",Float16Array),bt.set(Float16Array,"float16")):Xe.set("float16",Uint16Array)}}});var hn,gn,yn=H(()=>{"use strict";Bt();hn=t=>{let r=1;for(let n=0;n<t.length;n++){let f=t[n];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${n}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${f}`);r*=f}return r},gn=(t,r)=>{switch(t.location){case"cpu":return new ye(t.type,t.data,r);case"cpu-pinned":return new ye({location:"cpu-pinned",data:t.data,type:t.type,dims:r});case"texture":return new ye({location:"texture",texture:t.texture,type:t.type,dims:r});case"gpu-buffer":return new ye({location:"gpu-buffer",gpuBuffer:t.gpuBuffer,type:t.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${t.location} is not supported`)}}});var ye,Bt=H(()=>{"use strict";on();cn();mn();yn();ye=class{constructor(r,n,f){pn();let o,m;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,o=r.type,m=r.dims,r.location){case"cpu-pinned":{let s=Xe.get(o);if(!s)throw new TypeError(`unsupported type "${o}" to create tensor from pinned buffer`);if(!(r.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=r.data;break}case"texture":{if(o!=="float32")throw new TypeError(`unsupported type "${o}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(o!=="float32"&&o!=="float16"&&o!=="int32"&&o!=="int64"&&o!=="uint32"&&o!=="uint8"&&o!=="bool")throw new TypeError(`unsupported type "${o}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,y;if(typeof r=="string")if(o=r,y=f,r==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");s=n}else{let h=Xe.get(r);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(n)){if(r==="float16"&&h===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?s=h.from(n,BigInt):s=h.from(n)}else if(n instanceof h)s=n;else throw new TypeError(`A ${o} tensor's data must be type of ${h}`)}else if(y=n,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof r[0];if(h==="string")o="string",s=r;else if(h==="boolean")o="bool",s=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=bt.get(r.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);o=h,s=r}if(y===void 0)y=[s.length];else if(!Array.isArray(y))throw new TypeError("A tensor's dims must be a number array");m=y,this.cpuData=s,this.dataLocation="cpu"}let d=hn(m);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=o,this.dims=m,this.size=d}static async fromImage(r,n){return sn(r,n)}static fromTexture(r,n){return un(r,n)}static fromGpuBuffer(r,n){return fn(r,n)}static fromPinnedBuffer(r,n,f){return ln(r,n,f)}toDataURL(r){return nn(this,r)}toImageData(r){return an(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,r&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return gn(this,r)}}});var le,Lt=H(()=>{"use strict";Bt();le=ye});var ir,wn,Ne,We,sr=H(()=>{"use strict";ar();ir=(t,r)=>{(typeof Oe.trace>"u"?!Oe.wasm.trace:!Oe.trace)||console.timeStamp(`${t}::ORT::${r}`)},wn=(t,r)=>{let n=new Error().stack?.split(/\r\n|\r|\n/g)||[],f=!1;for(let o=0;o<n.length;o++){if(f&&!n[o].includes("TRACE_FUNC")){let m=`FUNC_${t}::${n[o].trim().split(" ")[1]}`;r&&(m+=`::${r}`),ir("CPU",m);return}n[o].includes("TRACE_FUNC")&&(f=!0)}},Ne=t=>{(typeof Oe.trace>"u"?!Oe.wasm.trace:!Oe.trace)||wn("BEGIN",t)},We=t=>{(typeof Oe.trace>"u"?!Oe.wasm.trace:!Oe.trace)||wn("END",t)}});var kt,bn=H(()=>{"use strict";It();Lt();sr();kt=class t{constructor(r){this.handler=r}async run(r,n,f){Ne();let o={},m={};if(typeof r!="object"||r===null||r instanceof le||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let h of n){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);o[h]=null}if(typeof f=="object"&&f!==null)m=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,O=Object.getOwnPropertyNames(n);for(let E of this.outputNames)if(O.indexOf(E)!==-1){let v=n[E];(v===null||v instanceof le)&&(h=!0,d=!1,o[E]=v)}if(h){if(typeof f=="object"&&f!==null)m=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else m=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of this.inputNames)if(typeof r[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(d)for(let h of this.outputNames)o[h]=null;let s=await this.handler.run(r,o,m),y={};for(let h in s)if(Object.hasOwnProperty.call(s,h)){let O=s[h];O instanceof le?y[h]=O:y[h]=new le(O.type,O.data,O.dims)}return We(),y}async release(){return this.handler.dispose()}static async create(r,n,f,o){Ne();let m,d={};if(typeof r=="string"){if(m=r,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(m=r,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let E=r,v=0,S=r.byteLength;if(typeof n=="object"&&n!==null)d=n;else if(typeof n=="number"){if(v=n,!Number.isSafeInteger(v))throw new RangeError("'byteOffset' must be an integer.");if(v<0||v>=E.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${E.byteLength}).`);if(S=r.byteLength-v,typeof f=="number"){if(S=f,!Number.isSafeInteger(S))throw new RangeError("'byteLength' must be an integer.");if(S<=0||v+S>E.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${E.byteLength-v}].`);if(typeof o=="object"&&o!==null)d=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");m=new Uint8Array(E,v,S)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let y=(d.executionProviders||[]).map(E=>typeof E=="string"?E:E.name),O=await(await Ut(y)).createInferenceSessionHandler(m,d);return We(),new t(O)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var vn,On=H(()=>{"use strict";bn();vn=kt});var En=H(()=>{"use strict"});var Ca,Nt,_n=H(()=>{"use strict";It();Lt();Ca="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Nt=class t{constructor(r,n,f){this.handler=r,this.hasOptimizerModel=n,this.hasEvalModel=f}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,n){let f=r.evalModel||"",o=r.optimizerModel||"",m=n||{},s=(m.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),y=await Ut(s);if(y.createTrainingSessionHandler){let h=await y.createTrainingSessionHandler(r.checkpointState,r.trainModel,f,o,m);return new t(h,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Ca)}typeNarrowingForRunStep(r,n,f,o,m){let d={},s={};if(typeof f!="object"||f===null||f instanceof le||Array.isArray(f))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let y=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");y=!1;for(let h of o){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(n.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);d[h]=null}if(typeof m=="object"&&m!==null)s=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,O=Object.getOwnPropertyNames(o);for(let E of n)if(O.indexOf(E)!==-1){let v=o[E];(v===null||v instanceof le)&&(h=!0,y=!1,d[E]=v)}if(h){if(typeof m=="object"&&m!==null)s=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else s=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of r)if(typeof f[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(y)for(let h of n)d[h]=null;return[d,s]}convertHandlerReturnTypeToMapOfTensors(r){let n={};for(let f in r)if(Object.hasOwnProperty.call(r,f)){let o=r[f];o instanceof le?n[f]=o:n[f]=new le(o.type,o.data,o.dims)}return n}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,n,f){let[o,m]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,n,f),d=await this.handler.runTrainStep(r,o,m);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,n,f){if(this.hasEvalModel){let[o,m]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,n,f),d=await this.handler.runEvalStep(r,o,m);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,n=!0){let f=await this.getParametersSize(n);if(r.length!==4*f)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,n)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}}});var Tn,An=H(()=>{"use strict";_n();Tn=Nt});var ur={};at(ur,{InferenceSession:()=>vn,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>Ne,TRACE_FUNC_END:()=>We,Tensor:()=>le,TrainingSession:()=>Tn,env:()=>G,registerBackend:()=>ot});var Je=H(()=>{"use strict";Zr();rn();On();Lt();sr();En();An()});var fr={};at(fr,{createReadStream:()=>Mn,readFile:()=>xa,readFileSync:()=>Pa});var xa,Pa,Mn,lr=H(()=>{xa=void 0,Pa=void 0,Mn=void 0});var cr={};at(cr,{join:()=>Ra});var Ra,dr=H(()=>{Ra=void 0});var Pn=nt((xn,pr)=>{"use strict";var Cn=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(r={}){var n=r,f,o;n.ready=new Promise((a,l)=>{f=a,o=l});var m=Object.assign({},n),d="./this.program",s=typeof window=="object",y=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",E,v,S;if(h){var x=(lr(),Ve(fr)),D=(dr(),Ve(cr));O=y?D.dirname(O)+"/":__dirname+"/",E=(a,l)=>(a=Ce(a)?new URL(a):D.normalize(a),x.readFileSync(a,l?void 0:"utf8")),S=a=>(a=E(a,!0),a.buffer||(a=new Uint8Array(a)),a),v=(a,l,c,b=!0)=>{a=Ce(a)?new URL(a):D.normalize(a),x.readFile(a,b?void 0:"utf8",(A,R)=>{A?c(A):l(b?R.buffer:R)})},!n.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||y)&&(y?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),t&&(O=t),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",E=a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.send(null),l.responseText},y&&(S=a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),v=(a,l,c)=>{var b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?l(b.response):c()},b.onerror=c,b.send(null)});var F=console.log.bind(console),M=console.error.bind(console);Object.assign(n,m),m=null,typeof WebAssembly!="object"&&k("no native wasm support detected");var B,W=!1,J,z,P,V,Me;function Le(){var a=B.buffer;n.HEAP8=J=new Int8Array(a),n.HEAP16=new Int16Array(a),n.HEAPU8=z=new Uint8Array(a),n.HEAPU16=new Uint16Array(a),n.HEAP32=P=new Int32Array(a),n.HEAPU32=V=new Uint32Array(a),n.HEAPF32=new Float32Array(a),n.HEAPF64=Me=new Float64Array(a)}var ce=[],He=[],ue=[],X=0,Ie=null,de=null;function k(a){throw a="Aborted("+a+")",M(a),W=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),o(a),a}var pe=a=>a.startsWith("data:application/octet-stream;base64,"),Ce=a=>a.startsWith("file://"),me;if(me="ort-wasm.wasm",!pe(me)){var xe=me;me=n.locateFile?n.locateFile(xe,O):O+xe}function ie(a){if(S)return S(a);throw"both async and sync fetching of the wasm failed"}function ae(a){if(s||y){if(typeof fetch=="function"&&!Ce(a))return fetch(a,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+a+"'";return l.arrayBuffer()}).catch(()=>ie(a));if(v)return new Promise((l,c)=>{v(a,b=>l(new Uint8Array(b)),c)})}return Promise.resolve().then(()=>ie(a))}function Ze(a,l,c){return ae(a).then(b=>WebAssembly.instantiate(b,l)).then(b=>b).then(c,b=>{M(`failed to asynchronously prepare wasm: ${b}`),k(b)})}function Pe(a,l){var c=me;return typeof WebAssembly.instantiateStreaming!="function"||pe(c)||Ce(c)||h||typeof fetch!="function"?Ze(c,a,l):fetch(c,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,a).then(l,function(A){return M(`wasm streaming compile failed: ${A}`),M("falling back to ArrayBuffer instantiation"),Ze(c,a,l)}))}var be,Ke={156368:(a,l,c,b)=>{if(typeof n>"u"||!n.za)return 1;if(a=te(a>>>0),a.startsWith("./")&&(a=a.substring(2)),a=n.za.get(a),!a)return 2;if(l>>>=0,c>>>=0,l+c>a.byteLength)return 3;try{return z.set(a.subarray(l,l+c),b>>>0>>>0),0}catch{return 4}}};function Re(a){this.xa=a-24,this.Ha=function(l){V[this.xa+4>>>2>>>0]=l},this.Ga=function(l){V[this.xa+8>>>2>>>0]=l},this.Aa=function(l,c){this.Fa(),this.Ha(l),this.Ga(c)},this.Fa=function(){V[this.xa+16>>>2>>>0]=0}}var Ee=0,ve=0,ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,oe=(a,l,c)=>{l>>>=0;var b=l+c;for(c=l;a[c]&&!(c>=b);)++c;if(16<c-l&&a.buffer&&ke)return ke.decode(a.subarray(l,c));for(b="";l<c;){var A=a[l++];if(A&128){var R=a[l++]&63;if((A&224)==192)b+=String.fromCharCode((A&31)<<6|R);else{var N=a[l++]&63;A=(A&240)==224?(A&15)<<12|R<<6|N:(A&7)<<18|R<<12|N<<6|a[l++]&63,65536>A?b+=String.fromCharCode(A):(A-=65536,b+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else b+=String.fromCharCode(A)}return b},te=(a,l)=>(a>>>=0)?oe(z,a,l):"",_e=a=>{for(var l=0,c=0;c<a.length;++c){var b=a.charCodeAt(c);127>=b?l++:2047>=b?l+=2:55296<=b&&57343>=b?(l+=4,++c):l+=3}return l},Te=(a,l,c,b)=>{if(c>>>=0,!(0<b))return 0;var A=c;b=c+b-1;for(var R=0;R<a.length;++R){var N=a.charCodeAt(R);if(55296<=N&&57343>=N){var se=a.charCodeAt(++R);N=65536+((N&1023)<<10)|se&1023}if(127>=N){if(c>=b)break;l[c++>>>0]=N}else{if(2047>=N){if(c+1>=b)break;l[c++>>>0]=192|N>>6}else{if(65535>=N){if(c+2>=b)break;l[c++>>>0]=224|N>>12}else{if(c+3>=b)break;l[c++>>>0]=240|N>>18,l[c++>>>0]=128|N>>12&63}l[c++>>>0]=128|N>>6&63}l[c++>>>0]=128|N&63}}return l[c>>>0]=0,c-A},Se=a=>a%4===0&&(a%100!==0||a%400===0),_t=[0,31,60,91,121,152,182,213,244,274,305,335],lt=[0,31,59,90,120,151,181,212,243,273,304,334],Tt=a=>{var l=_e(a)+1,c=Mt(l);return c&&Te(a,z,c,l),c},De=[],et={},$e=()=>{if(!Ge){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in et)et[l]===void 0?delete a[l]:a[l]=et[l];var c=[];for(l in a)c.push(`${l}=${a[l]}`);Ge=c}return Ge},Ge,At=[null,[],[]],Be=[31,29,31,30,31,30,31,31,30,31,30,31],St=[31,28,31,30,31,30,31,31,30,31,30,31];function Y(a){var l=Array(_e(a)+1);return Te(a,l,0,l.length),l}function ct(a,l,c,b){function A(g,$,q){for(g=typeof g=="number"?g.toString():g||"";g.length<$;)g=q[0]+g;return g}function R(g,$){return A(g,$,"0")}function N(g,$){function q(wt){return 0>wt?-1:0<wt?1:0}var Fe;return(Fe=q(g.getFullYear()-$.getFullYear()))===0&&(Fe=q(g.getMonth()-$.getMonth()))===0&&(Fe=q(g.getDate()-$.getDate())),Fe}function se(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function ge(g){var $=g.ta;for(g=new Date(new Date(g.ua+1900,0,1).getTime());0<$;){var q=g.getMonth(),Fe=(Se(g.getFullYear())?Be:St)[q];if($>Fe-g.getDate())$-=Fe-g.getDate()+1,g.setDate(1),11>q?g.setMonth(q+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+$);break}}return q=new Date(g.getFullYear()+1,0,4),$=se(new Date(g.getFullYear(),0,4)),q=se(q),0>=N($,g)?0>=N(q,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}a>>>=0,l>>>=0,c>>>=0,b>>>=0;var fe=V[b+40>>>2>>>0];b={Da:P[b>>>2>>>0],Ca:P[b+4>>>2>>>0],va:P[b+8>>>2>>>0],ya:P[b+12>>>2>>>0],wa:P[b+16>>>2>>>0],ua:P[b+20>>>2>>>0],oa:P[b+24>>>2>>>0],ta:P[b+28>>>2>>>0],Ia:P[b+32>>>2>>>0],Ba:P[b+36>>>2>>>0],Ea:fe?te(fe):""},c=te(c),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in fe)c=c.replace(new RegExp(ne,"g"),fe[ne]);var gt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yt="January February March April May June July August September October November December".split(" ");fe={"%a":g=>gt[g.oa].substring(0,3),"%A":g=>gt[g.oa],"%b":g=>yt[g.wa].substring(0,3),"%B":g=>yt[g.wa],"%C":g=>R((g.ua+1900)/100|0,2),"%d":g=>R(g.ya,2),"%e":g=>A(g.ya,2," "),"%g":g=>ge(g).toString().substring(2),"%G":g=>ge(g),"%H":g=>R(g.va,2),"%I":g=>(g=g.va,g==0?g=12:12<g&&(g-=12),R(g,2)),"%j":g=>{for(var $=0,q=0;q<=g.wa-1;$+=(Se(g.ua+1900)?Be:St)[q++]);return R(g.ya+$,3)},"%m":g=>R(g.wa+1,2),"%M":g=>R(g.Ca,2),"%n":()=>`
`,"%p":g=>0<=g.va&&12>g.va?"AM":"PM","%S":g=>R(g.Da,2),"%t":()=>"	","%u":g=>g.oa||7,"%U":g=>R(Math.floor((g.ta+7-g.oa)/7),2),"%V":g=>{var $=Math.floor((g.ta+7-(g.oa+6)%7)/7);if(2>=(g.oa+371-g.ta-2)%7&&$++,$)$==53&&(q=(g.oa+371-g.ta)%7,q==4||q==3&&Se(g.ua)||($=1));else{$=52;var q=(g.oa+7-g.ta-1)%7;(q==4||q==5&&Se(g.ua%400-1))&&$++}return R($,2)},"%w":g=>g.oa,"%W":g=>R(Math.floor((g.ta+7-(g.oa+6)%7)/7),2),"%y":g=>(g.ua+1900).toString().substring(2),"%Y":g=>g.ua+1900,"%z":g=>{g=g.Ba;var $=0<=g;return g=Math.abs(g)/60,($?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Ea,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(ne in fe)c.includes(ne)&&(c=c.replace(new RegExp(ne,"g"),fe[ne](b)));return c=c.replace(/\0\0/g,"%"),ne=Y(c),ne.length>l?0:(J.set(ne,a>>>0),ne.length-1)}var dt={a:function(a,l,c){throw a>>>=0,new Re(a).Aa(l>>>0,c>>>0),Ee=a,ve++,Ee},c:function(){return 0},i:function(){},z:function(){},C:function(){},s:function(){return 0},I:function(){},E:function(){},H:function(){},h:function(){},A:function(){},x:function(){},J:function(){},y:function(){},j:()=>1,m:function(a,l,c){a=l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN,c>>>=0,a=new Date(1e3*a),P[c>>>2>>>0]=a.getUTCSeconds(),P[c+4>>>2>>>0]=a.getUTCMinutes(),P[c+8>>>2>>>0]=a.getUTCHours(),P[c+12>>>2>>>0]=a.getUTCDate(),P[c+16>>>2>>>0]=a.getUTCMonth(),P[c+20>>>2>>>0]=a.getUTCFullYear()-1900,P[c+24>>>2>>>0]=a.getUTCDay(),P[c+28>>>2>>>0]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},n:function(a,l,c){a=l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN,c>>>=0,a=new Date(1e3*a),P[c>>>2>>>0]=a.getSeconds(),P[c+4>>>2>>>0]=a.getMinutes(),P[c+8>>>2>>>0]=a.getHours(),P[c+12>>>2>>>0]=a.getDate(),P[c+16>>>2>>>0]=a.getMonth(),P[c+20>>>2>>>0]=a.getFullYear()-1900,P[c+24>>>2>>>0]=a.getDay(),P[c+28>>>2>>>0]=(Se(a.getFullYear())?_t:lt)[a.getMonth()]+a.getDate()-1|0,P[c+36>>>2>>>0]=-(60*a.getTimezoneOffset()),l=new Date(a.getFullYear(),6,1).getTimezoneOffset();var b=new Date(a.getFullYear(),0,1).getTimezoneOffset();P[c+32>>>2>>>0]=(l!=b&&a.getTimezoneOffset()==Math.min(b,l))|0},o:function(a){a>>>=0;var l=new Date(P[a+20>>>2>>>0]+1900,P[a+16>>>2>>>0],P[a+12>>>2>>>0],P[a+8>>>2>>>0],P[a+4>>>2>>>0],P[a>>>2>>>0],0),c=P[a+32>>>2>>>0],b=l.getTimezoneOffset(),A=new Date(l.getFullYear(),6,1).getTimezoneOffset(),R=new Date(l.getFullYear(),0,1).getTimezoneOffset(),N=Math.min(R,A);return 0>c?P[a+32>>>2>>>0]=+(A!=R&&N==b):0<c!=(N==b)&&(A=Math.max(R,A),l.setTime(l.getTime()+6e4*((0<c?N:A)-b))),P[a+24>>>2>>>0]=l.getDay(),P[a+28>>>2>>>0]=(Se(l.getFullYear())?_t:lt)[l.getMonth()]+l.getDate()-1|0,P[a>>>2>>>0]=l.getSeconds(),P[a+4>>>2>>>0]=l.getMinutes(),P[a+8>>>2>>>0]=l.getHours(),P[a+12>>>2>>>0]=l.getDate(),P[a+16>>>2>>>0]=l.getMonth(),P[a+20>>>2>>>0]=l.getYear(),a=l.getTime(),isNaN(a)?(P[pt()>>>2>>>0]=61,a=-1):a/=1e3,U((be=a,1<=+Math.abs(be)?0<be?+Math.floor(be/4294967296)>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)),a>>>0},k:function(){return-52},l:function(){},u:function(a,l,c){function b(ge){return(ge=ge.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ge[1]:"GMT"}c>>>=0;var A=new Date().getFullYear(),R=new Date(A,0,1),N=new Date(A,6,1);A=R.getTimezoneOffset();var se=N.getTimezoneOffset();V[a>>>0>>>2>>>0]=60*Math.max(A,se),P[l>>>0>>>2>>>0]=+(A!=se),a=b(R),l=b(N),a=Tt(a),l=Tt(l),se<A?(V[c>>>2>>>0]=a,V[c+4>>>2>>>0]=l):(V[c>>>2>>>0]=l,V[c+4>>>2>>>0]=a)},e:()=>{k("")},B:function(a,l,c){a>>>=0,l>>>=0,c>>>=0,De.length=0;for(var b;b=z[l++>>>0];){var A=b!=105;A&=b!=112,c+=A&&c%8?4:0,De.push(b==112?V[c>>>2>>>0]:b==105?P[c>>>2>>>0]:Me[c>>>3>>>0]),c+=A?8:4}return Ke[a].apply(null,De)},f:()=>Date.now(),v:function(){return 4294901760},b:()=>performance.now(),D:function(a,l,c){return l>>>=0,z.copyWithin(a>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},t:function(a){a>>>=0;var l=z.length;if(4294901760<a)return!1;for(var c=1;4>=c;c*=2){var b=l*(1+.2/c);b=Math.min(b,a+100663296);var A=Math;b=Math.max(a,b);e:{A=(A.min.call(A,4294901760,b+(65536-b%65536)%65536)-B.buffer.byteLength+65535)/65536;try{B.grow(A),Le();var R=1;break e}catch{}R=void 0}if(R)return!0}return!1},F:function(a,l){a>>>=0,l>>>=0;var c=0;return $e().forEach((b,A)=>{var R=l+c;for(A=V[a+4*A>>>2>>>0]=R,R=0;R<b.length;++R)J[A++>>>0>>>0]=b.charCodeAt(R);J[A>>>0>>>0]=0,c+=b.length+1}),0},G:function(a,l){a>>>=0,l>>>=0;var c=$e();V[a>>>2>>>0]=c.length;var b=0;return c.forEach(A=>b+=A.length+1),V[l>>>2>>>0]=b,0},d:()=>52,g:function(){return 52},p:function(){return 70},w:function(a,l,c,b){l>>>=0,c>>>=0,b>>>=0;for(var A=0,R=0;R<c;R++){var N=V[l>>>2>>>0],se=V[l+4>>>2>>>0];l+=8;for(var ge=0;ge<se;ge++){var fe=z[N+ge>>>0],ne=At[a];fe===0||fe===10?((a===1?F:M)(oe(ne,0)),ne.length=0):ne.push(fe)}A+=se}return V[b>>>2>>>0]=A,0},q:ct,r:function(a,l,c,b){return ct(a>>>0,l>>>0,c>>>0,b>>>0)}},L=function(){function a(c){return L=c.exports,L=Ct(),B=L.K,Le(),He.unshift(L.L),X--,X==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),de&&(c=de,de=null,c())),L}var l={a:dt};if(X++,n.instantiateWasm)try{return n.instantiateWasm(l,a)}catch(c){M(`Module.instantiateWasm callback failed with error: ${c}`),o(c)}return Pe(l,function(c){a(c.instance)}).catch(o),{}}();n._OrtInit=(a,l)=>(n._OrtInit=L.M)(a,l),n._OrtGetLastError=(a,l)=>(n._OrtGetLastError=L.N)(a,l),n._OrtCreateSessionOptions=(a,l,c,b,A,R,N,se,ge,fe)=>(n._OrtCreateSessionOptions=L.O)(a,l,c,b,A,R,N,se,ge,fe),n._OrtAppendExecutionProvider=(a,l)=>(n._OrtAppendExecutionProvider=L.P)(a,l),n._OrtAddFreeDimensionOverride=(a,l,c)=>(n._OrtAddFreeDimensionOverride=L.Q)(a,l,c),n._OrtAddSessionConfigEntry=(a,l,c)=>(n._OrtAddSessionConfigEntry=L.R)(a,l,c),n._OrtReleaseSessionOptions=a=>(n._OrtReleaseSessionOptions=L.S)(a),n._OrtCreateSession=(a,l,c)=>(n._OrtCreateSession=L.T)(a,l,c),n._OrtReleaseSession=a=>(n._OrtReleaseSession=L.U)(a),n._OrtGetInputOutputCount=(a,l,c)=>(n._OrtGetInputOutputCount=L.V)(a,l,c),n._OrtGetInputName=(a,l)=>(n._OrtGetInputName=L.W)(a,l),n._OrtGetOutputName=(a,l)=>(n._OrtGetOutputName=L.X)(a,l),n._OrtFree=a=>(n._OrtFree=L.Y)(a),n._OrtCreateTensor=(a,l,c,b,A,R)=>(n._OrtCreateTensor=L.Z)(a,l,c,b,A,R),n._OrtGetTensorData=(a,l,c,b,A)=>(n._OrtGetTensorData=L._)(a,l,c,b,A),n._OrtReleaseTensor=a=>(n._OrtReleaseTensor=L.$)(a),n._OrtCreateRunOptions=(a,l,c,b)=>(n._OrtCreateRunOptions=L.aa)(a,l,c,b),n._OrtAddRunConfigEntry=(a,l,c)=>(n._OrtAddRunConfigEntry=L.ba)(a,l,c),n._OrtReleaseRunOptions=a=>(n._OrtReleaseRunOptions=L.ca)(a),n._OrtCreateBinding=a=>(n._OrtCreateBinding=L.da)(a),n._OrtBindInput=(a,l,c)=>(n._OrtBindInput=L.ea)(a,l,c),n._OrtBindOutput=(a,l,c,b)=>(n._OrtBindOutput=L.fa)(a,l,c,b),n._OrtClearBoundOutputs=a=>(n._OrtClearBoundOutputs=L.ga)(a),n._OrtReleaseBinding=a=>(n._OrtReleaseBinding=L.ha)(a),n._OrtRunWithBinding=(a,l,c,b,A)=>(n._OrtRunWithBinding=L.ia)(a,l,c,b,A),n._OrtRun=(a,l,c,b,A,R,N,se)=>(n._OrtRun=L.ja)(a,l,c,b,A,R,N,se),n._OrtEndProfiling=a=>(n._OrtEndProfiling=L.ka)(a);var pt=()=>(pt=L.la)(),Mt=n._malloc=a=>(Mt=n._malloc=L.ma)(a);n._free=a=>(n._free=L.na)(a);var U=a=>(U=L.pa)(a),je=()=>(je=L.qa)(),mt=a=>(mt=L.ra)(a),Ye=a=>(Ye=L.sa)(a);function Ct(){var a=L;a=Object.assign({},a);var l=b=>()=>b()>>>0,c=b=>A=>b(A)>>>0;return a.la=l(a.la),a.ma=c(a.ma),a.qa=l(a.qa),a.sa=c(a.sa),a}n.stackAlloc=Ye,n.stackSave=je,n.stackRestore=mt,n.UTF8ToString=te,n.stringToUTF8=(a,l,c)=>Te(a,z,l,c),n.lengthBytesUTF8=_e;var tt;de=function a(){tt||ht(),tt||(de=a)};function ht(){if(!(0<X)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;){var a=n.preRun.shift();ce.unshift(a)}for(;0<ce.length;)ce.shift()(n);if(!(0<X||tt||(tt=!0,n.calledRun=!0,W))){for(;0<He.length;)He.shift()(n);for(f(n);0<ue.length;)ue.shift()(n)}}}return ht(),r.ready}})();typeof xn=="object"&&typeof pr=="object"?pr.exports=Cn:typeof define=="function"&&define.amd&&define([],()=>Cn)});var Rn=nt(()=>{});var Dn=nt(()=>{});var Fn={};at(Fn,{cpus:()=>Da});var Da,Un=H(()=>{Da=void 0});var Ln=nt((Bn,mr)=>{"use strict";var In=(()=>{var t=typeof document<"u"?document.currentScript?.src:void 0;return typeof __filename<"u"&&(t||=__filename),function(r={}){function n(){return X.buffer!=pe.buffer&&ae(),pe}function f(){return X.buffer!=pe.buffer&&ae(),Ce}function o(){return X.buffer!=pe.buffer&&ae(),me}function m(){return X.buffer!=pe.buffer&&ae(),xe}function d(){return X.buffer!=pe.buffer&&ae(),ie}var s=r,y,h,O=new Promise((e,i)=>{y=e,h=i}),E=Object.assign({},s),v="./this.program",S=(e,i)=>{throw i},x=typeof window=="object",D=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=s.ENVIRONMENT_IS_PTHREAD||!1,B="";function W(e){return s.locateFile?s.locateFile(e,B):B+e}var J,z,P;if(F){var V=(lr(),Ve(fr)),Me=(dr(),Ve(cr));B=D?Me.dirname(B)+"/":__dirname+"/",J=(e,i)=>(e=_e(e)?new URL(e):Me.normalize(e),V.readFileSync(e,i?void 0:"utf8")),P=e=>(e=J(e,!0),e.buffer||(e=new Uint8Array(e)),e),z=(e,i,u,p=!0)=>{e=_e(e)?new URL(e):Me.normalize(e),V.readFile(e,p?void 0:"utf8",(T,_)=>{T?u(T):i(p?_.buffer:_)})},!s.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),S=(e,i)=>{throw process.exitCode=e,i},global.Worker=Rn().Worker}else(x||D)&&(D?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof t<"u"&&t&&(B=t),B.startsWith("blob:")?B="":B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1),F||(J=e=>{var i=new XMLHttpRequest;return i.open("GET",e,!1),i.send(null),i.responseText},D&&(P=e=>{var i=new XMLHttpRequest;return i.open("GET",e,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),z=(e,i,u)=>{var p=new XMLHttpRequest;p.open("GET",e,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?i(p.response):u()},p.onerror=u,p.send(null)}));F&&typeof performance>"u"&&(global.performance=Dn().performance);var Le=console.log.bind(console),ce=console.error.bind(console);F&&(Le=(...e)=>V.writeSync(1,e.join(" ")+`
`),ce=(...e)=>V.writeSync(2,e.join(" ")+`
`));var He=Le,ue=ce;Object.assign(s,E),E=null;var X,Ie,de=!1,k,pe,Ce,me,xe,ie;function ae(){var e=X.buffer;s.HEAP8=pe=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=Ce=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=me=new Int32Array(e),s.HEAPU32=xe=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=ie=new Float64Array(e)}var Ze=16777216;if(M)X=s.wasmMemory;else if(s.wasmMemory)X=s.wasmMemory;else if(X=new WebAssembly.Memory({initial:Ze/65536,maximum:65536,shared:!0}),!(X.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),F&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ae(),Ze=X.buffer.byteLength;var Pe=[],be=[],Ke=[],Re=0,Ee=null,ve=null;function ke(){if(Re--,Re==0&&(Ee!==null&&(clearInterval(Ee),Ee=null),ve)){var e=ve;ve=null,e()}}function oe(e){throw e="Aborted("+e+")",ue(e),de=!0,k=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),h(e),e}var te=e=>e.startsWith("data:application/octet-stream;base64,"),_e=e=>e.startsWith("file://"),Te;Te="ort-wasm-threaded.wasm",te(Te)||(Te=W(Te));function Se(e){if(P)return P(e);throw"both async and sync fetching of the wasm failed"}function _t(e){if(x||D){if(typeof fetch=="function"&&!_e(e))return fetch(e,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw`failed to load wasm binary file at '${e}'`;return i.arrayBuffer()}).catch(()=>Se(e));if(z)return new Promise((i,u)=>{z(e,p=>i(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>Se(e))}function lt(e,i,u){return _t(e).then(p=>WebAssembly.instantiate(p,i)).then(u,p=>{ue(`failed to asynchronously prepare wasm: ${p}`),oe(p)})}function Tt(e,i){var u=Te;return typeof WebAssembly.instantiateStreaming!="function"||te(u)||_e(u)||F||typeof fetch!="function"?lt(u,e,i):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,e).then(i,function(T){return ue(`wasm streaming compile failed: ${T}`),ue("falling back to ArrayBuffer instantiation"),lt(u,e,i)}))}var De,et={796676:(e,i,u,p)=>{if(typeof s>"u"||!s.bb)return 1;if(e=R(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.bb.get(e),!e)return 2;if(i>>>=0,u>>>=0,p>>>=0,i+u>e.byteLength)return 3;try{return f().set(e.subarray(i,i+u),p>>>0),0}catch{return 4}}};function $e(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ge=e=>{e.terminate(),e.onmessage=()=>{}},At=e=>{U.Oa.length==0&&(pt(),U.Xa(U.Oa[0]));var i=U.Oa.pop();if(!i)return 6;U.Pa.push(i),U.La[e.Na]=i,i.Na=e.Na;var u={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return F&&i.unref(),i.postMessage(u,e.mb),0},Be=0,St=e=>{var i=rr();return e=e(),Rt(i),e},Y=(e,i,...u)=>St(()=>{for(var p=u.length,T=tr(8*p),_=T>>>3,C=0;C<u.length;C++){var K=u[C];d()[_+C>>>0]=K}return jr(e,0,p,T,i)});function ct(e){if(M)return Y(0,1,e);k=e,0<Be||(U.hb(),s.onExit?.(e),de=!0),S(e,new $e(e))}var dt=e=>{if(k=e,M)throw mt(e),"unwind";ct(e)};function L(){for(var e=s.numThreads;e--;)pt();Pe.unshift(()=>{Re++,Mt(()=>ke())})}function pt(){var e=W("ort-wasm-threaded.worker.js");e=new Worker(e),U.Oa.push(e)}function Mt(e){M?e():Promise.all(U.Oa.map(U.Xa)).then(e)}var U={Oa:[],Pa:[],ab:[],La:{},Va(){M?(U.receiveObjectTransfer=U.fb,U.threadInitTLS=U.$a,U.setExitStatus=U.Za):L()},Za:e=>k=e,pb:["$terminateWorker"],hb:()=>{for(var e of U.Pa)Ge(e);for(e of U.Oa)Ge(e);U.Oa=[],U.Pa=[],U.La=[]},Ya:e=>{var i=e.Na;delete U.La[i],U.Oa.push(e),U.Pa.splice(U.Pa.indexOf(e),1),e.Na=0,Kt(i)},fb(){},$a(){U.ab.forEach(e=>e())},Xa:e=>new Promise(i=>{e.onmessage=_=>{_=_.data;var C=_.cmd;if(_.targetThread&&_.targetThread!=Pt()){var K=U.La[_.targetThread];K?K.postMessage(_,_.transferList):ue(`Internal error! Worker sent a message "${C}" to target pthread ${_.targetThread}, but that thread no longer exists!`)}else C==="checkMailbox"?xt():C==="spawnThread"?At(_):C==="cleanupThread"?U.Ya(U.La[_.thread]):C==="killThread"?(_=_.thread,C=U.La[_],delete U.La[_],Ge(C),Kt(_),U.Pa.splice(U.Pa.indexOf(C),1),C.Na=0):C==="cancelThread"?U.La[_.thread].postMessage({cmd:"cancel"}):C==="loaded"?(e.loaded=!0,F&&!e.Na&&e.unref(),i(e)):C==="alert"?alert(`Thread ${_.threadId}: ${_.text}`):_.target==="setimmediate"?e.postMessage(_):C==="callHandler"?s[_.handler](..._.args):C&&ue(`worker sent an unknown command ${C}`)},e.onerror=_=>{throw ue(`worker sent an error! ${_.filename}:${_.lineno}: ${_.message}`),_},F&&(e.on("message",_=>e.onmessage({data:_})),e.on("error",_=>e.onerror(_)));var u=[],p=["onExit"],T;for(T of p)s.hasOwnProperty(T)&&u.push(T);e.postMessage({cmd:"load",handlers:u,urlOrBlob:s.mainScriptUrlOrBlob||t,wasmMemory:X,wasmModule:Ie})})};s.PThread=U;var je=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=Pt(),i=m()[e+52>>>2>>>0];e=m()[e+56>>>2>>>0],Vr(i,i-e),Rt(i)};function mt(e){if(M)return Y(1,0,e);dt(e)}var Ye=[],Ct;s.invokeEntryPoint=(e,i)=>{Be=0;var u=Ye[e];u||(e>=Ye.length&&(Ye.length=e+1),Ye[e]=u=Ct.get(e)),e=u(i),0<Be?U.Za(e):er(e)};class tt{constructor(i){this.Ua=i-24}Va(i,u){m()[this.Ua+16>>>2>>>0]=0,m()[this.Ua+4>>>2>>>0]=i,m()[this.Ua+8>>>2>>>0]=u}}var ht=0,a=0;function l(e,i,u,p){return M?Y(2,1,e,i,u,p):c(e,i,u,p)}function c(e,i,u,p){if(e>>>=0,i>>>=0,u>>>=0,p>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var T=[];return M&&T.length===0?l(e,i,u,p):(e={gb:u,Na:e,cb:p,mb:T},M?(e.ob="spawnThread",postMessage(e,T),0):At(e))}var b=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,A=(e,i,u)=>{i>>>=0;var p=i+u;for(u=i;e[u]&&!(u>=p);)++u;if(16<u-i&&e.buffer&&b)return b.decode(e.buffer instanceof SharedArrayBuffer?e.slice(i,u):e.subarray(i,u));for(p="";i<u;){var T=e[i++];if(T&128){var _=e[i++]&63;if((T&224)==192)p+=String.fromCharCode((T&31)<<6|_);else{var C=e[i++]&63;T=(T&240)==224?(T&15)<<12|_<<6|C:(T&7)<<18|_<<12|C<<6|e[i++]&63,65536>T?p+=String.fromCharCode(T):(T-=65536,p+=String.fromCharCode(55296|T>>10,56320|T&1023))}}else p+=String.fromCharCode(T)}return p},R=(e,i)=>(e>>>=0)?A(f(),e,i):"";function N(e,i,u){return M?Y(3,1,e,i,u):0}function se(e,i){if(M)return Y(4,1,e,i)}var ge=e=>{for(var i=0,u=0;u<e.length;++u){var p=e.charCodeAt(u);127>=p?i++:2047>=p?i+=2:55296<=p&&57343>=p?(i+=4,++u):i+=3}return i},fe=(e,i,u,p)=>{if(u>>>=0,!(0<p))return 0;var T=u;p=u+p-1;for(var _=0;_<e.length;++_){var C=e.charCodeAt(_);if(55296<=C&&57343>=C){var K=e.charCodeAt(++_);C=65536+((C&1023)<<10)|K&1023}if(127>=C){if(u>=p)break;i[u++>>>0]=C}else{if(2047>=C){if(u+1>=p)break;i[u++>>>0]=192|C>>6}else{if(65535>=C){if(u+2>=p)break;i[u++>>>0]=224|C>>12}else{if(u+3>=p)break;i[u++>>>0]=240|C>>18,i[u++>>>0]=128|C>>12&63}i[u++>>>0]=128|C>>6&63}i[u++>>>0]=128|C&63}}return i[u>>>0]=0,u-T},ne=(e,i,u)=>fe(e,f(),i,u);function gt(e,i){if(M)return Y(5,1,e,i)}function yt(e,i,u){if(M)return Y(6,1,e,i,u)}function g(e,i,u){return M?Y(7,1,e,i,u):0}function $(e,i){if(M)return Y(8,1,e,i)}function q(e,i,u){if(M)return Y(9,1,e,i,u)}function Fe(e,i,u,p){if(M)return Y(10,1,e,i,u,p)}function wt(e,i,u,p){if(M)return Y(11,1,e,i,u,p)}function Ar(e,i,u,p){if(M)return Y(12,1,e,i,u,p)}function Sr(e){if(M)return Y(13,1,e)}function Mr(e,i){if(M)return Y(14,1,e,i)}function Cr(e,i,u){if(M)return Y(15,1,e,i,u)}function qt(e){e>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(o(),e>>>2,e).value.then(xt),e+=128,Atomics.store(o(),e>>>2,1))}s.__emscripten_thread_mailbox_await=qt;var xt=()=>{var e=Pt();if(e&&(qt(e),e=Yr,!de))try{if(e(),!(0<Be))try{M?er(k):dt(k)}catch(i){i instanceof $e||i=="unwind"||S(1,i)}}catch(i){i instanceof $e||i=="unwind"||S(1,i)}};s.checkMailbox=xt;var Xt=[],rt=e=>e%4===0&&(e%100!==0||e%400===0),xr=[0,31,60,91,121,152,182,213,244,274,305,335],Pr=[0,31,59,90,120,151,181,212,243,273,304,334];function Rr(e,i,u,p,T,_,C,K){return M?Y(16,1,e,i,u,p,T,_,C,K):-52}function Dr(e,i,u,p,T,_,C){if(M)return Y(17,1,e,i,u,p,T,_,C)}var Jt=[],Qt={},Fr=()=>{if(!Zt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},i;for(i in Qt)Qt[i]===void 0?delete e[i]:e[i]=Qt[i];var u=[];for(i in e)u.push(`${i}=${e[i]}`);Zt=u}return Zt},Zt;function Ur(e,i){if(M)return Y(18,1,e,i);e>>>=0,i>>>=0;var u=0;return Fr().forEach((p,T)=>{var _=i+u;for(T=m()[e+4*T>>>2>>>0]=_,_=0;_<p.length;++_)n()[T++>>>0]=p.charCodeAt(_);n()[T>>>0]=0,u+=p.length+1}),0}function Ir(e,i){if(M)return Y(19,1,e,i);e>>>=0,i>>>=0;var u=Fr();m()[e>>>2>>>0]=u.length;var p=0;return u.forEach(T=>p+=T.length+1),m()[i>>>2>>>0]=p,0}function Br(e){return M?Y(20,1,e):52}function Lr(e,i,u,p){return M?Y(21,1,e,i,u,p):52}function kr(e,i,u,p,T){return M?Y(22,1,e,i,u,p,T):70}var wa=[null,[],[]];function Nr(e,i,u,p){if(M)return Y(23,1,e,i,u,p);i>>>=0,u>>>=0,p>>>=0;for(var T=0,_=0;_<u;_++){var C=m()[i>>>2>>>0],K=m()[i+4>>>2>>>0];i+=8;for(var Ue=0;Ue<K;Ue++){var he=f()[C+Ue>>>0],we=wa[e];he===0||he===10?((e===1?He:ue)(A(we,0)),we.length=0):we.push(he)}T+=K}return m()[p>>>2>>>0]=T,0}var Wr=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function ba(e){var i=Array(ge(e)+1);return fe(e,i,0,i.length),i}var va=(e,i)=>{n().set(e,i>>>0)};function $r(e,i,u,p){function T(w,j,ee){for(w=typeof w=="number"?w.toString():w||"";w.length<j;)w=ee[0]+w;return w}function _(w,j){return T(w,j,"0")}function C(w,j){function ee(Qr){return 0>Qr?-1:0<Qr?1:0}var ze;return(ze=ee(w.getFullYear()-j.getFullYear()))===0&&(ze=ee(w.getMonth()-j.getMonth()))===0&&(ze=ee(w.getDate()-j.getDate())),ze}function K(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function Ue(w){var j=w.Qa;for(w=new Date(new Date(w.Ra+1900,0,1).getTime());0<j;){var ee=w.getMonth(),ze=(rt(w.getFullYear())?Wr:Hr)[ee];if(j>ze-w.getDate())j-=ze-w.getDate()+1,w.setDate(1),11>ee?w.setMonth(ee+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+j);break}}return ee=new Date(w.getFullYear()+1,0,4),j=K(new Date(w.getFullYear(),0,4)),ee=K(ee),0>=C(j,w)?0>=C(ee,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,i>>>=0,u>>>=0,p>>>=0;var he=m()[p+40>>>2>>>0];p={kb:o()[p>>>2>>>0],jb:o()[p+4>>>2>>>0],Sa:o()[p+8>>>2>>>0],Wa:o()[p+12>>>2>>>0],Ta:o()[p+16>>>2>>>0],Ra:o()[p+20>>>2>>>0],Ma:o()[p+24>>>2>>>0],Qa:o()[p+28>>>2>>>0],qb:o()[p+32>>>2>>>0],ib:o()[p+36>>>2>>>0],lb:he?R(he):""},u=R(u),he={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var we in he)u=u.replace(new RegExp(we,"g"),he[we]);var Xr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Jr="January February March April May June July August September October November December".split(" ");he={"%a":w=>Xr[w.Ma].substring(0,3),"%A":w=>Xr[w.Ma],"%b":w=>Jr[w.Ta].substring(0,3),"%B":w=>Jr[w.Ta],"%C":w=>_((w.Ra+1900)/100|0,2),"%d":w=>_(w.Wa,2),"%e":w=>T(w.Wa,2," "),"%g":w=>Ue(w).toString().substring(2),"%G":Ue,"%H":w=>_(w.Sa,2),"%I":w=>(w=w.Sa,w==0?w=12:12<w&&(w-=12),_(w,2)),"%j":w=>{for(var j=0,ee=0;ee<=w.Ta-1;j+=(rt(w.Ra+1900)?Wr:Hr)[ee++]);return _(w.Wa+j,3)},"%m":w=>_(w.Ta+1,2),"%M":w=>_(w.jb,2),"%n":()=>`
`,"%p":w=>0<=w.Sa&&12>w.Sa?"AM":"PM","%S":w=>_(w.kb,2),"%t":()=>"	","%u":w=>w.Ma||7,"%U":w=>_(Math.floor((w.Qa+7-w.Ma)/7),2),"%V":w=>{var j=Math.floor((w.Qa+7-(w.Ma+6)%7)/7);if(2>=(w.Ma+371-w.Qa-2)%7&&j++,j)j==53&&(ee=(w.Ma+371-w.Qa)%7,ee==4||ee==3&&rt(w.Ra)||(j=1));else{j=52;var ee=(w.Ma+7-w.Qa-1)%7;(ee==4||ee==5&&rt(w.Ra%400-1))&&j++}return _(j,2)},"%w":w=>w.Ma,"%W":w=>_(Math.floor((w.Qa+7-(w.Ma+6)%7)/7),2),"%y":w=>(w.Ra+1900).toString().substring(2),"%Y":w=>w.Ra+1900,"%z":w=>{w=w.ib;var j=0<=w;return w=Math.abs(w)/60,(j?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(we in he)u.includes(we)&&(u=u.replace(new RegExp(we,"g"),he[we](p)));return u=u.replace(/\0\0/g,"%"),we=ba(u),we.length>i?0:(va(we,e),we.length-1)}U.Va();var Oa=[ct,mt,l,N,se,gt,yt,g,$,q,Fe,wt,Ar,Sr,Mr,Cr,Rr,Dr,Ur,Ir,Br,Lr,kr,Nr],Ea={b:function(e,i,u){throw e>>>=0,new tt(e).Va(i>>>0,u>>>0),ht=e,a++,ht},L:function(e){Gr(e>>>0,!D,1,!x,131072,!1),U.$a()},j:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):U.Ya(U.La[e])},H:c,h:N,S:se,D:gt,F:yt,T:g,Q:$,J:q,P:Fe,n:wt,E:Ar,B:Sr,R:Mr,C:Cr,p:()=>1,z:function(e,i){e>>>=0,e==i>>>0?setTimeout(xt):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=U.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,i,u,p,T){i>>>=0,u>>>=0,Xt.length=p,T=T>>>0>>>3;for(var _=0;_<p;_++)Xt[_]=d()[T+_>>>0];return e=i?et[i]:Oa[e],U.eb=u,u=e(...Xt),U.eb=0,u},K:qt,o:function(e){F&&U.La[e>>>0].ref()},s:function(e,i,u){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN,u>>>=0,e=new Date(1e3*e),o()[u>>>2>>>0]=e.getUTCSeconds(),o()[u+4>>>2>>>0]=e.getUTCMinutes(),o()[u+8>>>2>>>0]=e.getUTCHours(),o()[u+12>>>2>>>0]=e.getUTCDate(),o()[u+16>>>2>>>0]=e.getUTCMonth(),o()[u+20>>>2>>>0]=e.getUTCFullYear()-1900,o()[u+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,o()[u+28>>>2>>>0]=e},t:function(e,i,u){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN,u>>>=0,e=new Date(1e3*e),o()[u>>>2>>>0]=e.getSeconds(),o()[u+4>>>2>>>0]=e.getMinutes(),o()[u+8>>>2>>>0]=e.getHours(),o()[u+12>>>2>>>0]=e.getDate(),o()[u+16>>>2>>>0]=e.getMonth(),o()[u+20>>>2>>>0]=e.getFullYear()-1900,o()[u+24>>>2>>>0]=e.getDay(),i=(rt(e.getFullYear())?xr:Pr)[e.getMonth()]+e.getDate()-1|0,o()[u+28>>>2>>>0]=i,o()[u+36>>>2>>>0]=-(60*e.getTimezoneOffset()),i=new Date(e.getFullYear(),6,1).getTimezoneOffset();var p=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(i!=p&&e.getTimezoneOffset()==Math.min(p,i))|0,o()[u+32>>>2>>>0]=e},u:function(e){e>>>=0;var i=new Date(o()[e+20>>>2>>>0]+1900,o()[e+16>>>2>>>0],o()[e+12>>>2>>>0],o()[e+8>>>2>>>0],o()[e+4>>>2>>>0],o()[e>>>2>>>0],0),u=o()[e+32>>>2>>>0],p=i.getTimezoneOffset(),T=new Date(i.getFullYear(),6,1).getTimezoneOffset(),_=new Date(i.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(_,T);return 0>u?o()[e+32>>>2>>>0]=+(T!=_&&C==p):0<u!=(C==p)&&(T=Math.max(_,T),i.setTime(i.getTime()+6e4*((0<u?C:T)-p))),o()[e+24>>>2>>>0]=i.getDay(),u=(rt(i.getFullYear())?xr:Pr)[i.getMonth()]+i.getDate()-1|0,o()[e+28>>>2>>>0]=u,o()[e>>>2>>>0]=i.getSeconds(),o()[e+4>>>2>>>0]=i.getMinutes(),o()[e+8>>>2>>>0]=i.getHours(),o()[e+12>>>2>>>0]=i.getDate(),o()[e+16>>>2>>>0]=i.getMonth(),o()[e+20>>>2>>>0]=i.getYear(),e=i.getTime(),e=isNaN(e)?-1:e/1e3,zr((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},q:Rr,r:Dr,y:function(e,i,u,p){e>>>=0,i>>>=0,u>>>=0,p>>>=0;var T=new Date().getFullYear(),_=new Date(T,0,1),C=new Date(T,6,1);T=_.getTimezoneOffset();var K=C.getTimezoneOffset(),Ue=Math.max(T,K);m()[e>>>2>>>0]=60*Ue,o()[i>>>2>>>0]=+(T!=K),e=he=>he.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],_=e(_),C=e(C),K<T?(ne(_,u,17),ne(C,p,17)):(ne(_,p,17),ne(C,u,17))},c:()=>{oe("")},O:function(e,i,u){e>>>=0,i>>>=0,u>>>=0,Jt.length=0;for(var p;p=f()[i++>>>0];){var T=p!=105;T&=p!=112,u+=T&&u%8?4:0,Jt.push(p==112?m()[u>>>2>>>0]:p==105?o()[u>>>2>>>0]:d()[u>>>3>>>0]),u+=T?8:4}return et[e](...Jt)},k:()=>{},i:()=>Date.now(),U:()=>{throw Be+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>F?(Un(),Ve(Fn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var i=f().length;if(e<=i||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var p=i*(1+.2/u);p=Math.min(p,e+100663296);var T=Math;p=Math.max(e,p);e:{T=(T.min.call(T,4294901760,p+(65536-p%65536)%65536)-X.buffer.byteLength+65535)/65536;try{X.grow(T),ae();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},M:Ur,N:Ir,G:dt,g:Br,m:Lr,v:kr,l:Nr,a:X||s.wasmMemory,w:$r,d:function(e,i,u,p){return $r(e>>>0,i>>>0,u>>>0,p>>>0)}},I=function(){function e(u,p){return I=u.exports,I=_a(),U.ab.push(I.ya),Ct=I.za,be.unshift(I.V),Ie=p,ke(),I}var i={a:Ea};if(Re++,s.instantiateWasm)try{return s.instantiateWasm(i,e)}catch(u){ue(`Module.instantiateWasm callback failed with error: ${u}`),h(u)}return Tt(i,function(u){e(u.instance,u.module)}).catch(h),{}}();s._OrtInit=(e,i)=>(s._OrtInit=I.W)(e,i),s._OrtGetLastError=(e,i)=>(s._OrtGetLastError=I.X)(e,i),s._OrtCreateSessionOptions=(e,i,u,p,T,_,C,K,Ue,he)=>(s._OrtCreateSessionOptions=I.Y)(e,i,u,p,T,_,C,K,Ue,he),s._OrtAppendExecutionProvider=(e,i)=>(s._OrtAppendExecutionProvider=I.Z)(e,i),s._OrtAddFreeDimensionOverride=(e,i,u)=>(s._OrtAddFreeDimensionOverride=I._)(e,i,u),s._OrtAddSessionConfigEntry=(e,i,u)=>(s._OrtAddSessionConfigEntry=I.$)(e,i,u),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=I.aa)(e),s._OrtCreateSession=(e,i,u)=>(s._OrtCreateSession=I.ba)(e,i,u),s._OrtReleaseSession=e=>(s._OrtReleaseSession=I.ca)(e),s._OrtGetInputOutputCount=(e,i,u)=>(s._OrtGetInputOutputCount=I.da)(e,i,u),s._OrtGetInputName=(e,i)=>(s._OrtGetInputName=I.ea)(e,i),s._OrtGetOutputName=(e,i)=>(s._OrtGetOutputName=I.fa)(e,i),s._OrtFree=e=>(s._OrtFree=I.ga)(e),s._OrtCreateTensor=(e,i,u,p,T,_)=>(s._OrtCreateTensor=I.ha)(e,i,u,p,T,_),s._OrtGetTensorData=(e,i,u,p,T)=>(s._OrtGetTensorData=I.ia)(e,i,u,p,T),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=I.ja)(e),s._OrtCreateRunOptions=(e,i,u,p)=>(s._OrtCreateRunOptions=I.ka)(e,i,u,p),s._OrtAddRunConfigEntry=(e,i,u)=>(s._OrtAddRunConfigEntry=I.la)(e,i,u),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=I.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=I.na)(e),s._OrtBindInput=(e,i,u)=>(s._OrtBindInput=I.oa)(e,i,u),s._OrtBindOutput=(e,i,u,p)=>(s._OrtBindOutput=I.pa)(e,i,u,p),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=I.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=I.ra)(e),s._OrtRunWithBinding=(e,i,u,p,T)=>(s._OrtRunWithBinding=I.sa)(e,i,u,p,T),s._OrtRun=(e,i,u,p,T,_,C,K)=>(s._OrtRun=I.ta)(e,i,u,p,T,_,C,K),s._OrtEndProfiling=e=>(s._OrtEndProfiling=I.ua)(e);var Pt=s._pthread_self=()=>(Pt=s._pthread_self=I.va)();s._malloc=e=>(s._malloc=I.wa)(e),s._free=e=>(s._free=I.xa)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=I.ya)();var Gr=s.__emscripten_thread_init=(e,i,u,p,T,_)=>(Gr=s.__emscripten_thread_init=I.Aa)(e,i,u,p,T,_);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=I.Ba)();var jr=(e,i,u,p,T)=>(jr=I.Ca)(e,i,u,p,T),Kt=e=>(Kt=I.Da)(e),er=s.__emscripten_thread_exit=e=>(er=s.__emscripten_thread_exit=I.Ea)(e),Yr=()=>(Yr=I.Fa)(),zr=e=>(zr=I.Ga)(e),Vr=(e,i)=>(Vr=I.Ha)(e,i),Rt=e=>(Rt=I.Ia)(e),tr=e=>(tr=I.Ja)(e),rr=()=>(rr=I.Ka)();function _a(){var e=I;e=Object.assign({},e);var i=p=>()=>p()>>>0,u=p=>T=>p(T)>>>0;return e.va=i(e.va),e.wa=u(e.wa),e.emscripten_main_runtime_thread_id=i(e.emscripten_main_runtime_thread_id),e.Ja=u(e.Ja),e.Ka=i(e.Ka),e}s.wasmMemory=X,s.stackSave=()=>rr(),s.stackRestore=e=>Rt(e),s.stackAlloc=e=>tr(e),s.keepRuntimeAlive=()=>0<Be,s.UTF8ToString=R,s.stringToUTF8=ne,s.lengthBytesUTF8=ge,s.ExitStatus=$e,s.PThread=U;var Dt;ve=function e(){Dt||qr(),Dt||(ve=e)};function qr(){if(!(0<Re))if(M)y(s),M||je(be),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Pe.unshift(s.preRun.shift());je(Pe),0<Re||Dt||(Dt=!0,s.calledRun=!0,de||(M||je(be),y(s),M||je(Ke)))}}return qr(),O}})();typeof Bn=="object"&&typeof mr=="object"?mr.exports=In:typeof define=="function"&&define.amd&&define([],()=>In)});var kn=nt((zo,Fa)=>{Fa.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\n'});var Wn,Ua,hr,gr,Wt,Nn,Ia,Ba,La,Hn,re,it=H(()=>{"use strict";Wn=Pn();Ua=Ln(),gr=!1,Wt=!1,Nn=!1,Ia=t=>{if(t===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+t+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+t+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},Ba=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},La=(t,r)=>t?r?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Hn=async t=>{if(gr)return Promise.resolve();if(Wt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Nn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Wt=!0;let r=t.initTimeout,n=t.numThreads,f=t.simd,o=Ia(n),m=f&&Ba(),d=t.wasmPaths,s=typeof d=="string"?d:void 0,y=La(m,o),h=typeof d=="object"?d[y]:void 0,O=!1,E=[];if(r>0&&E.push(new Promise(v=>{setTimeout(()=>{O=!0,v()},r)})),E.push(new Promise((v,S)=>{let x=o?Ua:Wn,D={locateFile:(F,M)=>o&&F.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([kn()],{type:"text/javascript"})):F.endsWith(".wasm")?h||(s??M)+y:M+F};if(o)if(D.numThreads=n,typeof Blob>"u")D.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let F=`var ortWasmThreaded=${x.toString()};`;D.mainScriptUrlOrBlob=new Blob([F],{type:"text/javascript"})}x(D).then(F=>{Wt=!1,gr=!0,hr=F,v()},F=>{Wt=!1,Nn=!0,S(F)})})),await Promise.race(E),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},re=()=>{if(gr&&hr)return hr;throw new Error("WebAssembly is not initialized yet.")}});var Q,vt,Z,Ht=H(()=>{"use strict";it();Q=(t,r)=>{let n=re(),f=n.lengthBytesUTF8(t)+1,o=n._malloc(f);return n.stringToUTF8(t,o,f),r.push(o),o},vt=(t,r,n,f)=>{if(typeof t=="object"&&t!==null){if(n.has(t))throw new Error("Circular reference in options");n.add(t)}Object.entries(t).forEach(([o,m])=>{let d=r?r+o:o;if(typeof m=="object")vt(m,d+".",n,f);else if(typeof m=="string"||typeof m=="number")f(d,m.toString());else if(typeof m=="boolean")f(d,m?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof m}`)})},Z=t=>{let r=re(),n=r.stackSave();try{let f=r.stackAlloc(8);r._OrtGetLastError(f,f+4);let o=r.HEAP32[f/4],m=r.HEAPU32[f/4+1],d=m?r.UTF8ToString(m):"";throw new Error(`${t} ERROR_CODE: ${o}, ERROR_MESSAGE: ${d}`)}finally{r.stackRestore(n)}}});var $n,Gn=H(()=>{"use strict";it();Ht();$n=t=>{let r=re(),n=0,f=[],o=t||{};try{if(t?.logSeverityLevel===void 0)o.logSeverityLevel=2;else if(typeof t.logSeverityLevel!="number"||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(t?.logVerbosityLevel===void 0)o.logVerbosityLevel=0;else if(typeof t.logVerbosityLevel!="number"||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);t?.terminate===void 0&&(o.terminate=!1);let m=0;return t?.tag!==void 0&&(m=Q(t.tag,f)),n=r._OrtCreateRunOptions(o.logSeverityLevel,o.logVerbosityLevel,!!o.terminate,m),n===0&&Z("Can't create run options."),t?.extra!==void 0&&vt(t.extra,"",new WeakSet,(d,s)=>{let y=Q(d,f),h=Q(s,f);r._OrtAddRunConfigEntry(n,y,h)!==0&&Z(`Can't set a run config entry: ${d} - ${s}.`)}),[n,f]}catch(m){throw n!==0&&r._OrtReleaseRunOptions(n),f.forEach(d=>r._free(d)),m}}});var ka,Na,Wa,Ha,jn,Yn=H(()=>{"use strict";it();Ht();ka=t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}},Na=t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}},Wa=t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});let r=t.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),t.executionProviders&&t.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(t.enableMemPattern=!1)},Ha=(t,r,n)=>{for(let f of r){let o=typeof f=="string"?f:f.name;switch(o){case"webnn":if(o="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let s=Q("deviceType",n),y=Q(d.deviceType,n);re()._OrtAddSessionConfigEntry(t,s,y)!==0&&Z(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let s=d.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let y=Q("numThreads",n),h=Q(s.toString(),n);re()._OrtAddSessionConfigEntry(t,y,h)!==0&&Z(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let s=Q("powerPreference",n),y=Q(d.powerPreference,n);re()._OrtAddSessionConfigEntry(t,s,y)!==0&&Z(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(o="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let s=Q("preferredLayout",n),y=Q(d.preferredLayout,n);re()._OrtAddSessionConfigEntry(t,s,y)!==0&&Z(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${o}`)}let m=Q(o,n);re()._OrtAppendExecutionProvider(t,m)!==0&&Z(`Can't append execution provider: ${o}.`)}},jn=t=>{let r=re(),n=0,f=[],o=t||{};Wa(o);try{let m=ka(o.graphOptimizationLevel??"all"),d=Na(o.executionMode??"sequential"),s=typeof o.logId=="string"?Q(o.logId,f):0,y=o.logSeverityLevel??2;if(!Number.isInteger(y)||y<0||y>4)throw new Error(`log serverity level is not valid: ${y}`);let h=o.logVerbosityLevel??0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);let O=typeof o.optimizedModelFilePath=="string"?Q(o.optimizedModelFilePath,f):0;if(n=r._OrtCreateSessionOptions(m,!!o.enableCpuMemArena,!!o.enableMemPattern,d,!!o.enableProfiling,0,s,y,h,O),n===0&&Z("Can't create session options."),o.executionProviders&&Ha(n,o.executionProviders,f),o.enableGraphCapture!==void 0){if(typeof o.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${o.enableGraphCapture}`);let E=Q("enableGraphCapture",f),v=Q(o.enableGraphCapture.toString(),f);r._OrtAddSessionConfigEntry(n,E,v)!==0&&Z(`Can't set a session config entry: 'enableGraphCapture' - ${o.enableGraphCapture}.`)}if(o.freeDimensionOverrides)for(let[E,v]of Object.entries(o.freeDimensionOverrides)){if(typeof E!="string")throw new Error(`free dimension override name must be a string: ${E}`);if(typeof v!="number"||!Number.isInteger(v)||v<0)throw new Error(`free dimension override value must be a non-negative integer: ${v}`);let S=Q(E,f);r._OrtAddFreeDimensionOverride(n,S,v)!==0&&Z(`Can't set a free dimension override: ${E} - ${v}.`)}return o.extra!==void 0&&vt(o.extra,"",new WeakSet,(E,v)=>{let S=Q(E,f),x=Q(v,f);r._OrtAddSessionConfigEntry(n,S,x)!==0&&Z(`Can't set a session config entry: ${E} - ${v}.`)}),[n,f]}catch(m){throw n!==0&&r._OrtReleaseSessionOptions(n),f.forEach(d=>r._free(d)),m}}});var yr,zn,wr,Vn,qn,$t,Xn,br=H(()=>{"use strict";yr=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},zn=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},wr=t=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][t],Vn=t=>{switch(t){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}},qn=t=>{switch(t){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${t}`)}},$t=t=>t==="float32"||t==="float16"||t==="int32"||t==="int64"||t==="uint32"||t==="uint8"||t==="bool",Xn=t=>{switch(t){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${t}`)}}});var Ot,vr=H(()=>{"use strict";Ot=async t=>{if(typeof t=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(t))}catch(r){if(r.code==="ERR_FS_FILE_TOO_LARGE"){let n=(void 0)(t),f=[];for await(let o of n)f.push(o);return new Uint8Array(Buffer.concat(f))}throw r}else{let r=await fetch(t);if(!r.ok)throw new Error(`failed to load external data file: ${t}`);let n=r.headers.get("Content-Length"),f=n?parseInt(n,10):0;if(f<1073741824)return new Uint8Array(await r.arrayBuffer());{if(!r.body)throw new Error(`failed to load external data file: ${t}, no response body.`);let o=r.body.getReader(),m;try{m=new ArrayBuffer(f)}catch(s){if(s instanceof RangeError){let y=Math.ceil(f/65536);m=new WebAssembly.Memory({initial:y,maximum:y}).buffer}else throw s}let d=0;for(;;){let{done:s,value:y}=await o.read();if(s)break;let h=y.byteLength;new Uint8Array(m,d,h).set(y),d+=h}return new Uint8Array(m,0,f)}}else return t instanceof Blob?new Uint8Array(await t.arrayBuffer()):t instanceof Uint8Array?t:new Uint8Array(t)}});var $a,Qn,Zn,st,Ga,Or,Kn,ea,Jn,ta,ra,na,aa=H(()=>{"use strict";Gn();Yn();br();it();Ht();vr();$a=(t,r)=>{re()._OrtInit(t,r)!==0&&Z("Can't initialize onnxruntime.")},Qn=async t=>{$a(t.wasm.numThreads,qn(t.logLevel))},Zn=async(t,r)=>{},st=new Map,Ga=t=>{let r=re(),n=r.stackSave();try{let f=r.stackAlloc(8);return r._OrtGetInputOutputCount(t,f,f+4)!==0&&Z("Can't get session input/output count."),[r.HEAP32[f/4],r.HEAP32[f/4+1]]}finally{r.stackRestore(n)}},Or=t=>{let r=re(),n=r._malloc(t.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${t.byteLength}.`);return r.HEAPU8.set(t,n),[n,t.byteLength]},Kn=async(t,r)=>{let n,f,o=re();Array.isArray(t)?[n,f]=t:t.buffer===o.HEAPU8.buffer?[n,f]=[t.byteOffset,t.byteLength]:[n,f]=Or(t);let m=0,d=0,s=0,y=[],h=[],O=[];try{if([d,y]=jn(r),r?.externalData&&o.mountExternalData){let B=[];for(let W of r.externalData){let J=typeof W=="string"?W:W.path;B.push(Ot(typeof W=="string"?W:W.data).then(z=>{o.mountExternalData(J,z)}))}await Promise.all(B)}m=await o._OrtCreateSession(n,f,d),m===0&&Z("Can't create a session.");let[E,v]=Ga(m),S=!!r?.enableGraphCapture,x=[],D=[],F=[];for(let B=0;B<E;B++){let W=o._OrtGetInputName(m,B);W===0&&Z("Can't get an input name."),h.push(W),x.push(o.UTF8ToString(W))}for(let B=0;B<v;B++){let W=o._OrtGetOutputName(m,B);W===0&&Z("Can't get an output name."),O.push(W);let J=o.UTF8ToString(W);D.push(J)}let M=null;return st.set(m,[m,h,O,M,S,!1]),[m,x,D]}catch(E){throw h.forEach(v=>o._OrtFree(v)),O.forEach(v=>o._OrtFree(v)),s!==0&&o._OrtReleaseBinding(s),m!==0&&o._OrtReleaseSession(m),E}finally{o._free(n),d!==0&&o._OrtReleaseSessionOptions(d),y.forEach(E=>o._free(E)),o.unmountExternalData?.()}},ea=t=>{let r=re(),n=st.get(t);if(!n)throw new Error(`cannot release session. invalid session id: ${t}`);let[f,o,m,d,s]=n;d&&(s&&r._OrtClearBoundOutputs(d.handle),r._OrtReleaseBinding(d.handle)),r.jsepOnReleaseSession?.(t),o.forEach(y=>r._OrtFree(y)),m.forEach(y=>r._OrtFree(y)),r._OrtReleaseSession(f),st.delete(t)},Jn=(t,r,n,f,o,m=!1)=>{if(!t){r.push(0);return}let d=re(),s=t[0],y=t[1],h=t[3],O,E;if(s==="string"&&h==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(m&&h!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${o} when enableGraphCapture is true.`);if(h==="gpu-buffer"){let x=t[2].gpuBuffer,D=wr(yr(s));E=y.reduce((F,M)=>F*M,1)*D,O=d.jsepRegisterBuffer(f,o,x,E)}else{let x=t[2];if(Array.isArray(x)){E=4*x.length,O=d._malloc(E),n.push(O);let D=O/4;for(let F=0;F<x.length;F++){if(typeof x[F]!="string")throw new TypeError(`tensor data at index ${F} is not a string`);d.HEAPU32[D++]=Q(x[F],n)}}else E=x.byteLength,O=d._malloc(E),n.push(O),d.HEAPU8.set(new Uint8Array(x.buffer,x.byteOffset,E),O)}let v=d.stackSave(),S=d.stackAlloc(4*y.length);try{let x=S/4;y.forEach(F=>d.HEAP32[x++]=F);let D=d._OrtCreateTensor(yr(s),O,E,S,y.length,Xn(h));D===0&&Z(`Can't create tensor for input/output. session=${f}, index=${o}.`),r.push(D)}finally{d.stackRestore(v)}},ta=async(t,r,n,f,o,m)=>{let d=re(),s=st.get(t);if(!s)throw new Error(`cannot run inference. invalid session id: ${t}`);let y=s[0],h=s[1],O=s[2],E=s[3],v=s[4],S=s[5],x=r.length,D=f.length,F=0,M=[],B=[],W=[],J=[],z=d.stackSave(),P=d.stackAlloc(x*4),V=d.stackAlloc(x*4),Me=d.stackAlloc(D*4),Le=d.stackAlloc(D*4);try{[F,M]=$n(m);for(let k=0;k<x;k++)Jn(n[k],B,J,t,r[k],v);for(let k=0;k<D;k++)Jn(o[k],W,J,t,x+f[k],v);let ce=P/4,He=V/4,ue=Me/4,X=Le/4;for(let k=0;k<x;k++)d.HEAPU32[ce++]=B[k],d.HEAPU32[He++]=h[r[k]];for(let k=0;k<D;k++)d.HEAPU32[ue++]=W[k],d.HEAPU32[X++]=O[f[k]];d.jsepOnRunStart?.(y);let Ie;Ie=await d._OrtRun(y,V,P,x,Le,D,Me,F),Ie!==0&&Z("failed to call OrtRun().");let de=[];for(let k=0;k<D;k++){let pe=d.HEAPU32[Me/4+k];if(pe===W[k]){de.push(o[k]);continue}let Ce=d.stackSave(),me=d.stackAlloc(4*4),xe=!1,ie,ae=0;try{d._OrtGetTensorData(pe,me,me+4,me+8,me+12)!==0&&Z(`Can't access output tensor data on index ${k}.`);let Pe=me/4,be=d.HEAPU32[Pe++];ae=d.HEAPU32[Pe++];let Ke=d.HEAPU32[Pe++],Re=d.HEAPU32[Pe++],Ee=[];for(let oe=0;oe<Re;oe++)Ee.push(d.HEAPU32[Ke/4+oe]);d._OrtFree(Ke);let ve=Ee.reduce((oe,te)=>oe*te,1);ie=zn(be);let ke=E?.outputPreferredLocations[f[k]];if(ie==="string"){if(ke==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let oe=[],te=ae/4;for(let _e=0;_e<ve;_e++){let Te=d.HEAPU32[te++],Se=_e===ve-1?void 0:d.HEAPU32[te]-Te;oe.push(d.UTF8ToString(Te,Se))}de.push([ie,Ee,oe,"cpu"])}else if(ke==="gpu-buffer"&&ve>0){let oe=d.jsepGetBuffer(ae),te=wr(be);if(te===void 0||!$t(ie))throw new Error(`Unsupported data type: ${ie}`);xe=!0,de.push([ie,Ee,{gpuBuffer:oe,download:d.jsepCreateDownloader(oe,ve*te,ie),dispose:()=>{d._OrtReleaseTensor(pe)}},"gpu-buffer"])}else{let oe=Vn(ie),te=new oe(ve);new Uint8Array(te.buffer,te.byteOffset,te.byteLength).set(d.HEAPU8.subarray(ae,ae+te.byteLength)),de.push([ie,Ee,te,"cpu"])}}finally{d.stackRestore(Ce),ie==="string"&&ae&&d._free(ae),xe||d._OrtReleaseTensor(pe)}}return E&&!v&&(d._OrtClearBoundOutputs(E.handle),st.set(t,[y,h,O,E,v,!1])),de}finally{d.stackRestore(z),B.forEach(ce=>d._OrtReleaseTensor(ce)),W.forEach(ce=>d._OrtReleaseTensor(ce)),J.forEach(ce=>d._free(ce)),F!==0&&d._OrtReleaseRunOptions(F),M.forEach(ce=>d._free(ce))}},ra=t=>{let r=re(),n=st.get(t);if(!n)throw new Error("invalid session id");let f=n[0],o=r._OrtEndProfiling(f);o===0&&Z("Can't get an profile file name."),r._OrtFree(o)},na=t=>{let r=[];for(let n of t){let f=n[2];!Array.isArray(f)&&"buffer"in f&&r.push(f.buffer)}return r}});var oa=nt((di,Ya)=>{Ya.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var qr=Object.getOwnPropertyDescriptor;var Vr=Object.getOwnPropertyNames;var Jr=Object.prototype.hasOwnProperty;var St=(i,d)=>()=>(i&&(d=i(i=0)),d);var et=(i,d)=>()=>(d||i((d={exports:{}}).exports,d),d.exports),At=(i,d)=>{for(var a in d)Et(i,a,{get:d[a],enumerable:!0})},Xr=(i,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Vr(d))!Jr.call(i,f)&&f!==a&&Et(i,f,{get:()=>d[f],enumerable:!(h=qr(d,f))||h.enumerable});return i};var tt=i=>Xr(Et({},"__esModule",{value:!0}),i);var Tt={};At(Tt,{createReadStream:()=>lr,readFile:()=>Qr,readFileSync:()=>Zr});var Qr,Zr,lr,Mt=St(()=>{Qr=void 0,Zr=void 0,lr=void 0});var Ct={};At(Ct,{join:()=>Kr});var Kr,Dt=St(()=>{Kr=void 0});var pr=et((dr,Ft)=>{"use strict";var cr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){var a=d,h,f;a.ready=new Promise((t,o)=>{h=t,f=o});var w=Object.assign({},a),g="./this.program",u=typeof window=="object",_=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",D,L,X;if(P){var B=(Mt(),tt(Tt)),k=(Dt(),tt(Ct));R=_?k.dirname(R)+"/":__dirname+"/",D=(t,o)=>(t=_e(t)?new URL(t):k.normalize(t),B.readFileSync(t,o?void 0:"utf8")),X=t=>(t=D(t,!0),t.buffer||(t=new Uint8Array(t)),t),L=(t,o,s,m=!0)=>{t=_e(t)?new URL(t):k.normalize(t),B.readFile(t,m?void 0:"utf8",(O,A)=>{O?s(O):o(m?A.buffer:A)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(u||_)&&(_?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),i&&(R=i),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",D=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},_&&(X=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),L=(t,o,s)=>{var m=new XMLHttpRequest;m.open("GET",t,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var F=console.log.bind(console),S=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&x("no native wasm support detected");var I,G=!1,ie,ee,E,$,ve;function xe(){var t=I.buffer;a.HEAP8=ie=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAPU8=ee=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=E=new Int32Array(t),a.HEAPU32=$=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=ve=new Float64Array(t)}var ue=[],Ue=[],oe=[],j=0,De=null,fe=null;function x(t){throw t="Aborted("+t+")",S(t),G=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),f(t),t}var le=t=>t.startsWith("data:application/octet-stream;base64,"),_e=t=>t.startsWith("file://"),ce;if(ce="ort-wasm.wasm",!le(ce)){var Ee=ce;ce=a.locateFile?a.locateFile(Ee,R):R+Ee}function ne(t){if(X)return X(t);throw"both async and sync fetching of the wasm failed"}function te(t){if(u||_){if(typeof fetch=="function"&&!_e(t))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>ne(t));if(L)return new Promise((o,s)=>{L(t,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>ne(t))}function We(t,o,s){return te(t).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{S(`failed to asynchronously prepare wasm: ${m}`),x(m)})}function Se(t,o){var s=ce;return typeof WebAssembly.instantiateStreaming!="function"||le(s)||_e(s)||P||typeof fetch!="function"?We(s,t,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,t).then(o,function(O){return S(`wasm streaming compile failed: ${O}`),S("falling back to ArrayBuffer instantiation"),We(s,t,o)}))}var ge,Ne={156368:(t,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(t=Q(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=a.za.get(t),!t)return 2;if(o>>>=0,s>>>=0,o+s>t.byteLength)return 3;try{return ee.set(t.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Ae(t){this.xa=t-24,this.Ha=function(o){$[this.xa+4>>>2>>>0]=o},this.Ga=function(o){$[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){$[this.xa+16>>>2>>>0]=0}}var ye=0,he=0,Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(t,o,s)=>{o>>>=0;var m=o+s;for(s=o;t[s]&&!(s>=m);)++s;if(16<s-o&&t.buffer&&Pe)return Pe.decode(t.subarray(o,s));for(m="";o<s;){var O=t[o++];if(O&128){var A=t[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|A);else{var U=t[o++]&63;O=(O&240)==224?(O&15)<<12|A<<6|U:(O&7)<<18|A<<12|U<<6|t[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},Q=(t,o)=>(t>>>=0)?re(ee,t,o):"",be=t=>{for(var o=0,s=0;s<t.length;++s){var m=t.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},we=(t,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var A=0;A<t.length;++A){var U=t.charCodeAt(A);if(55296<=U&&57343>=U){var ae=t.charCodeAt(++A);U=65536+((U&1023)<<10)|ae&1023}if(127>=U){if(s>=m)break;o[s++>>>0]=U}else{if(2047>=U){if(s+1>=m)break;o[s++>>>0]=192|U>>6}else{if(65535>=U){if(s+2>=m)break;o[s++>>>0]=224|U>>12}else{if(s+3>=m)break;o[s++>>>0]=240|U>>18,o[s++>>>0]=128|U>>12&63}o[s++>>>0]=128|U>>6&63}o[s++>>>0]=128|U&63}}return o[s>>>0]=0,s-O},Oe=t=>t%4===0&&(t%100!==0||t%400===0),nt=[0,31,60,91,121,152,182,213,244,274,305,335],je=[0,31,59,90,120,151,181,212,243,273,304,334],at=t=>{var o=be(t)+1,s=it(o);return s&&we(t,ee,s,o),s},Te=[],He={},Re=()=>{if(!Le){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in He)He[o]===void 0?delete t[o]:t[o]=He[o];var s=[];for(o in t)s.push(`${o}=${t[o]}`);Le=s}return Le},Le,ot=[null,[],[]],Fe=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31];function H(t){var o=Array(be(t)+1);return we(t,o,0,o.length),o}function ze(t,o,s,m){function O(c,W,Y){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=Y[0]+c;return c}function A(c,W){return O(c,W,"0")}function U(c,W){function Y(Ke){return 0>Ke?-1:0<Ke?1:0}var Me;return(Me=Y(c.getFullYear()-W.getFullYear()))===0&&(Me=Y(c.getMonth()-W.getMonth()))===0&&(Me=Y(c.getDate()-W.getDate())),Me}function ae(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function pe(c){var W=c.ta;for(c=new Date(new Date(c.ua+1900,0,1).getTime());0<W;){var Y=c.getMonth(),Me=(Oe(c.getFullYear())?Fe:st)[Y];if(W>Me-c.getDate())W-=Me-c.getDate()+1,c.setDate(1),11>Y?c.setMonth(Y+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return Y=new Date(c.getFullYear()+1,0,4),W=ae(new Date(c.getFullYear(),0,4)),Y=ae(Y),0>=U(W,c)?0>=U(Y,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}t>>>=0,o>>>=0,s>>>=0,m>>>=0;var se=$[m+40>>>2>>>0];m={Da:E[m>>>2>>>0],Ca:E[m+4>>>2>>>0],va:E[m+8>>>2>>>0],ya:E[m+12>>>2>>>0],wa:E[m+16>>>2>>>0],ua:E[m+20>>>2>>>0],oa:E[m+24>>>2>>>0],ta:E[m+28>>>2>>>0],Ia:E[m+32>>>2>>>0],Ba:E[m+36>>>2>>>0],Ea:se?Q(se):""},s=Q(s),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var K in se)s=s.replace(new RegExp(K,"g"),se[K]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");se={"%a":c=>Qe[c.oa].substring(0,3),"%A":c=>Qe[c.oa],"%b":c=>Ze[c.wa].substring(0,3),"%B":c=>Ze[c.wa],"%C":c=>A((c.ua+1900)/100|0,2),"%d":c=>A(c.ya,2),"%e":c=>O(c.ya,2," "),"%g":c=>pe(c).toString().substring(2),"%G":c=>pe(c),"%H":c=>A(c.va,2),"%I":c=>(c=c.va,c==0?c=12:12<c&&(c-=12),A(c,2)),"%j":c=>{for(var W=0,Y=0;Y<=c.wa-1;W+=(Oe(c.ua+1900)?Fe:st)[Y++]);return A(c.ya+W,3)},"%m":c=>A(c.wa+1,2),"%M":c=>A(c.Ca,2),"%n":()=>`\n`,"%p":c=>0<=c.va&&12>c.va?"AM":"PM","%S":c=>A(c.Da,2),"%t":()=>"	","%u":c=>c.oa||7,"%U":c=>A(Math.floor((c.ta+7-c.oa)/7),2),"%V":c=>{var W=Math.floor((c.ta+7-(c.oa+6)%7)/7);if(2>=(c.oa+371-c.ta-2)%7&&W++,W)W==53&&(Y=(c.oa+371-c.ta)%7,Y==4||Y==3&&Oe(c.ua)||(W=1));else{W=52;var Y=(c.oa+7-c.ta-1)%7;(Y==4||Y==5&&Oe(c.ua%400-1))&&W++}return A(W,2)},"%w":c=>c.oa,"%W":c=>A(Math.floor((c.ta+7-(c.oa+6)%7)/7),2),"%y":c=>(c.ua+1900).toString().substring(2),"%Y":c=>c.ua+1900,"%z":c=>{c=c.Ba;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(K in se)s.includes(K)&&(s=s.replace(new RegExp(K,"g"),se[K](m)));return s=s.replace(/\\0\\0/g,"%"),K=H(s),K.length>o?0:(ie.set(K,t>>>0),K.length-1)}var qe={a:function(t,o,s){throw t>>>=0,new Ae(t).Aa(o>>>0,s>>>0),ye=t,he++,ye},c:function(){return 0},i:function(){},z:function(){},C:function(){},s:function(){return 0},I:function(){},E:function(){},H:function(){},h:function(){},A:function(){},x:function(){},J:function(){},y:function(){},j:()=>1,m:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),E[s>>>2>>>0]=t.getUTCSeconds(),E[s+4>>>2>>>0]=t.getUTCMinutes(),E[s+8>>>2>>>0]=t.getUTCHours(),E[s+12>>>2>>>0]=t.getUTCDate(),E[s+16>>>2>>>0]=t.getUTCMonth(),E[s+20>>>2>>>0]=t.getUTCFullYear()-1900,E[s+24>>>2>>>0]=t.getUTCDay(),E[s+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},n:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),E[s>>>2>>>0]=t.getSeconds(),E[s+4>>>2>>>0]=t.getMinutes(),E[s+8>>>2>>>0]=t.getHours(),E[s+12>>>2>>>0]=t.getDate(),E[s+16>>>2>>>0]=t.getMonth(),E[s+20>>>2>>>0]=t.getFullYear()-1900,E[s+24>>>2>>>0]=t.getDay(),E[s+28>>>2>>>0]=(Oe(t.getFullYear())?nt:je)[t.getMonth()]+t.getDate()-1|0,E[s+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var m=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[s+32>>>2>>>0]=(o!=m&&t.getTimezoneOffset()==Math.min(m,o))|0},o:function(t){t>>>=0;var o=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),s=E[t+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),A=new Date(o.getFullYear(),0,1).getTimezoneOffset(),U=Math.min(A,O);return 0>s?E[t+32>>>2>>>0]=+(O!=A&&U==m):0<s!=(U==m)&&(O=Math.max(A,O),o.setTime(o.getTime()+6e4*((0<s?U:O)-m))),E[t+24>>>2>>>0]=o.getDay(),E[t+28>>>2>>>0]=(Oe(o.getFullYear())?nt:je)[o.getMonth()]+o.getDate()-1|0,E[t>>>2>>>0]=o.getSeconds(),E[t+4>>>2>>>0]=o.getMinutes(),E[t+8>>>2>>>0]=o.getHours(),E[t+12>>>2>>>0]=o.getDate(),E[t+16>>>2>>>0]=o.getMonth(),E[t+20>>>2>>>0]=o.getYear(),t=o.getTime(),isNaN(t)?(E[Ve()>>>2>>>0]=61,t=-1):t/=1e3,T((ge=t,1<=+Math.abs(ge)?0<ge?+Math.floor(ge/4294967296)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)),t>>>0},k:function(){return-52},l:function(){},u:function(t,o,s){function m(pe){return(pe=pe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?pe[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),A=new Date(O,0,1),U=new Date(O,6,1);O=A.getTimezoneOffset();var ae=U.getTimezoneOffset();$[t>>>0>>>2>>>0]=60*Math.max(O,ae),E[o>>>0>>>2>>>0]=+(O!=ae),t=m(A),o=m(U),t=at(t),o=at(o),ae<O?($[s>>>2>>>0]=t,$[s+4>>>2>>>0]=o):($[s>>>2>>>0]=o,$[s+4>>>2>>>0]=t)},e:()=>{x("")},B:function(t,o,s){t>>>=0,o>>>=0,s>>>=0,Te.length=0;for(var m;m=ee[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Te.push(m==112?$[s>>>2>>>0]:m==105?E[s>>>2>>>0]:ve[s>>>3>>>0]),s+=O?8:4}return Ne[t].apply(null,Te)},f:()=>Date.now(),v:function(){return 4294901760},b:()=>performance.now(),D:function(t,o,s){return o>>>=0,ee.copyWithin(t>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},t:function(t){t>>>=0;var o=ee.length;if(4294901760<t)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,t+100663296);var O=Math;m=Math.max(t,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-I.buffer.byteLength+65535)/65536;try{I.grow(O),xe();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},F:function(t,o){t>>>=0,o>>>=0;var s=0;return Re().forEach((m,O)=>{var A=o+s;for(O=$[t+4*O>>>2>>>0]=A,A=0;A<m.length;++A)ie[O++>>>0>>>0]=m.charCodeAt(A);ie[O>>>0>>>0]=0,s+=m.length+1}),0},G:function(t,o){t>>>=0,o>>>=0;var s=Re();$[t>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),$[o>>>2>>>0]=m,0},d:()=>52,g:function(){return 52},p:function(){return 70},w:function(t,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,A=0;A<s;A++){var U=$[o>>>2>>>0],ae=$[o+4>>>2>>>0];o+=8;for(var pe=0;pe<ae;pe++){var se=ee[U+pe>>>0],K=ot[t];se===0||se===10?((t===1?F:S)(re(K,0)),K.length=0):K.push(se)}O+=ae}return $[m>>>2>>>0]=O,0},q:ze,r:function(t,o,s,m){return ze(t>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function t(s){return C=s.exports,C=ut(),I=C.K,xe(),Ue.unshift(C.L),j--,j==0&&(De!==null&&(clearInterval(De),De=null),fe&&(s=fe,fe=null,s())),C}var o={a:qe};if(j++,a.instantiateWasm)try{return a.instantiateWasm(o,t)}catch(s){S(`Module.instantiateWasm callback failed with error: ${s}`),f(s)}return Se(o,function(s){t(s.instance)}).catch(f),{}}();a._OrtInit=(t,o)=>(a._OrtInit=C.M)(t,o),a._OrtGetLastError=(t,o)=>(a._OrtGetLastError=C.N)(t,o),a._OrtCreateSessionOptions=(t,o,s,m,O,A,U,ae,pe,se)=>(a._OrtCreateSessionOptions=C.O)(t,o,s,m,O,A,U,ae,pe,se),a._OrtAppendExecutionProvider=(t,o)=>(a._OrtAppendExecutionProvider=C.P)(t,o),a._OrtAddFreeDimensionOverride=(t,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(t,o,s),a._OrtAddSessionConfigEntry=(t,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(t,o,s),a._OrtReleaseSessionOptions=t=>(a._OrtReleaseSessionOptions=C.S)(t),a._OrtCreateSession=(t,o,s)=>(a._OrtCreateSession=C.T)(t,o,s),a._OrtReleaseSession=t=>(a._OrtReleaseSession=C.U)(t),a._OrtGetInputOutputCount=(t,o,s)=>(a._OrtGetInputOutputCount=C.V)(t,o,s),a._OrtGetInputName=(t,o)=>(a._OrtGetInputName=C.W)(t,o),a._OrtGetOutputName=(t,o)=>(a._OrtGetOutputName=C.X)(t,o),a._OrtFree=t=>(a._OrtFree=C.Y)(t),a._OrtCreateTensor=(t,o,s,m,O,A)=>(a._OrtCreateTensor=C.Z)(t,o,s,m,O,A),a._OrtGetTensorData=(t,o,s,m,O)=>(a._OrtGetTensorData=C._)(t,o,s,m,O),a._OrtReleaseTensor=t=>(a._OrtReleaseTensor=C.$)(t),a._OrtCreateRunOptions=(t,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(t,o,s,m),a._OrtAddRunConfigEntry=(t,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(t,o,s),a._OrtReleaseRunOptions=t=>(a._OrtReleaseRunOptions=C.ca)(t),a._OrtCreateBinding=t=>(a._OrtCreateBinding=C.da)(t),a._OrtBindInput=(t,o,s)=>(a._OrtBindInput=C.ea)(t,o,s),a._OrtBindOutput=(t,o,s,m)=>(a._OrtBindOutput=C.fa)(t,o,s,m),a._OrtClearBoundOutputs=t=>(a._OrtClearBoundOutputs=C.ga)(t),a._OrtReleaseBinding=t=>(a._OrtReleaseBinding=C.ha)(t),a._OrtRunWithBinding=(t,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(t,o,s,m,O),a._OrtRun=(t,o,s,m,O,A,U,ae)=>(a._OrtRun=C.ja)(t,o,s,m,O,A,U,ae),a._OrtEndProfiling=t=>(a._OrtEndProfiling=C.ka)(t);var Ve=()=>(Ve=C.la)(),it=a._malloc=t=>(it=a._malloc=C.ma)(t);a._free=t=>(a._free=C.na)(t);var T=t=>(T=C.pa)(t),Ie=()=>(Ie=C.qa)(),Je=t=>(Je=C.ra)(t),Be=t=>(Be=C.sa)(t);function ut(){var t=C;t=Object.assign({},t);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return t.la=o(t.la),t.ma=s(t.ma),t.qa=o(t.qa),t.sa=s(t.sa),t}a.stackAlloc=Be,a.stackSave=Ie,a.stackRestore=Je,a.UTF8ToString=Q,a.stringToUTF8=(t,o,s)=>we(t,ee,o,s),a.lengthBytesUTF8=be;var Ge;fe=function t(){Ge||Xe(),Ge||(fe=t)};function Xe(){if(!(0<j)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var t=a.preRun.shift();ue.unshift(t)}for(;0<ue.length;)ue.shift()(a);if(!(0<j||Ge||(Ge=!0,a.calledRun=!0,G))){for(;0<Ue.length;)Ue.shift()(a);for(h(a);0<oe.length;)oe.shift()(a)}}}return Xe(),d.ready}})();typeof dr=="object"&&typeof Ft=="object"?Ft.exports=cr:typeof define=="function"&&define.amd&&define([],()=>cr)});var mr=et(()=>{});var gr=et(()=>{});var hr={};At(hr,{cpus:()=>en});var en,yr=St(()=>{en=void 0});var Or=et((wr,xt)=>{"use strict";var br=(()=>{var i=typeof document<"u"?document.currentScript?.src:void 0;return typeof __filename<"u"&&(i||=__filename),function(d={}){function a(){return j.buffer!=le.buffer&&te(),le}function h(){return j.buffer!=le.buffer&&te(),_e}function f(){return j.buffer!=le.buffer&&te(),ce}function w(){return j.buffer!=le.buffer&&te(),Ee}function g(){return j.buffer!=le.buffer&&te(),ne}var u=d,_,P,R=new Promise((e,r)=>{_=e,P=r}),D=Object.assign({},u),L="./this.program",X=(e,r)=>{throw r},B=typeof window=="object",k=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S=u.ENVIRONMENT_IS_PTHREAD||!1,I="";function G(e){return u.locateFile?u.locateFile(e,I):I+e}var ie,ee,E;if(F){var $=(Mt(),tt(Tt)),ve=(Dt(),tt(Ct));I=k?ve.dirname(I)+"/":__dirname+"/",ie=(e,r)=>(e=be(e)?new URL(e):ve.normalize(e),$.readFileSync(e,r?void 0:"utf8")),E=e=>(e=ie(e,!0),e.buffer||(e=new Uint8Array(e)),e),ee=(e,r,n,l=!0)=>{e=be(e)?new URL(e):ve.normalize(e),$.readFile(e,l?void 0:"utf8",(b,y)=>{b?n(b):r(l?y.buffer:y)})},!u.thisProgram&&1<process.argv.length&&(L=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),X=(e,r)=>{throw process.exitCode=e,r},global.Worker=mr().Worker}else(B||k)&&(k?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),typeof i<"u"&&i&&(I=i),I.startsWith("blob:")?I="":I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1),F||(ie=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},k&&(E=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ee=(e,r,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):n()},l.onerror=n,l.send(null)}));F&&typeof performance>"u"&&(global.performance=gr().performance);var xe=console.log.bind(console),ue=console.error.bind(console);F&&(xe=(...e)=>$.writeSync(1,e.join(" ")+`\n`),ue=(...e)=>$.writeSync(2,e.join(" ")+`\n`));var Ue=xe,oe=ue;Object.assign(u,D),D=null;var j,De,fe=!1,x,le,_e,ce,Ee,ne;function te(){var e=j.buffer;u.HEAP8=le=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAPU8=_e=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAP32=ce=new Int32Array(e),u.HEAPU32=Ee=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=ne=new Float64Array(e)}var We=16777216;if(S)j=u.wasmMemory;else if(u.wasmMemory)j=u.wasmMemory;else if(j=new WebAssembly.Memory({initial:We/65536,maximum:65536,shared:!0}),!(j.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),F&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");te(),We=j.buffer.byteLength;var Se=[],ge=[],Ne=[],Ae=0,ye=null,he=null;function Pe(){if(Ae--,Ae==0&&(ye!==null&&(clearInterval(ye),ye=null),he)){var e=he;he=null,e()}}function re(e){throw e="Aborted("+e+")",oe(e),fe=!0,x=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}var Q=e=>e.startsWith("data:application/octet-stream;base64,"),be=e=>e.startsWith("file://"),we;we="ort-wasm-threaded.wasm",Q(we)||(we=G(we));function Oe(e){if(E)return E(e);throw"both async and sync fetching of the wasm failed"}function nt(e){if(B||k){if(typeof fetch=="function"&&!be(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at \'${e}\'`;return r.arrayBuffer()}).catch(()=>Oe(e));if(ee)return new Promise((r,n)=>{ee(e,l=>r(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>Oe(e))}function je(e,r,n){return nt(e).then(l=>WebAssembly.instantiate(l,r)).then(n,l=>{oe(`failed to asynchronously prepare wasm: ${l}`),re(l)})}function at(e,r){var n=we;return typeof WebAssembly.instantiateStreaming!="function"||Q(n)||be(n)||F||typeof fetch!="function"?je(n,e,r):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(b){return oe(`wasm streaming compile failed: ${b}`),oe("falling back to ArrayBuffer instantiation"),je(n,e,r)}))}var Te,He={796676:(e,r,n,l)=>{if(typeof u>"u"||!u.bb)return 1;if(e=A(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=u.bb.get(e),!e)return 2;if(r>>>=0,n>>>=0,l>>>=0,r+n>e.byteLength)return 3;try{return h().set(e.subarray(r,r+n),l>>>0),0}catch{return 4}}};function Re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Le=e=>{e.terminate(),e.onmessage=()=>{}},ot=e=>{T.Oa.length==0&&(Ve(),T.Xa(T.Oa[0]));var r=T.Oa.pop();if(!r)return 6;T.Pa.push(r),T.La[e.Na]=r,r.Na=e.Na;var n={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return F&&r.unref(),r.postMessage(n,e.mb),0},Fe=0,st=e=>{var r=_t();return e=e(),ct(r),e},H=(e,r,...n)=>st(()=>{for(var l=n.length,b=vt(8*l),y=b>>>3,v=0;v<n.length;v++){var V=n[v];g()[y+v>>>0]=V}return rr(e,0,l,b,r)});function ze(e){if(S)return H(0,1,e);x=e,0<Fe||(T.hb(),u.onExit?.(e),fe=!0),X(e,new Re(e))}var qe=e=>{if(x=e,S)throw Je(e),"unwind";ze(e)};function C(){for(var e=u.numThreads;e--;)Ve();Se.unshift(()=>{Ae++,it(()=>Pe())})}function Ve(){var e=G("ort-wasm-threaded.worker.js");e=new Worker(e),T.Oa.push(e)}function it(e){S?e():Promise.all(T.Oa.map(T.Xa)).then(e)}var T={Oa:[],Pa:[],ab:[],La:{},Va(){S?(T.receiveObjectTransfer=T.fb,T.threadInitTLS=T.$a,T.setExitStatus=T.Za):C()},Za:e=>x=e,pb:["$terminateWorker"],hb:()=>{for(var e of T.Pa)Le(e);for(e of T.Oa)Le(e);T.Oa=[],T.Pa=[],T.La=[]},Ya:e=>{var r=e.Na;delete T.La[r],T.Oa.push(e),T.Pa.splice(T.Pa.indexOf(e),1),e.Na=0,wt(r)},fb(){},$a(){T.ab.forEach(e=>e())},Xa:e=>new Promise(r=>{e.onmessage=y=>{y=y.data;var v=y.cmd;if(y.targetThread&&y.targetThread!=lt()){var V=T.La[y.targetThread];V?V.postMessage(y,y.transferList):oe(`Internal error! Worker sent a message "${v}" to target pthread ${y.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?ot(y):v==="cleanupThread"?T.Ya(T.La[y.thread]):v==="killThread"?(y=y.thread,v=T.La[y],delete T.La[y],Le(v),wt(y),T.Pa.splice(T.Pa.indexOf(v),1),v.Na=0):v==="cancelThread"?T.La[y.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,F&&!e.Na&&e.unref(),r(e)):v==="alert"?alert(`Thread ${y.threadId}: ${y.text}`):y.target==="setimmediate"?e.postMessage(y):v==="callHandler"?u[y.handler](...y.args):v&&oe(`worker sent an unknown command ${v}`)},e.onerror=y=>{throw oe(`worker sent an error! ${y.filename}:${y.lineno}: ${y.message}`),y},F&&(e.on("message",y=>e.onmessage({data:y})),e.on("error",y=>e.onerror(y)));var n=[],l=["onExit"],b;for(b of l)u.hasOwnProperty(b)&&n.push(b);e.postMessage({cmd:"load",handlers:n,urlOrBlob:u.mainScriptUrlOrBlob||i,wasmMemory:j,wasmModule:De})})};u.PThread=T;var Ie=e=>{for(;0<e.length;)e.shift()(u)};u.establishStackSpace=()=>{var e=lt(),r=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],or(r,r-e),ct(r)};function Je(e){if(S)return H(1,0,e);qe(e)}var Be=[],ut;u.invokeEntryPoint=(e,r)=>{Fe=0;var n=Be[e];n||(e>=Be.length&&(Be.length=e+1),Be[e]=n=ut.get(e)),e=n(r),0<Fe?T.Za(e):Ot(e)};class Ge{constructor(r){this.Ua=r-24}Va(r,n){w()[this.Ua+16>>>2>>>0]=0,w()[this.Ua+4>>>2>>>0]=r,w()[this.Ua+8>>>2>>>0]=n}}var Xe=0,t=0;function o(e,r,n,l){return S?H(2,1,e,r,n,l):s(e,r,n,l)}function s(e,r,n,l){if(e>>>=0,r>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var b=[];return S&&b.length===0?o(e,r,n,l):(e={gb:n,Na:e,cb:l,mb:b},S?(e.ob="spawnThread",postMessage(e,b),0):ot(e))}var m=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(e,r,n)=>{r>>>=0;var l=r+n;for(n=r;e[n]&&!(n>=l);)++n;if(16<n-r&&e.buffer&&m)return m.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,n):e.subarray(r,n));for(l="";r<n;){var b=e[r++];if(b&128){var y=e[r++]&63;if((b&224)==192)l+=String.fromCharCode((b&31)<<6|y);else{var v=e[r++]&63;b=(b&240)==224?(b&15)<<12|y<<6|v:(b&7)<<18|y<<12|v<<6|e[r++]&63,65536>b?l+=String.fromCharCode(b):(b-=65536,l+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else l+=String.fromCharCode(b)}return l},A=(e,r)=>(e>>>=0)?O(h(),e,r):"";function U(e,r,n){return S?H(3,1,e,r,n):0}function ae(e,r){if(S)return H(4,1,e,r)}var pe=e=>{for(var r=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++n):r+=3}return r},se=(e,r,n,l)=>{if(n>>>=0,!(0<l))return 0;var b=n;l=n+l-1;for(var y=0;y<e.length;++y){var v=e.charCodeAt(y);if(55296<=v&&57343>=v){var V=e.charCodeAt(++y);v=65536+((v&1023)<<10)|V&1023}if(127>=v){if(n>=l)break;r[n++>>>0]=v}else{if(2047>=v){if(n+1>=l)break;r[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=l)break;r[n++>>>0]=224|v>>12}else{if(n+3>=l)break;r[n++>>>0]=240|v>>18,r[n++>>>0]=128|v>>12&63}r[n++>>>0]=128|v>>6&63}r[n++>>>0]=128|v&63}}return r[n>>>0]=0,n-b},K=(e,r,n)=>se(e,h(),r,n);function Qe(e,r){if(S)return H(5,1,e,r)}function Ze(e,r,n){if(S)return H(6,1,e,r,n)}function c(e,r,n){return S?H(7,1,e,r,n):0}function W(e,r){if(S)return H(8,1,e,r)}function Y(e,r,n){if(S)return H(9,1,e,r,n)}function Me(e,r,n,l){if(S)return H(10,1,e,r,n,l)}function Ke(e,r,n,l){if(S)return H(11,1,e,r,n,l)}function Bt(e,r,n,l){if(S)return H(12,1,e,r,n,l)}function kt(e){if(S)return H(13,1,e)}function Wt(e,r){if(S)return H(14,1,e,r)}function Nt(e,r,n){if(S)return H(15,1,e,r,n)}function mt(e){e>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(f(),e>>>2,e).value.then(ft),e+=128,Atomics.store(f(),e>>>2,1))}u.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=nr,!fe))try{if(e(),!(0<Fe))try{S?Ot(x):qe(x)}catch(r){r instanceof Re||r=="unwind"||X(1,r)}}catch(r){r instanceof Re||r=="unwind"||X(1,r)}};u.checkMailbox=ft;var gt=[],$e=e=>e%4===0&&(e%100!==0||e%400===0),Ht=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,r,n,l,b,y,v,V){return S?H(16,1,e,r,n,l,b,y,v,V):-52}function Yt(e,r,n,l,b,y,v){if(S)return H(17,1,e,r,n,l,b,y,v)}var ht=[],yt={},jt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"},r;for(r in yt)yt[r]===void 0?delete e[r]:e[r]=yt[r];var n=[];for(r in e)n.push(`${r}=${e[r]}`);bt=n}return bt},bt;function zt(e,r){if(S)return H(18,1,e,r);e>>>=0,r>>>=0;var n=0;return jt().forEach((l,b)=>{var y=r+n;for(b=w()[e+4*b>>>2>>>0]=y,y=0;y<l.length;++y)a()[b++>>>0]=l.charCodeAt(y);a()[b>>>0]=0,n+=l.length+1}),0}function qt(e,r){if(S)return H(19,1,e,r);e>>>=0,r>>>=0;var n=jt();w()[e>>>2>>>0]=n.length;var l=0;return n.forEach(b=>l+=b.length+1),w()[r>>>2>>>0]=l,0}function Vt(e){return S?H(20,1,e):52}function Jt(e,r,n,l){return S?H(21,1,e,r,n,l):52}function Xt(e,r,n,l,b){return S?H(22,1,e,r,n,l,b):70}var Hr=[null,[],[]];function Qt(e,r,n,l){if(S)return H(23,1,e,r,n,l);r>>>=0,n>>>=0,l>>>=0;for(var b=0,y=0;y<n;y++){var v=w()[r>>>2>>>0],V=w()[r+4>>>2>>>0];r+=8;for(var Ce=0;Ce<V;Ce++){var de=h()[v+Ce>>>0],me=Hr[e];de===0||de===10?((e===1?Ue:oe)(O(me,0)),me.length=0):me.push(de)}b+=V}return w()[l>>>2>>>0]=b,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function Gr(e){var r=Array(pe(e)+1);return se(e,r,0,r.length),r}var $r=(e,r)=>{a().set(e,r>>>0)};function er(e,r,n,l){function b(p,N,J){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=J[0]+p;return p}function y(p,N){return b(p,N,"0")}function v(p,N){function J(fr){return 0>fr?-1:0<fr?1:0}var ke;return(ke=J(p.getFullYear()-N.getFullYear()))===0&&(ke=J(p.getMonth()-N.getMonth()))===0&&(ke=J(p.getDate()-N.getDate())),ke}function V(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Ce(p){var N=p.Qa;for(p=new Date(new Date(p.Ra+1900,0,1).getTime());0<N;){var J=p.getMonth(),ke=($e(p.getFullYear())?Zt:Kt)[J];if(N>ke-p.getDate())N-=ke-p.getDate()+1,p.setDate(1),11>J?p.setMonth(J+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return J=new Date(p.getFullYear()+1,0,4),N=V(new Date(p.getFullYear(),0,4)),J=V(J),0>=v(N,p)?0>=v(J,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,l>>>=0;var de=w()[l+40>>>2>>>0];l={kb:f()[l>>>2>>>0],jb:f()[l+4>>>2>>>0],Sa:f()[l+8>>>2>>>0],Wa:f()[l+12>>>2>>>0],Ta:f()[l+16>>>2>>>0],Ra:f()[l+20>>>2>>>0],Ma:f()[l+24>>>2>>>0],Qa:f()[l+28>>>2>>>0],qb:f()[l+32>>>2>>>0],ib:f()[l+36>>>2>>>0],lb:de?A(de):""},n=A(n),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in de)n=n.replace(new RegExp(me,"g"),de[me]);var ir="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");de={"%a":p=>ir[p.Ma].substring(0,3),"%A":p=>ir[p.Ma],"%b":p=>ur[p.Ta].substring(0,3),"%B":p=>ur[p.Ta],"%C":p=>y((p.Ra+1900)/100|0,2),"%d":p=>y(p.Wa,2),"%e":p=>b(p.Wa,2," "),"%g":p=>Ce(p).toString().substring(2),"%G":Ce,"%H":p=>y(p.Sa,2),"%I":p=>(p=p.Sa,p==0?p=12:12<p&&(p-=12),y(p,2)),"%j":p=>{for(var N=0,J=0;J<=p.Ta-1;N+=($e(p.Ra+1900)?Zt:Kt)[J++]);return y(p.Wa+N,3)},"%m":p=>y(p.Ta+1,2),"%M":p=>y(p.jb,2),"%n":()=>`\n`,"%p":p=>0<=p.Sa&&12>p.Sa?"AM":"PM","%S":p=>y(p.kb,2),"%t":()=>"	","%u":p=>p.Ma||7,"%U":p=>y(Math.floor((p.Qa+7-p.Ma)/7),2),"%V":p=>{var N=Math.floor((p.Qa+7-(p.Ma+6)%7)/7);if(2>=(p.Ma+371-p.Qa-2)%7&&N++,N)N==53&&(J=(p.Ma+371-p.Qa)%7,J==4||J==3&&$e(p.Ra)||(N=1));else{N=52;var J=(p.Ma+7-p.Qa-1)%7;(J==4||J==5&&$e(p.Ra%400-1))&&N++}return y(N,2)},"%w":p=>p.Ma,"%W":p=>y(Math.floor((p.Qa+7-(p.Ma+6)%7)/7),2),"%y":p=>(p.Ra+1900).toString().substring(2),"%Y":p=>p.Ra+1900,"%z":p=>{p=p.ib;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.lb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in de)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),de[me](l)));return n=n.replace(/\\0\\0/g,"%"),me=Gr(n),me.length>r?0:($r(me,e),me.length-1)}T.Va();var Yr=[ze,Je,o,U,ae,Qe,Ze,c,W,Y,Me,Ke,Bt,kt,Wt,Nt,$t,Yt,zt,qt,Vt,Jt,Xt,Qt],jr={b:function(e,r,n){throw e>>>=0,new Ge(e).Va(r>>>0,n>>>0),Xe=e,t++,Xe},L:function(e){tr(e>>>0,!k,1,!B,131072,!1),T.$a()},j:function(e){e>>>=0,S?postMessage({cmd:"cleanupThread",thread:e}):T.Ya(T.La[e])},H:s,h:U,S:ae,D:Qe,F:Ze,T:c,Q:W,J:Y,P:Me,n:Ke,E:Bt,B:kt,R:Wt,C:Nt,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(ft):S?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=T.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,n,l,b){r>>>=0,n>>>=0,gt.length=l,b=b>>>0>>>3;for(var y=0;y<l;y++)gt[y]=g()[b+y>>>0];return e=r?He[r]:Yr[e],T.eb=n,n=e(...gt),T.eb=0,n},K:mt,o:function(e){F&&T.La[e>>>0].ref()},s:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),r=($e(e.getFullYear())?Ht:Gt)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=r,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=l&&e.getTimezoneOffset()==Math.min(l,r))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=r.getTimezoneOffset(),b=new Date(r.getFullYear(),6,1).getTimezoneOffset(),y=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(y,b);return 0>n?f()[e+32>>>2>>>0]=+(b!=y&&v==l):0<n!=(v==l)&&(b=Math.max(y,b),r.setTime(r.getTime()+6e4*((0<n?v:b)-l))),f()[e+24>>>2>>>0]=r.getDay(),n=($e(r.getFullYear())?Ht:Gt)[r.getMonth()]+r.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=r.getSeconds(),f()[e+4>>>2>>>0]=r.getMinutes(),f()[e+8>>>2>>>0]=r.getHours(),f()[e+12>>>2>>>0]=r.getDate(),f()[e+16>>>2>>>0]=r.getMonth(),f()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),e=isNaN(e)?-1:e/1e3,ar((Te=e,1<=+Math.abs(Te)?0<Te?+Math.floor(Te/4294967296)>>>0:~~+Math.ceil((Te-+(~~Te>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:Yt,y:function(e,r,n,l){e>>>=0,r>>>=0,n>>>=0,l>>>=0;var b=new Date().getFullYear(),y=new Date(b,0,1),v=new Date(b,6,1);b=y.getTimezoneOffset();var V=v.getTimezoneOffset(),Ce=Math.max(b,V);w()[e>>>2>>>0]=60*Ce,f()[r>>>2>>>0]=+(b!=V),e=de=>de.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],y=e(y),v=e(v),V<b?(K(y,n,17),K(v,l,17)):(K(y,l,17),K(v,n,17))},c:()=>{re("")},O:function(e,r,n){e>>>=0,r>>>=0,n>>>=0,ht.length=0;for(var l;l=h()[r++>>>0];){var b=l!=105;b&=l!=112,n+=b&&n%8?4:0,ht.push(l==112?w()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=b?8:4}return He[e](...ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Fe+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>F?(yr(),tt(hr)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=h().length;if(e<=r||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=r*(1+.2/n);l=Math.min(l,e+100663296);var b=Math;l=Math.max(e,l);e:{b=(b.min.call(b,4294901760,l+(65536-l%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(b),te();var y=1;break e}catch{}y=void 0}if(y)return!0}return!1},M:zt,N:qt,G:qe,g:Vt,m:Jt,v:Xt,l:Qt,a:j||u.wasmMemory,w:er,d:function(e,r,n,l){return er(e>>>0,r>>>0,n>>>0,l>>>0)}},M=function(){function e(n,l){return M=n.exports,M=zr(),T.ab.push(M.ya),ut=M.za,ge.unshift(M.V),De=l,Pe(),M}var r={a:jr};if(Ae++,u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(n){oe(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return at(r,function(n){e(n.instance,n.module)}).catch(P),{}}();u._OrtInit=(e,r)=>(u._OrtInit=M.W)(e,r),u._OrtGetLastError=(e,r)=>(u._OrtGetLastError=M.X)(e,r),u._OrtCreateSessionOptions=(e,r,n,l,b,y,v,V,Ce,de)=>(u._OrtCreateSessionOptions=M.Y)(e,r,n,l,b,y,v,V,Ce,de),u._OrtAppendExecutionProvider=(e,r)=>(u._OrtAppendExecutionProvider=M.Z)(e,r),u._OrtAddFreeDimensionOverride=(e,r,n)=>(u._OrtAddFreeDimensionOverride=M._)(e,r,n),u._OrtAddSessionConfigEntry=(e,r,n)=>(u._OrtAddSessionConfigEntry=M.$)(e,r,n),u._OrtReleaseSessionOptions=e=>(u._OrtReleaseSessionOptions=M.aa)(e),u._OrtCreateSession=(e,r,n)=>(u._OrtCreateSession=M.ba)(e,r,n),u._OrtReleaseSession=e=>(u._OrtReleaseSession=M.ca)(e),u._OrtGetInputOutputCount=(e,r,n)=>(u._OrtGetInputOutputCount=M.da)(e,r,n),u._OrtGetInputName=(e,r)=>(u._OrtGetInputName=M.ea)(e,r),u._OrtGetOutputName=(e,r)=>(u._OrtGetOutputName=M.fa)(e,r),u._OrtFree=e=>(u._OrtFree=M.ga)(e),u._OrtCreateTensor=(e,r,n,l,b,y)=>(u._OrtCreateTensor=M.ha)(e,r,n,l,b,y),u._OrtGetTensorData=(e,r,n,l,b)=>(u._OrtGetTensorData=M.ia)(e,r,n,l,b),u._OrtReleaseTensor=e=>(u._OrtReleaseTensor=M.ja)(e),u._OrtCreateRunOptions=(e,r,n,l)=>(u._OrtCreateRunOptions=M.ka)(e,r,n,l),u._OrtAddRunConfigEntry=(e,r,n)=>(u._OrtAddRunConfigEntry=M.la)(e,r,n),u._OrtReleaseRunOptions=e=>(u._OrtReleaseRunOptions=M.ma)(e),u._OrtCreateBinding=e=>(u._OrtCreateBinding=M.na)(e),u._OrtBindInput=(e,r,n)=>(u._OrtBindInput=M.oa)(e,r,n),u._OrtBindOutput=(e,r,n,l)=>(u._OrtBindOutput=M.pa)(e,r,n,l),u._OrtClearBoundOutputs=e=>(u._OrtClearBoundOutputs=M.qa)(e),u._OrtReleaseBinding=e=>(u._OrtReleaseBinding=M.ra)(e),u._OrtRunWithBinding=(e,r,n,l,b)=>(u._OrtRunWithBinding=M.sa)(e,r,n,l,b),u._OrtRun=(e,r,n,l,b,y,v,V)=>(u._OrtRun=M.ta)(e,r,n,l,b,y,v,V),u._OrtEndProfiling=e=>(u._OrtEndProfiling=M.ua)(e);var lt=u._pthread_self=()=>(lt=u._pthread_self=M.va)();u._malloc=e=>(u._malloc=M.wa)(e),u._free=e=>(u._free=M.xa)(e),u.__emscripten_tls_init=()=>(u.__emscripten_tls_init=M.ya)();var tr=u.__emscripten_thread_init=(e,r,n,l,b,y)=>(tr=u.__emscripten_thread_init=M.Aa)(e,r,n,l,b,y);u.__emscripten_thread_crashed=()=>(u.__emscripten_thread_crashed=M.Ba)();var rr=(e,r,n,l,b)=>(rr=M.Ca)(e,r,n,l,b),wt=e=>(wt=M.Da)(e),Ot=u.__emscripten_thread_exit=e=>(Ot=u.__emscripten_thread_exit=M.Ea)(e),nr=()=>(nr=M.Fa)(),ar=e=>(ar=M.Ga)(e),or=(e,r)=>(or=M.Ha)(e,r),ct=e=>(ct=M.Ia)(e),vt=e=>(vt=M.Ja)(e),_t=()=>(_t=M.Ka)();function zr(){var e=M;e=Object.assign({},e);var r=l=>()=>l()>>>0,n=l=>b=>l(b)>>>0;return e.va=r(e.va),e.wa=n(e.wa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=n(e.Ja),e.Ka=r(e.Ka),e}u.wasmMemory=j,u.stackSave=()=>_t(),u.stackRestore=e=>ct(e),u.stackAlloc=e=>vt(e),u.keepRuntimeAlive=()=>0<Fe,u.UTF8ToString=A,u.stringToUTF8=K,u.lengthBytesUTF8=pe,u.ExitStatus=Re,u.PThread=T;var dt;he=function e(){dt||sr(),dt||(he=e)};function sr(){if(!(0<Ae))if(S)_(u),S||Ie(ge),startWorker(u);else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Se.unshift(u.preRun.shift());Ie(Se),0<Ae||dt||(dt=!0,u.calledRun=!0,fe||(S||Ie(ge),_(u),S||Ie(Ne)))}}return sr(),R}})();typeof wr=="object"&&typeof xt=="object"?xt.exports=br:typeof define=="function"&&define.amd&&define([],()=>br)});var vr=et((bn,tn)=>{tn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\\n\'});var Er;Er=pr();var rn=Or(),Pt,Ut=!1,pt=!1,_r=!1,nn=i=>{if(i===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+i+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+i+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},an=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},on=(i,d)=>i?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async i=>{if(Ut)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(_r)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=i.initTimeout,a=i.numThreads,h=i.simd,f=nn(a),w=h&&an(),g=i.wasmPaths,u=typeof g=="string"?g:void 0,_=on(w,f),P=typeof g=="object"?g[_]:void 0,R=!1,D=[];if(d>0&&D.push(new Promise(L=>{setTimeout(()=>{R=!0,L()},d)})),D.push(new Promise((L,X)=>{let B=f?rn:Er,k={locateFile:(F,S)=>f&&F.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([vr()],{type:"text/javascript"})):F.endsWith(".wasm")?P||(u??S)+_:S+F};if(f)if(k.numThreads=a,typeof Blob>"u")k.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let F=`var ortWasmThreaded=${B.toString()};`;k.mainScriptUrlOrBlob=new Blob([F],{type:"text/javascript"})}B(k).then(F=>{pt=!1,Ut=!0,Pt=F,L()},F=>{pt=!1,_r=!0,X(F)})})),await Promise.race(D),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},Z=()=>{if(Ut&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var z=(i,d)=>{let a=Z(),h=a.lengthBytesUTF8(i)+1,f=a._malloc(h);return a.stringToUTF8(i,f,h),d.push(f),f},rt=(i,d,a,h)=>{if(typeof i=="object"&&i!==null){if(a.has(i))throw new Error("Circular reference in options");a.add(i)}Object.entries(i).forEach(([f,w])=>{let g=d?d+f:f;if(typeof w=="object")rt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},q=i=>{let d=Z(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let f=d.HEAP32[h/4],w=d.HEAPU32[h/4+1],g=w?d.UTF8ToString(w):"";throw new Error(`${i} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Ar=i=>{let d=Z(),a=0,h=[],f=i||{};try{if(i?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(f.terminate=!1);let w=0;return i?.tag!==void 0&&(w=z(i.tag,h)),a=d._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,w),a===0&&q("Can\'t create run options."),i?.extra!==void 0&&rt(i.extra,"",new WeakSet,(g,u)=>{let _=z(g,h),P=z(u,h);d._OrtAddRunConfigEntry(a,_,P)!==0&&q(`Can\'t set a run config entry: ${g} - ${u}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),w}};var sn=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},un=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},fn=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let d=i.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(i.enableMemPattern=!1)},ln=(i,d,a)=>{for(let h of d){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let u=z("deviceType",a),_=z(g.deviceType,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let u=g.numThreads;(typeof u!="number"||!Number.isInteger(u)||u<0)&&(u=0);let _=z("numThreads",a),P=z(u.toString(),a);Z()._OrtAddSessionConfigEntry(i,_,P)!==0&&q(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let u=z("powerPreference",a),_=z(g.powerPreference,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let u=z("preferredLayout",a),_=z(g.preferredLayout,a);Z()._OrtAddSessionConfigEntry(i,u,_)!==0&&q(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let w=z(f,a);Z()._OrtAppendExecutionProvider(i,w)!==0&&q(`Can\'t append execution provider: ${f}.`)}},Tr=i=>{let d=Z(),a=0,h=[],f=i||{};fn(f);try{let w=sn(f.graphOptimizationLevel??"all"),g=un(f.executionMode??"sequential"),u=typeof f.logId=="string"?z(f.logId,h):0,_=f.logSeverityLevel??2;if(!Number.isInteger(_)||_<0||_>4)throw new Error(`log serverity level is not valid: ${_}`);let P=f.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let R=typeof f.optimizedModelFilePath=="string"?z(f.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(w,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,u,_,P,R),a===0&&q("Can\'t create session options."),f.executionProviders&&ln(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let D=z("enableGraphCapture",h),L=z(f.enableGraphCapture.toString(),h);d._OrtAddSessionConfigEntry(a,D,L)!==0&&q(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[D,L]of Object.entries(f.freeDimensionOverrides)){if(typeof D!="string")throw new Error(`free dimension override name must be a string: ${D}`);if(typeof L!="number"||!Number.isInteger(L)||L<0)throw new Error(`free dimension override value must be a non-negative integer: ${L}`);let X=z(D,h);d._OrtAddFreeDimensionOverride(a,X,L)!==0&&q(`Can\'t set a free dimension override: ${D} - ${L}.`)}return f.extra!==void 0&&rt(f.extra,"",new WeakSet,(D,L)=>{let X=z(D,h),B=z(L,h);d._OrtAddSessionConfigEntry(a,X,B)!==0&&q(`Can\'t set a session config entry: ${D} - ${L}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),w}};var Rt=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Mr=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},Lt=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Cr=i=>{switch(i){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Dr=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Fr=i=>i==="float32"||i==="float16"||i==="int32"||i==="int64"||i==="uint32"||i==="uint8"||i==="bool",xr=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}};var Pr=async i=>{if(typeof i=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(i))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(i),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(i);if(!d.ok)throw new Error(`failed to load external data file: ${i}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${i}, no response body.`);let f=d.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(u){if(u instanceof RangeError){let _=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:_,maximum:_}).buffer}else throw u}let g=0;for(;;){let{done:u,value:_}=await f.read();if(u)break;let P=_.byteLength;new Uint8Array(w,g,P).set(_),g+=P}return new Uint8Array(w,0,h)}}else return i instanceof Blob?new Uint8Array(await i.arrayBuffer()):i instanceof Uint8Array?i:new Uint8Array(i)};var cn=(i,d)=>{Z()._OrtInit(i,d)!==0&&q("Can\'t initialize onnxruntime.")},Rr=async i=>{cn(i.wasm.numThreads,Dr(i.logLevel))},Lr=async(i,d)=>{},Ye=new Map,dn=i=>{let d=Z(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(i,h,h+4)!==0&&q("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},It=i=>{let d=Z(),a=d._malloc(i.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${i.byteLength}.`);return d.HEAPU8.set(i,a),[a,i.byteLength]},Ir=async(i,d)=>{let a,h,f=Z();Array.isArray(i)?[a,h]=i:i.buffer===f.HEAPU8.buffer?[a,h]=[i.byteOffset,i.byteLength]:[a,h]=It(i);let w=0,g=0,u=0,_=[],P=[],R=[];try{if([g,_]=Tr(d),d?.externalData&&f.mountExternalData){let I=[];for(let G of d.externalData){let ie=typeof G=="string"?G:G.path;I.push(Pr(typeof G=="string"?G:G.data).then(ee=>{f.mountExternalData(ie,ee)}))}await Promise.all(I)}w=await f._OrtCreateSession(a,h,g),w===0&&q("Can\'t create a session.");let[D,L]=dn(w),X=!!d?.enableGraphCapture,B=[],k=[],F=[];for(let I=0;I<D;I++){let G=f._OrtGetInputName(w,I);G===0&&q("Can\'t get an input name."),P.push(G),B.push(f.UTF8ToString(G))}for(let I=0;I<L;I++){let G=f._OrtGetOutputName(w,I);G===0&&q("Can\'t get an output name."),R.push(G);let ie=f.UTF8ToString(G);k.push(ie)}let S=null;return Ye.set(w,[w,P,R,S,X,!1]),[w,B,k]}catch(D){throw P.forEach(L=>f._OrtFree(L)),R.forEach(L=>f._OrtFree(L)),u!==0&&f._OrtReleaseBinding(u),w!==0&&f._OrtReleaseSession(w),D}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),_.forEach(D=>f._free(D)),f.unmountExternalData?.()}},Br=i=>{let d=Z(),a=Ye.get(i);if(!a)throw new Error(`cannot release session. invalid session id: ${i}`);let[h,f,w,g,u]=a;g&&(u&&d._OrtClearBoundOutputs(g.handle),d._OrtReleaseBinding(g.handle)),d.jsepOnReleaseSession?.(i),f.forEach(_=>d._OrtFree(_)),w.forEach(_=>d._OrtFree(_)),d._OrtReleaseSession(h),Ye.delete(i)},Ur=(i,d,a,h,f,w=!1)=>{if(!i){d.push(0);return}let g=Z(),u=i[0],_=i[1],P=i[3],R,D;if(u==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w&&P!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(P==="gpu-buffer"){let B=i[2].gpuBuffer,k=Lt(Rt(u));D=_.reduce((F,S)=>F*S,1)*k,R=g.jsepRegisterBuffer(h,f,B,D)}else{let B=i[2];if(Array.isArray(B)){D=4*B.length,R=g._malloc(D),a.push(R);let k=R/4;for(let F=0;F<B.length;F++){if(typeof B[F]!="string")throw new TypeError(`tensor data at index ${F} is not a string`);g.HEAPU32[k++]=z(B[F],a)}}else D=B.byteLength,R=g._malloc(D),a.push(R),g.HEAPU8.set(new Uint8Array(B.buffer,B.byteOffset,D),R)}let L=g.stackSave(),X=g.stackAlloc(4*_.length);try{let B=X/4;_.forEach(F=>g.HEAP32[B++]=F);let k=g._OrtCreateTensor(Rt(u),R,D,X,_.length,xr(P));k===0&&q(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),d.push(k)}finally{g.stackRestore(L)}},kr=async(i,d,a,h,f,w)=>{let g=Z(),u=Ye.get(i);if(!u)throw new Error(`cannot run inference. invalid session id: ${i}`);let _=u[0],P=u[1],R=u[2],D=u[3],L=u[4],X=u[5],B=d.length,k=h.length,F=0,S=[],I=[],G=[],ie=[],ee=g.stackSave(),E=g.stackAlloc(B*4),$=g.stackAlloc(B*4),ve=g.stackAlloc(k*4),xe=g.stackAlloc(k*4);try{[F,S]=Ar(w);for(let x=0;x<B;x++)Ur(a[x],I,ie,i,d[x],L);for(let x=0;x<k;x++)Ur(f[x],G,ie,i,B+h[x],L);let ue=E/4,Ue=$/4,oe=ve/4,j=xe/4;for(let x=0;x<B;x++)g.HEAPU32[ue++]=I[x],g.HEAPU32[Ue++]=P[d[x]];for(let x=0;x<k;x++)g.HEAPU32[oe++]=G[x],g.HEAPU32[j++]=R[h[x]];g.jsepOnRunStart?.(_);let De;De=await g._OrtRun(_,$,E,B,xe,k,ve,F),De!==0&&q("failed to call OrtRun().");let fe=[];for(let x=0;x<k;x++){let le=g.HEAPU32[ve/4+x];if(le===G[x]){fe.push(f[x]);continue}let _e=g.stackSave(),ce=g.stackAlloc(4*4),Ee=!1,ne,te=0;try{g._OrtGetTensorData(le,ce,ce+4,ce+8,ce+12)!==0&&q(`Can\'t access output tensor data on index ${x}.`);let Se=ce/4,ge=g.HEAPU32[Se++];te=g.HEAPU32[Se++];let Ne=g.HEAPU32[Se++],Ae=g.HEAPU32[Se++],ye=[];for(let re=0;re<Ae;re++)ye.push(g.HEAPU32[Ne/4+re]);g._OrtFree(Ne);let he=ye.reduce((re,Q)=>re*Q,1);ne=Mr(ge);let Pe=D?.outputPreferredLocations[h[x]];if(ne==="string"){if(Pe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Q=te/4;for(let be=0;be<he;be++){let we=g.HEAPU32[Q++],Oe=be===he-1?void 0:g.HEAPU32[Q]-we;re.push(g.UTF8ToString(we,Oe))}fe.push([ne,ye,re,"cpu"])}else if(Pe==="gpu-buffer"&&he>0){let re=g.jsepGetBuffer(te),Q=Lt(ge);if(Q===void 0||!Fr(ne))throw new Error(`Unsupported data type: ${ne}`);Ee=!0,fe.push([ne,ye,{gpuBuffer:re,download:g.jsepCreateDownloader(re,he*Q,ne),dispose:()=>{g._OrtReleaseTensor(le)}},"gpu-buffer"])}else{let re=Cr(ne),Q=new re(he);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(g.HEAPU8.subarray(te,te+Q.byteLength)),fe.push([ne,ye,Q,"cpu"])}}finally{g.stackRestore(_e),ne==="string"&&te&&g._free(te),Ee||g._OrtReleaseTensor(le)}}return D&&!L&&(g._OrtClearBoundOutputs(D.handle),Ye.set(i,[_,P,R,D,L,!1])),fe}finally{g.stackRestore(ee),I.forEach(ue=>g._OrtReleaseTensor(ue)),G.forEach(ue=>g._OrtReleaseTensor(ue)),ie.forEach(ue=>g._free(ue)),F!==0&&g._OrtReleaseRunOptions(F),S.forEach(ue=>g._free(ue))}},Wr=i=>{let d=Z(),a=Ye.get(i);if(!a)throw new Error("invalid session id");let h=a[0],f=d._OrtEndProfiling(h);f===0&&q("Can\'t get an profile file name."),d._OrtFree(f)},Nr=i=>{let d=[];for(let a of i){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=i=>{let{type:d,in:a}=i.data;try{switch(d){case"init-wasm":Sr(a.wasm).then(()=>{Rr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Lr(f,h).then(()=>{postMessage({type:d})},w=>{postMessage({type:d,err:w})});break}case"copy-from":{let{buffer:h}=a,f=It(h);postMessage({type:d,out:f});break}case"create":{let{model:h,options:f}=a;Ir(h,f).then(w=>{postMessage({type:d,out:w})},w=>{postMessage({type:d,err:w})});break}case"release":Br(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:f,inputs:w,outputIndices:g,options:u}=a;kr(h,f,w,g,new Array(g.length).fill(null),u).then(_=>{_.some(P=>P[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:_},Nr([...w,..._]))},_=>{postMessage({type:d,err:_})});break}case"end-profiling":Wr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'});var Qe,Ae,Et,jt,Yt,Er,_r,ut,ft,za,Gt,ia,sa,ua,fa,la,ca,da,Tr=H(()=>{"use strict";Je();aa();it();Qe=()=>!!G.wasm.proxy&&typeof document<"u",Et=!1,jt=!1,Yt=!1,_r=new Map,ut=(t,r)=>{let n=_r.get(t);n?n.push(r):_r.set(t,[r])},ft=()=>{if(Et||!jt||Yt||!Ae)throw new Error("worker not ready")},za=t=>{switch(t.data.type){case"init-wasm":Et=!1,t.data.err?(Yt=!0,Er[1](t.data.err)):(jt=!0,Er[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=_r.get(t.data.type);t.data.err?r.shift()[1](t.data.err):r.shift()[0](t.data.out);break}default:}},Gt=typeof document<"u"?document?.currentScript?.src:void 0,ia=async()=>{if(!jt){if(Et)throw new Error("multiple calls to 'initWasm()' detected.");if(Yt)throw new Error("previous call to 'initWasm()' failed.");if(Et=!0,Qe())return G.wasm.wasmPaths===void 0&&Gt&&Gt.indexOf("blob:")!==0&&(G.wasm.wasmPaths=Gt.substr(0,+Gt.lastIndexOf("/")+1)),new Promise((t,r)=>{Ae?.terminate();let n=URL.createObjectURL(new Blob([oa()],{type:"text/javascript"}));Ae=new Worker(n,{name:"ort-wasm-proxy-worker"}),Ae.onerror=o=>r(o),Ae.onmessage=za,URL.revokeObjectURL(n),Er=[t,r];let f={type:"init-wasm",in:G};Ae.postMessage(f)});try{await Hn(G.wasm),await Qn(G),jt=!0}catch(t){throw Yt=!0,t}finally{Et=!1}}},sa=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("init-ep",[r,n]);let f={type:"init-ep",in:{epName:t,env:G}};Ae.postMessage(f)});await Zn(G,t)},ua=async t=>Qe()?(ft(),new Promise((r,n)=>{ut("copy-from",[r,n]);let f={type:"copy-from",in:{buffer:t}};Ae.postMessage(f,[t.buffer])})):Or(t),fa=async(t,r)=>{if(Qe()){if(r?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ft(),new Promise((n,f)=>{ut("create",[n,f]);let o={type:"create",in:{model:t,options:r}},m=[];t instanceof Uint8Array&&m.push(t.buffer),Ae.postMessage(o,m)})}else return Kn(t,r)},la=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("release",[r,n]);let f={type:"release",in:t};Ae.postMessage(f)});ea(t)},ca=async(t,r,n,f,o,m)=>{if(Qe()){if(n.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(o.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return ft(),new Promise((d,s)=>{ut("run",[d,s]);let y=n,h={type:"run",in:{sessionId:t,inputIndices:r,inputs:y,outputIndices:f,options:m}};Ae.postMessage(h,na(y))})}else return ta(t,r,n,f,o,m)},da=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("end-profiling",[r,n]);let f={type:"end-profiling",in:t};Ae.postMessage(f)});ra(t)}});var pa,Va,zt,ma=H(()=>{"use strict";Je();Tr();br();vr();pa=(t,r)=>{switch(t.location){case"cpu":return[t.type,t.dims,t.data,"cpu"];case"gpu-buffer":return[t.type,t.dims,{gpuBuffer:t.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${t.location} for ${r()}`)}},Va=t=>{switch(t[3]){case"cpu":return new le(t[0],t[2],t[1]);case"gpu-buffer":{let r=t[0];if(!$t(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:n,download:f,dispose:o}=t[2];return le.fromGpuBuffer(n,{dataType:r,dims:t[1],download:f,dispose:o})}default:throw new Error(`invalid data location: ${t[3]}`)}},zt=class{async fetchModelAndCopyToWasmMemory(r){return ua(await Ot(r))}async loadModel(r,n){Ne();let f;typeof r=="string"?typeof process<"u"&&process.versions&&process.versions.node?f=await Ot(r):f=await this.fetchModelAndCopyToWasmMemory(r):f=r,[this.sessionId,this.inputNames,this.outputNames]=await fa(f,n),We()}async dispose(){return la(this.sessionId)}async run(r,n,f){Ne();let o=[],m=[];Object.entries(r).forEach(v=>{let S=v[0],x=v[1],D=this.inputNames.indexOf(S);if(D===-1)throw new Error(`invalid input '${S}'`);o.push(x),m.push(D)});let d=[],s=[];Object.entries(n).forEach(v=>{let S=v[0],x=v[1],D=this.outputNames.indexOf(S);if(D===-1)throw new Error(`invalid output '${S}'`);d.push(x),s.push(D)});let y=o.map((v,S)=>pa(v,()=>`input "${this.inputNames[m[S]]}"`)),h=d.map((v,S)=>v?pa(v,()=>`output "${this.outputNames[s[S]]}"`):null),O=await ca(this.sessionId,m,y,s,h,f),E={};for(let v=0;v<O.length;v++)E[this.outputNames[s[v]]]=d[v]??Va(O[v]);return We(),E}startProfiling(){}endProfiling(){da(this.sessionId)}}});var qa,Vt,ha=H(()=>{"use strict";Je();Tr();ma();qa=()=>{if((typeof G.wasm.initTimeout!="number"||G.wasm.initTimeout<0)&&(G.wasm.initTimeout=0),typeof G.wasm.simd!="boolean"&&(G.wasm.simd=!0),typeof G.wasm.proxy!="boolean"&&(G.wasm.proxy=!1),typeof G.wasm.trace!="boolean"&&(G.wasm.trace=!1),typeof G.wasm.numThreads!="number"||!Number.isInteger(G.wasm.numThreads)||G.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(G.wasm.numThreads=1);let t=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;G.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}},Vt=class{async init(r){qa(),await ia(),await sa(r)}async createInferenceSessionHandler(r,n){let f=new zt;return await f.loadModel(r,n),Promise.resolve(f)}}});var ga={};at(ga,{wasmBackend:()=>Xa});var Xa,ya=H(()=>{"use strict";ha();Xa=new Vt});var Qa={};at(Qa,{InferenceSession:()=>vn,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>Ne,TRACE_FUNC_END:()=>We,Tensor:()=>le,TrainingSession:()=>Tn,default:()=>Ja,env:()=>G,registerBackend:()=>ot});Je();Je();Je();var Sn="1.18.0";var Ja=ur;{let t=(ya(),Ve(ga)).wasmBackend;ot("cpu",t,10),ot("wasm",t,10)}Object.defineProperty(G.versions,"web",{value:Sn,enumerable:!0});return Ve(Qa);})();
//# sourceMappingURL=ort.wasm.min.js.map
